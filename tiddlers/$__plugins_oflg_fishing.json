<<<<<<< HEAD
<<<<<<< HEAD
{"tiddlers":{"$:/plugins/oflg/fishing/action-fishing.js":{"title":"$:/plugins/oflg/fishing/action-fishing.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/action-fishing.js\ntype: application/javascript\nmodule-type: widget\nUse Free Spaced Repetition Scheduler: https://github.com/open-spaced-repetition/free-spaced-repetition-scheduler.\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    var Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\n    var FishingWidget = function (parseTreeNode, options) {\n        this.initialise(parseTreeNode, options);\n    };\n\n    /*\n    Inherit from the base widget class\n    */\n    FishingWidget.prototype = new Widget();\n\n    /*\n    Render this widget into the DOM\n    */\n    FishingWidget.prototype.render = function (parent, nextSibling) {\n        this.computeAttributes();\n        this.execute();\n    };\n\n    /*\n    Compute the internal state of the widget\n    */\n    FishingWidget.prototype.execute = function () {\n        this.actionTiddler = this.getAttribute(\"$tiddler\", this.getVariable(\"currentTiddler\"));\n        this.actionGrade = this.getAttribute(\"$grade\");\n        this.actionTimestamp = this.getAttribute(\"$timestamp\", \"yes\") === \"yes\";\n    };\n\n    /*\n    Refresh the widget by ensuring our attributes are up to date\n    */\n    FishingWidget.prototype.refresh = function (changedTiddlers) {\n        var changedAttributes = this.computeAttributes();\n        if (changedAttributes[\"$tiddler\"] || changedAttributes[\"$grade\"] || changedAttributes[\"$timestamp\"]) {\n            this.refreshSelf();\n            return true;\n        }\n        return this.refreshChildren(changedTiddlers);\n    };\n\n    /*\n    Invoke the action associated with this widget\n    */\n    FishingWidget.prototype.invokeAction = function (triggeringWidget, event) {\n        var title = this.actionTiddler,//The title of the tiddler is the id of the tiddler.\n            grade = (this.actionGrade == \"0\" || this.actionGrade == \"1\" || this.actionGrade == \"2\") ? this.actionGrade : \"-1\";//Ratings for review have 0, 1, 2. Other ratings mean learn new tiddler.\n\n\n        var difficultyDecay = -0.7,\n            stabilityDecay = -0.2,\n            increaseFactor = 60;\n\n        var requestRecall = Number($tw.wiki.filterTiddlers(\"[{$:/plugins/oflg/fishing/data!!requestRecall}]\")[0]),\n            data = JSON.parse($tw.wiki.filterTiddlers(\"[{$:/plugins/oflg/fishing/data}]\")[0]);\n\n        var totalCase = data.totalCase,\n            totalDiff = data.totalDiff,\n            totalReview = data.totalReview,\n            defaultDifficulty = data.defaultDifficulty,\n            defaultStability = data.defaultStability,\n            stabilityDataArry = data.stabilityDataArry;\n\n        var due, interval, difficulty, stability, retrievability, lapses, reps, review, history;\n\n        review = new Date().toISOString().replace(/-|T|:|\\.|Z/g, \"\");\n\n        if (grade == \"-1\") {// learn new tiddler\n            var addDay = Math.round(defaultStability * Math.log(requestRecall) / Math.log(0.9));\n\n            due = $tw.wiki.filterTiddlers(\"[[\" + addDay + \"]due[]]\")[0];\n            interval = 0;\n            difficulty = defaultDifficulty;\n            stability = defaultStability;\n            retrievability = 1;\n            grade = \"-1\";\n            reps = 1;\n            lapses = 0;\n            history = \"[]\";\n        } else {// review tiddler after learn\n            var lastFieldsData = $tw.wiki.getTiddler(title).fields;\n\n            var lastDifficulty = Number(lastFieldsData[\"difficulty\"]),\n                lastStability = Number(lastFieldsData[\"stability\"]),\n                lastLapses = Number(lastFieldsData[\"lapses\"]),\n                lastReps = Number(lastFieldsData[\"reps\"]),\n                lastReview = String(lastFieldsData[\"review\"]),\n                lastHistory = JSON.parse(lastFieldsData[\"history\"]);\n\n            interval = $tw.wiki.filterTiddlers(\"[[\" + lastReview + \"]interval[]]\")[0];\n            retrievability = Math.exp(Math.log(0.9) * interval / lastStability);\n            difficulty = Math.min(Math.max(lastDifficulty + retrievability - grade + 0.2, 1), 10);\n\n            if (grade == \"0\") {\n                stability = defaultStability * Math.exp(-0.3 * (lastLapses + 1));\n\n                if (lastReps > 1) {\n                    totalDiff = totalDiff - retrievability;\n                }\n                lapses = lastLapses + 1;\n                reps = 1;\n            } else {//grade == \"1\" || grade == \"2\"\n                stability = lastStability * (1 + increaseFactor * Math.pow(difficulty, difficultyDecay) * Math.pow(lastStability, stabilityDecay) * (Math.exp(1 - retrievability) - 1));\n\n                if (lastReps > 1) {\n                    totalDiff = totalDiff + 1 - retrievability;\n                }\n                lapses = lastLapses;\n                reps = lastReps + 1;\n            }\n\n            totalCase = totalCase + 1;\n            totalReview = totalReview + 1;\n\n            var addDay = Math.round(stability * Math.log(requestRecall) / Math.log(0.9));\n\n            due = $tw.wiki.filterTiddlers(\"[[\" + addDay + \"]due[]]\")[0];\n\n            lastHistory.push({\n                due,\n                interval,\n                difficulty,\n                stability,\n                retrievability,\n                grade,\n                lapses,\n                reps,\n                review\n            });\n\n            history = JSON.stringify(lastHistory);\n\n            // Adaptive defaultDifficulty\n            if (totalCase > 100) {\n                defaultDifficulty = 1 / Math.pow(totalReview, 0.3) * Math.pow(Math.log(requestRecall) / Math.log(requestRecall + totalDiff / totalCase), 1 / difficultyDecay) * 5 + (1 - 1 / Math.pow(totalReview, 0.3)) * defaultDifficulty;\n\n                totalDiff = 0\n                totalCase = 0\n            }\n\n            // Adaptive defaultStability\n            if (lastReps === 1 && lastLapses === 0) {\n                stabilityDataArry.push({\n                    interval: interval,\n                    retrievability: grade === \"0\" ? 0 : 1\n                });\n\n                if (stabilityDataArry.length > 0 && stabilityDataArry.length % 50 === 0) {\n                    var intervalSetArry = [];\n\n                    var sumRI2S = 0,\n                        sumI2S = 0;\n                    for (var s = 0; s < stabilityDataArry.length; s++) {\n                        var ivl = stabilityDataArry[s].interval;\n\n                        if (intervalSetArry.indexOf(ivl) === -1) {\n\n                            intervalSetArry.push(ivl);\n\n                            var filterArry = stabilityDataArry.filter(function (fi) {\n                                return fi.interval === ivl;\n                            });\n\n                            var retrievabilitySum = filterArry.reduce((sum, e) => sum + e.retrievability, 0);\n\n                            if (retrievabilitySum > 0) {\n                                sumRI2S = sumRI2S + ivl * Math.log(retrievabilitySum / filterArry.length) * filterArry.length;\n                                sumI2S = sumI2S + ivl * ivl * filterArry.length;\n                            }\n                        }\n                    }\n                    defaultStability = (Math.max(Math.log(0.9) / (sumRI2S / sumI2S), 0.1) + defaultStability) / 2;\n                }\n            }\n        }\n\n        var creationFields = this.actionTimestamp ? this.wiki.getCreationFields() : undefined,\n            modificationFields = this.actionTimestamp ? this.wiki.getModificationFields() : undefined;\n\n        this.wiki.addTiddler(\n            new $tw.Tiddler(creationFields, this.wiki.getTiddler(title), modificationFields, {\n                due,\n                interval,\n                difficulty,\n                stability,\n                retrievability,\n                lapses,\n                reps,\n                grade,\n                review,\n                history\n            })\n        );\n\n        this.wiki.addTiddler(\n            new $tw.Tiddler(creationFields, this.wiki.getTiddler(\"$:/plugins/oflg/fishing/data\"), modificationFields, {\n                text: JSON.stringify({\n                    totalCase,\n                    totalDiff,\n                    totalReview,\n                    defaultDifficulty,\n                    defaultStability,\n                    stabilityDataArry\n                })\n            })\n        );\n\n        return true;// Action was invoked\n    };\n\n    exports[\"action-fishing\"] = FishingWidget;\n})();","type":"application/javascript","module-type":"widget","Use Free Spaced Repetition Scheduler":"https://github.com/open-spaced-repetition/free-spaced-repetition-scheduler."},"$:/plugins/oflg/fishing/buttons/commonfilter":{"title":"$:/plugins/oflg/fishing/buttons/commonfilter","tags":"$:/tags/fishingrod/Button","text":"<$reveal\n    default={{{[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]count[]]}}}\n    type=\"gt\"\n    text=\"0\"\n    animate=\"yes\"\n>\n    <$button\n        tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[commonfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[commonfiltertip]]}}}\n        aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[commonfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[commonfiltertip]]}}}\n        popup=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishingrod/fishingline\">>\n        class=\"tc-btn-invisible\"\n        style=\"margin:0;padding:0 5px;width:auto;height:auto;\"\n    >\n        {{$:/core/images/down-arrow}}\n    </$button>\n</$reveal>\n<$reveal\n    state=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishingrod/fishingline\">>\n    type=\"popup\"\n    position=\"below\"\n    animate=\"yes\"\n>\n    <div\n        class=\"tc-drop-down\"\n        style=\"min-width:0;font-size:10pt;\"\n    >\n        <$list\n            filter=\"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]sort[title]]\"\n            variable=\"fishingrod\"\n        >\n            <$button\n                tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fillfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fillfiltertip]]+[addsuffix<fishingrod>]}}}\n                aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fillfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fillfiltertip]]+[addsuffix<fishingrod>]}}}\n                popup=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishingrod/fishingline\">>\n                class=\"tc-btn-invisible\"\n            >\n                <$action-setfield\n                    $tiddler=\"$:/temp/fishing\"\n                    fishingrod=<<fishingrod>>\n                />\n                <$text text={{{[<fishingrod>addprefix[$:/plugins/oflg/fishing/fishingrod/]get[caption]]~[<fishingrod>]}}}/>\n            </$button>\n        </$list>\n    </div>\n</$reveal>\n<$reveal\n    default={{{[{$:/temp/fishing!!fishingrod}]}}}\n    type=\"nomatch\"\n    text=\"\"\n    animate=\"yes\"\n>\n    <$reveal\n        default={{{[{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]is[missing]]}}}\n        type=\"nomatch\"\n        text=\"\"\n        animate=\"yes\"\n    >\n        <$button\n            tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[pinfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[pinfiltertip]]+[addsuffix{$:/temp/fishing!!fishingrod}]}}}\n            aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[pinfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[pinfiltertip]]+[addsuffix{$:/temp/fishing!!fishingrod}]}}}\n            class=\"tc-btn-invisible\" style=\"margin:0;padding:0 5px;\"\n        >\n            <$action-setfield\n                $tiddler={{{[{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]]}}}\n                type=\"application/json\"\n            />\n            {{$:/core/images/new-button}}\n        </$button>\n    </$reveal>\n    <$reveal\n        default={{{[{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]is[missing]]}}}\n        type=\"match\"\n        text=\"\"\n        animate=\"yes\"\n    >\n        <$button\n            tooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[unpinfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[unpinfiltertip]]+[addsuffix{$:/temp/fishing!!fishingrod}]}}}\n            aria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[unpinfiltertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[unpinfiltertip]]+[addsuffix{$:/temp/fishing!!fishingrod}]}}}\n            class=\"tc-btn-invisible\"\n            style=\"margin:0;padding:0 5px;\"\n        >\n            <$action-deletetiddler\n                $tiddler={{{[{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]]}}}\n            />\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                fishingrod=\"\"\n            />\n            {{$:/core/images/delete-button}}\n        </$button>\n    </$reveal>\n</$reveal>"},"$:/plugins/oflg/fishing/buttons/exciseexcerpt":{"title":"$:/plugins/oflg/fishing/buttons/exciseexcerpt","tags":"$:/tags/EditorToolbar","icon":"$:/plugins/oflg/fishing/icons/exciseexcerpt","caption":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[exciseexcerpt]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[exciseexcerpt]]}}}/>","description":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[exciseexcerpttip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[exciseexcerpttip]]}}}/>","condition":"[<targetTiddler>tag[?]]~[<targetTiddler>get[draft.of]match{$:/temp/fishing!!fish}]","shortcuts":"((fishing-exciseexcerpt))","text":"<$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"excisefish\"\n\texciseCaption=\"{{||Excerpt}}\"\n/>"},"$:/plugins/oflg/fishing/buttons/excisequestion":{"title":"$:/plugins/oflg/fishing/buttons/excisequestion","tags":"$:/tags/EditorToolbar","icon":"$:/plugins/oflg/fishing/icons/excisequestion","caption":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[excisequestion]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[excisequestion]]}}}/>","description":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[excisequestiontip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[excisequestiontip]]}}}/>","condition":"[<targetTiddler>tag[?]]~[<targetTiddler>get[draft.of]match{$:/temp/fishing!!fish}]","shortcuts":"((fishing-excisequestion))","text":"<$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"excisefish\"\n/>"},"$:/plugins/oflg/fishing/buttons/markclozeoption":{"title":"$:/plugins/oflg/fishing/buttons/markclozeoption","tags":"$:/tags/EditorToolbar","icon":"$:/plugins/oflg/fishing/icons/markclozeoption","caption":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[markclozeoption]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[markclozeoption]]}}}/>","description":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[markclozeoptiontip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[markclozeoptiontip]]}}}/>","condition":"[<targetTiddler>tag[?]]~[<targetTiddler>get[draft.of]match{$:/temp/fishing!!fish}]","shortcuts":"((fishing-markclozeoption))","text":"<$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix=\"__\"\n\tsuffix=\"__\"\n/>\n"},"$:/plugins/oflg/fishing/buttons/marktitle":{"title":"$:/plugins/oflg/fishing/buttons/marktitle","tags":"$:/tags/EditorToolbar","icon":"$:/plugins/oflg/fishing/icons/marktitle","caption":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[marktitle]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[marktitle]]}}}/>","description":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[marktitletip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[marktitletip]]}}}/>","condition":"[<targetTiddler>tag[?]]~[<targetTiddler>get[draft.of]match{$:/temp/fishing!!fish}]","shortcuts":"((fishing-marktitle))","text":"<$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"wrap-selection\"\n\tprefix=\"__''\"\n\tsuffix=\"''__\"\n/>\n"},"$:/plugins/oflg/fishing/buttons/setcloze":{"title":"$:/plugins/oflg/fishing/buttons/setcloze","tags":"$:/tags/EditorToolbar","icon":"$:/plugins/oflg/fishing/icons/setcloze","caption":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setcloze]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setcloze]]}}}/>","description":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setclozetip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setclozetip]]}}}/>","condition":"[<targetTiddler>]","shortcuts":"((fishing-setcloze))","text":"\\define tv-action-refresh-policy() always\n\n<$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"save-selection\"\n\ttiddler=\"$:/temp/fishing\"\n\tfield=\"save-selection\"\n/>\n\n<$list\n    filter=\"[<targetTiddler>]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"?\"\n            />\n            <$action-setfield\n                $tiddler=<<targetTiddler>>\n                draft.title={{{[{$:/temp/fishing!!save-selection}!is[blank]]~[<targetTiddler>get[draft.title]]}}}\n                caption=\"{{||Cloze}}\"\n            />\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/buttons/setexcerpt":{"title":"$:/plugins/oflg/fishing/buttons/setexcerpt","tags":"$:/tags/EditorToolbar","icon":"$:/plugins/oflg/fishing/icons/setexcerpt","caption":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setexcerpt]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setexcerpt]]}}}/>","description":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setexcerpttip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setexcerpttip]]}}}/>","condition":"[<targetTiddler>]","shortcuts":"((fishing-setexcerpt))","text":"\\define tv-action-refresh-policy() always\n\n<$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"save-selection\"\n\ttiddler=\"$:/temp/fishing\"\n\tfield=\"save-selection\"\n/>\n\n<$list\n    filter=\"[<targetTiddler>]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"?\"\n            />\n            <$action-setfield\n                $tiddler=<<targetTiddler>>\n                draft.title={{{[{$:/temp/fishing!!save-selection}!is[blank]]~[<targetTiddler>get[draft.title]]}}}\n                caption=\"{{||Excerpt}}\"\n            />\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/buttons/setquestion":{"title":"$:/plugins/oflg/fishing/buttons/setquestion","tags":"$:/tags/EditorToolbar","icon":"$:/plugins/oflg/fishing/icons/setquestion","caption":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setquestion]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setquestion]]}}}/>","description":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setquestiontip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setquestiontip]]}}}/>","condition":"[<targetTiddler>]","shortcuts":"((fishing-setquestion))","text":"\\define tv-action-refresh-policy() always\n\n<$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"save-selection\"\n\ttiddler=\"$:/temp/fishing\"\n\tfield=\"save-selection\"\n/>\n\n<$list\n    filter=\"[<targetTiddler>]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"?\"\n            />\n            <$action-setfield\n                $tiddler=<<targetTiddler>>\n                draft.title={{{[{$:/temp/fishing!!save-selection}!is[blank]]~[<targetTiddler>get[draft.title]]}}}\n                caption=\"{{||Question}}\"\n            />\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/buttons/setselect":{"title":"$:/plugins/oflg/fishing/buttons/setselect","tags":"$:/tags/EditorToolbar","icon":"$:/plugins/oflg/fishing/icons/setselect","caption":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setselect]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setselect]]}}}/>","description":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setselecttip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setselecttip]]}}}/>","condition":"[<targetTiddler>]","shortcuts":"((fishing-setselect))","text":"\\define tv-action-refresh-policy() always\n\n<$action-sendmessage\n\t$message=\"tm-edit-text-operation\"\n\t$param=\"save-selection\"\n\ttiddler=\"$:/temp/fishing\"\n\tfield=\"save-selection\"\n/>\n\n<$list\n    filter=\"[<targetTiddler>]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"?\"\n            />\n            <$action-setfield\n                $tiddler=<<targetTiddler>>\n                draft.title={{{[{$:/temp/fishing!!save-selection}!is[blank]]~[<targetTiddler>get[draft.title]]}}}\n                caption=\"{{||Select}}\"\n            />\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/data":{"title":"$:/plugins/oflg/fishing/data","type":"application/json","requestRecall":"0.9","requestInterval":"1","text":"{\n    \"totalCase\": 0,\n    \"totalDiff\": 0,\n    \"totalReview\": 0,\n    \"defaultDifficulty\": 5,\n    \"defaultStability\": 2,\n    \"stabilityDataArry\": []\n}\n"},"$:/plugins/oflg/fishing/due.js":{"title":"$:/plugins/oflg/fishing/due.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/due.js\ntype: application/javascript\nmodule-type: filteroperator\n\nCalculate the due of tiddler\n\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    /*\n    Export our filter function\n    */\n    exports.due = function (source, operator, options) {\n        var results = [];\n        source(function (tiddler, title) {\n            var addDay = Number(title) >= 1 ? Number(title) : 1;\n\n            var dateTime = addDay * 86400000 + new Date().getTime();\n            var due = new Date(dateTime).toISOString().replace(/-|T|:|\\.|Z/g, \"\");\n\n            results.push(due);\n        });\n        return results;\n    };\n\n})();","type":"application/javascript","module-type":"filteroperator"},"$:/plugins/oflg/fishing/excisefish.js":{"title":"$:/plugins/oflg/fishing/excisefish.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/excisefish.js\ntype: application/javascript\nmodule-type: texteditoroperation\n\nText editor operation to excise the selection to a new fishing qa tiddler.\nBased on TW's core/modules/editor/operations/text/excise.js\n\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    exports[\"excisefish\"] = function (event, operation) {\n        if (operation.selection) {\n\n            var selectionText = operation.selection,\n                exciseCaption = event.paramObject.exciseCaption;\n\n            var editTiddlerTitle = this.editTitle;\n\n            var editTiddler = $tw.wiki.getTiddler(editTiddlerTitle);\n\n            if (editTiddler && editTiddler.fields[\"draft.title\"]) {//is draft tiddler\n                editTiddlerTitle = editTiddler.fields[\"draft.title\"];\n            }\n\n            var tags = [editTiddlerTitle, \"?\"],\n                priority = editTiddler.fields[\"priority\"] || 0;\n\n            var rTitle = editTiddlerTitle + \"/\" + new Date(new Date().getTime()).toISOString().replace(/-|T|:|\\.|Z/g, \"\");\n\n            if (exciseCaption === \"{{||Excerpt}}\") { //to excerpt tiddler\n\n                var title = selectionText.indexOf(\"''__\") !== -1 ? selectionText.split(\"''__\")[0].split(\"__''\").slice(-1)[0] : rTitle,\n                    text = selectionText.indexOf(\"''__\") !== -1 ? selectionText.replace(title + \"''__\", \"\").replace(\"__''\", \"\") : operation.selection,\n                    caption = \"{{||Excerpt}}\",\n                    interval = Number($tw.wiki.filterTiddlers(\"[{$:/plugins/oflg/fishing/data!!requestInterval}]\")[0]),\n                    due = $tw.wiki.filterTiddlers(\"[[\" + interval + \"]due[]]\")[0];\n\n                title = $tw.wiki.generateNewTitle(title.replace(/\\||\\{|\\}|\\[|\\]|\\'/g, \"\"));\n\n                $tw.wiki.addTiddler(\n                    new $tw.Tiddler($tw.wiki.getCreationFields(), $tw.wiki.getModificationFields(), {\n                        title,\n                        text,\n                        caption,\n                        tags,\n                        priority,\n                        due,\n                        interval\n                    })\n                );\n\n            } else {// default to question tiddler\n                var nTitle = selectionText.split(\"\\n\")[0];\n\n                if (nTitle.indexOf(\"''__\") == -1 && nTitle.indexOf(\"__\") !== -1) { //Select or Cloze question tiddler\n\n                    var title = nTitle,\n                        text = selectionText.replace(nTitle, \"\");\n\n                    if (/^[0-9A-I]+$/.test(nTitle.split(\"__\").slice(-1)[0])) {\n\n                        var caption = \"{{||Select}}\";\n\n                    } else {\n\n                        var caption = \"{{||Cloze}}\";\n\n                    }\n\n                } else { //Q&A question tiddler\n\n                    var title = selectionText.indexOf(\"''__\") !== -1 ? selectionText.split(\"''__\")[0].split(\"__''\").slice(-1)[0] : rTitle,\n                        text = selectionText.indexOf(\"''__\") !== -1 ? selectionText.replace(title + \"''__\", \"\").replace(\"__''\", \"\") : operation.selection,\n                        caption = \"{{||Question}}\";\n                }\n\n                title = $tw.wiki.generateNewTitle(title.replace(/\\||\\{|\\}|\\[|\\]|\\'/g, \"\"));\n\n                $tw.wiki.addTiddler(\n                    new $tw.Tiddler($tw.wiki.getCreationFields(), $tw.wiki.getModificationFields(), {\n                        title,\n                        text,\n                        caption,\n                        tags,\n                        priority\n                    })\n                );\n\n                $tw.rootWidget.invokeActionString(\"<$action-fishing $tiddler='\" + title + \"' $grade='learn'/>\");\n            }\n\n            if (editTiddler.type === \"text/x-markdown\") {\n\n                operation.replacement = \"[[\" + title + \"]]{{\" + title + \"}}\";\n\n            } else {\n\n                operation.replacement = \"\\n[[\" + title + \"]]\\n\\n<<<.tc-fish-quote\\n{{\" + title + \"}}\\n<<<\\n\\n\";\n\n            }\n\n            operation.cutStart = operation.selStart;\n            operation.cutEnd = operation.selEnd;\n            operation.newSelStart = operation.selStart;\n            operation.newSelEnd = operation.selStart + operation.replacement.length;\n        }\n    }\n})();","type":"application/javascript","module-type":"texteditoroperation"},"$:/plugins/oflg/fishing/fishhead":{"title":"$:/plugins/oflg/fishing/fishhead","tags":"$:/tags/ViewTemplate","list-after":"$:/core/ui/ViewTemplate/title","text":"<$reveal\n  default={{{[<currentTiddler>tag[?]][<currentTiddler>has[due]][<currentTiddler>match{$:/temp/fishing!!fish}]}}}\n  type=\"nomatch\"\n  text=\"\"\n  animate=\"yes\"\n>\n  <div\n    class=\"tc-fish-title\"\n  >\n    <$reveal\n      state=<<folded-state>>\n      type=\"match\"\n      text=\"hide\"\n      animate=\"yes\"\n    >\n      <span\n          style=\"font-size:7px;line-height:10px;\"\n      >\n        <<fishbreadcrumbs>>\n        <span\n          class=\"tc-tags-wrapper\"\n        >\n          <$list\n            filter=\"[[?]][all[current]tags[]sort[title]]-[all[current]backlinks[]]\"\n            template=\"$:/core/ui/TagTemplate\"\n            storyview=\"pop\"\n          />\n        </span>\n      </span>\n    </$reveal>\n  </div>\n    <$reveal\n      state=\"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar\"\n      type=\"nomatch\"\n      text=\"show\"\n      animate=\"yes\"\n    >\n        <$reveal\n            tag=\"div\"\n            type=\"nomatch\"\n            stateTitle=<<folded-state>>\n            text=\"hide\"\n            default=\"show\"\n            retain=\"yes\"\n            animate=\"yes\"\n        >\n            <$button\n            tooltip={{$:/language/Buttons/Fold/Hint}}\n            aria-label={{$:/language/Buttons/Fold/Caption}}\n            class=\"tc-fold-banner\"\n            >\n            <$action-sendmessage\n                $message=\"tm-fold-tiddler\"\n                $param=<<currentTiddler>>\n                foldedState=<<folded-state>>\n            />\n            {{$:/core/images/chevron-up}}\n            </$button>\n        </$reveal>\n        <$reveal\n            tag=\"div\"\n            type=\"nomatch\"\n            stateTitle=<<folded-state>>\n            text=\"show\"\n            default=\"show\"\n            retain=\"yes\"\n            animate=\"yes\"\n        >\n            <$button\n            tooltip={{$:/language/Buttons/Unfold/Hint}}\n            aria-label={{$:/language/Buttons/Unfold/Caption}}\n            class=\"tc-unfold-banner\"\n            >\n            <$action-sendmessage\n                $message=\"tm-fold-tiddler\"\n                $param=<<currentTiddler>>\n                foldedState=<<folded-state>>\n            />\n            {{$:/core/images/chevron-down}}\n            </$button>\n        </$reveal>\n    </$reveal>\n</$reveal>"},"$:/plugins/oflg/fishing/fishing":{"title":"$:/plugins/oflg/fishing/fishing","tags":"$:/tags/ViewTemplate","text":"<$reveal\n\tdefault={{$:/temp/fishing!!fish}}\n\ttype=\"match\"\n\ttext=<<currentTiddler>>\n\tanimate=\"yes\"\n>\n\t<$reveal\n\t\tstate=<<folded-state>>\n\t\ttype=\"nomatch\"\n\t\ttext=\"hide\"\n\t\tanimate=\"yes\"\n\t>\n            \n        ---\n\n\t\t<div\n\t\t\tstyle=\"display:flex;justify-content:space-between;\"\n\t\t>\n\t\t\t<!-- creat fishingpond -->\n\t\t\t<div>\n\t\t\t\t{{$:/plugins/oflg/fishing/fishingpond}}\n\t\t\t</div>\n\t\t\t<!-- creat ease button -->\n\t\t\t<div>\n\t\t\t\t<$fieldmangler>\n\t\t\t\t\t<$list\n\t\t\t\t\t\tfilter=\"learn forget remember grasp\"\n\t\t\t\t\t\tvariable=\"ease\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<$reveal\n\t\t\t\t\t\t\tdefault={{{[<currentTiddler>has[retrievability]then[review]else[learnnew]]}}}\n\t\t\t\t\t\t\ttype=\"match\"\n\t\t\t\t\t\t\ttext={{{[<ease>match[learn]then[learnnew]else[review]]}}}\n\t\t\t\t\t\t\tanimate=\"yes\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<$let\n\t\t\t\t\t\t\t\teasetip={{{[<ease>addsuffix[tip]]}}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<$button\n\t\t\t\t\t\t\t\t\ttooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex<easetip>]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex<easetip>]}}}\n\t\t\t\t\t\t\t\t\taria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex<easetip>]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex<easetip>]}}}\n\t\t\t\t\t\t\t\t\tclass=\"tc-btn-invisible tc-tiddlylink\"\n\t\t\t\t\t\t\t\t\tstyle={{{[<ease>match[learn]then[margin-left:10px;color:green;]]~[<ease>match[forget]then[margin-left:10px;color:red;]]~[<ease>match[remember]then[margin-left:10px;color:green;]]~[<ease>match[grasp]then[margin-left:10px;color:blue;]]}}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<$action-sendmessage\n\t\t\t\t\t\t\t\t\t\t$message=\"tm-add-tag\"\n\t\t\t\t\t\t\t\t\t\t$param=\"?\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<$reveal\n\t\t\t\t\t\t\t\t\t\tdefault={{{[<currentTiddler>search:caption:literal[{{||Excerpt}}]]}}}\n\t\t\t\t\t\t\t\t\t\ttype=\"match\"\n\t\t\t\t\t\t\t\t\t\ttext=\"\"\n\t\t\t\t\t\t\t\t\t\tanimate=\"yes\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<$action-fishing\n\t\t\t\t\t\t\t\t\t\t\t$grade={{{[<ease>match[learn]then[learn]]~[<ease>match[forget]then[0]]~[<ease>match[remember]then[1]]~[<ease>match[grasp]then[2]]}}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</$reveal>\n\t\t\t\t\t\t\t\t\t<$reveal\n\t\t\t\t\t\t\t\t\t\tdefault={{{[<currentTiddler>search:caption:literal[{{||Excerpt}}]]}}}\n\t\t\t\t\t\t\t\t\t\ttype=\"nomatch\"\n\t\t\t\t\t\t\t\t\t\ttext=\"\"\n\t\t\t\t\t\t\t\t\t\tanimate=\"yes\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t\t\t\t\t\tinterval={{{[<currentTiddler>get[interval]]~[[0]]+[add[1]]}}}\n\t\t\t\t\t\t\t\t\t\t\tdue={{{[<currentTiddler>get[interval]]~[[0]]+[add[1]due[]]}}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</$reveal>\n                                    <$list\n                                        filter=\"[<currentTiddler>tags[]]:intersection[<currentTiddler>backlinks[]]+[search:caption:literal[{{||Excerpt}}]]\"\n                                        variable=\"backexcerpt\"\n                                    >\n                                        <$action-setfield\n                                            $tiddler=<<backexcerpt>>\n                                            $timestamp=\"no\"\n                                            interval={{{[<ease>match[learn]then[0]]~[<ease>match[forget]then[1]]~[<ease>match[remember]then[0]]~[<ease>match[grasp]then[-1]][<backexcerpt>get[interval]]+[sum[]]}}}\n                                        />\n                                    </$list>\n\t\t\t\t\t\t\t\t\t<$action-deletetiddler\n\t\t\t\t\t\t\t\t\t\t$tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t\t\t\t\t$tiddler=\"$:/temp/fishing\"\n\t\t\t\t\t\t\t\t\t\ttext=\"\"\n\t\t\t\t\t\t\t\t\t\ttype=\"\"\n\t\t\t\t\t\t\t\t\t\tfish={{{[subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}first[]]}}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t\t\t\t\t$tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n\t\t\t\t\t\t\t\t\t\ttext={{{[{$:/temp/fishing!!fish}search:caption:literal[{{||Excerpt}}]then[show]else[hide]]}}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<$action-sendmessage\n\t\t\t\t\t\t\t\t\t\t$message=\"tm-close-tiddler\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<$action-navigate\n\t\t\t\t\t\t\t\t\t\t$to={{$:/temp/fishing!!fish}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex<ease>]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex<ease>]}}}/>\n\t\t\t\t\t\t\t\t</$button>\n\t\t\t\t\t\t\t</$let>\n\t\t\t\t\t\t</$reveal>\n\t\t\t\t\t</$list>\n\t\t\t\t\t<!-- creat more button -->\n\t\t\t\t\t<$button\n\t\t\t\t\t\tpopup=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishing/more\">>\n\t\t\t\t\t\ttooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[moretip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[moretip]]}}}\n\t\t\t\t\t\taria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[moretip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[moretip]]}}}\n\t\t\t\t\t\tclass=\"tc-btn-invisible tc-tiddlylink\"\n\t\t\t\t\t\tstyle=\"margin-left:10px;\"\n\t\t\t\t\t>\n\t\t\t\t\t\t⁝\n\t\t\t\t\t</$button>\n\t\t\t\t\t<$reveal\n\t\t\t\t\t\tstate=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishing/more\">>\n\t\t\t\t\t\ttype=\"popup\"\n\t\t\t\t\t\tposition=\"aboveleft\"\n\t\t\t\t\t\tanimate=\"yes\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"tc-drop-down\"\n\t\t\t\t\t\t\tstyle=\"min-width:0px;\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<$button\n\t\t\t\t\t\t\t\ttooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[discardtip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[discardtip]]}}}\n\t\t\t\t\t\t\t\taria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[discardtip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[discardtip]]}}}\n\t\t\t\t\t\t\t\tclass=\"tc-btn-invisible tc-tiddlylink\"\n\t\t\t\t\t\t\t\tstyle=\"padding:3px 10px;\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<$action-sendmessage\n\t\t\t\t\t\t\t\t\t$message=\"tm-remove-tag\"\n\t\t\t\t\t\t\t\t\t$param=\"?\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-deletefield\n\t\t\t\t\t\t\t\t\tdue\n\t\t\t\t\t\t\t\t\tinterval\n\t\t\t\t\t\t\t\t\tdifficulty\n\t\t\t\t\t\t\t\t\tstability\n\t\t\t\t\t\t\t\t\tretrievability\n\t\t\t\t\t\t\t\t\tlapses\n\t\t\t\t\t\t\t\t\treps\n\t\t\t\t\t\t\t\t\treview\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t\t\t\t$tiddler=\"$:/temp/fishing\"\n\t\t\t\t\t\t\t\t\ttext=\"\"\n\t\t\t\t\t\t\t\t\ttype=\"\"\n\t\t\t\t\t\t\t\t\tfish={{{[subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}first[]]}}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t\t\t\t$tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n\t\t\t\t\t\t\t\t\ttext={{{[{$:/temp/fishing!!fish}search:caption:literal[{{||Excerpt}}]then[show]else[hide]]}}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-sendmessage\n\t\t\t\t\t\t\t\t\t$message=\"tm-close-tiddler\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-navigate\n\t\t\t\t\t\t\t\t\t$to={{$:/temp/fishing!!fish}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[discard]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[discard]]}}}/>\n\t\t\t\t\t\t\t</$button>\n\t\t\t\t\t\t\t<$button\n\t\t\t\t\t\t\t\ttooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[add7tip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[add7tip]]}}}\n\t\t\t\t\t\t\t\taria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[add7tip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[add7tip]]}}}\n\t\t\t\t\t\t\t\tclass=\"tc-btn-invisible tc-tiddlylink\"\n\t\t\t\t\t\t\t\tstyle=\"padding:3px 10px;\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t\t\t\tdue={{{[[7]due[]]}}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t\t\t\t$tiddler=\"$:/temp/fishing\"\n\t\t\t\t\t\t\t\t\ttext=\"\"\n\t\t\t\t\t\t\t\t\ttype=\"\"\n\t\t\t\t\t\t\t\t\tfish={{{[subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}first[]]}}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t\t\t\t$tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n\t\t\t\t\t\t\t\t\ttext={{{[{$:/temp/fishing!!fish}search:caption:literal[{{||Excerpt}}]then[show]else[hide]]}}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-sendmessage\n\t\t\t\t\t\t\t\t\t$message=\"tm-close-tiddler\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-navigate\n\t\t\t\t\t\t\t\t\t$to={{$:/temp/fishing!!fish}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t+ 7\n\t\t\t\t\t\t\t</$button>\n\t\t\t\t\t\t\t<$button\n\t\t\t\t\t\t\t\ttooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[add1tip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[add1tip]]}}}\n\t\t\t\t\t\t\t\taria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[add1tip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[add1tip]]}}}\n\t\t\t\t\t\t\t\tclass=\"tc-btn-invisible tc-tiddlylink\"\n\t\t\t\t\t\t\t\tstyle=\"padding:3px 10px;\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t\t\t\tdue={{{[[1]due[]]}}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t\t\t\t$tiddler=\"$:/temp/fishing\"\n\t\t\t\t\t\t\t\t\ttext=\"\"\n\t\t\t\t\t\t\t\t\ttype=\"\"\n\t\t\t\t\t\t\t\t\tfish={{{[subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}first[]]}}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t\t\t\t$tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n\t\t\t\t\t\t\t\t\ttext={{{[{$:/temp/fishing!!fish}search:caption:literal[{{||Excerpt}}]then[show]else[hide]]}}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-sendmessage\n\t\t\t\t\t\t\t\t\t$message=\"tm-close-tiddler\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<$action-navigate\n\t\t\t\t\t\t\t\t\t$to={{$:/temp/fishing!!fish}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t+ 1\n\t\t\t\t\t\t\t</$button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</$reveal>\n\t\t\t\t</$fieldmangler>\n\t\t\t</div>\n\t\t</div>\n\t</$reveal>\n</$reveal>"},"$:/plugins/oflg/fishing/fishingfloat":{"title":"$:/plugins/oflg/fishing/fishingfloat","caption":"{{$:/plugins/oflg/fishing/icon}} <$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fishing]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fishing]]}}}/>","description":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fishingtip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fishingtip]]}}}/>","tags":"$:/tags/PageControls","text":"<!-- creat fishingfloat -->\n<$button\n\tpopup=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishingdeck\">>\n\ttooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fishingtip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fishingtip]]}}}\n\taria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fishingtip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fishingtip]]}}}\n\tclass=<<tv-config-toolbar-class>>\n\tselectedClass=\"tc-selected\"\n>\n\t<span class=\"tc-image-down-arrow tc-image-button\">\n\t\t{{$:/plugins/oflg/fishing/icon}}\n\t</span>\n</$button>\n<!-- creat fishingdeck -->\n<$reveal\n\tstate=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishingdeck\">>\n\ttype=\"popup\"\n\tposition=\"below\"\n\tanimate=\"yes\"\n>\n\t<div\n\t\tclass=\"tc-drop-down tc-popup-keep\"\n\t\tstyle=\"min-width:0;\"\n\t>\n\t\t<!-- creat fishingpond -->\n\t\t{{$:/plugins/oflg/fishing/fishingpond}}\n\t\t<!-- creat fishingrod -->\n\t\t{{$:/plugins/oflg/fishing/fishingrod}}\n\t</div>\n</$reveal>"},"$:/plugins/oflg/fishing/fishingpond":{"title":"$:/plugins/oflg/fishing/fishingpond","text":"<$set\n\tname=\"fishingrod\"\n\tvalue={{$:/temp/fishing!!fishingrod}}\n\temptyValue=\"[tag[?]]\"\n>\n\t<$let\n\t\tdue=\"[has[due]]-[has[due]!days:due[1]]+[sort[due]reverse[]sortsub:number<priority>reverse[]]\"\n\t\tundue=\"[has[due]!days:due[1]sort[due]]\"\n\t\tnew=\"[!has[due]sort[created]]\"\n\t>\n\t\t<$list\n\t\t\tfilter=\"due undue new\"\n\t\t\tvariable=\"fishingpondname\"\n\t\t>\n\t\t\t<$let\n\t\t\t\tfishingpond={{{[<fishingpondname>match[due]then<due>]~[<fishingpondname>match[undue]then<undue>]~[<fishingpondname>match[new]then<new>]}}}\n\t\t\t>\n\t\t\t\t<$button\n\t\t\t\t\ttooltip={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fishingpondtip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fishingpondtip]]}}}\n\t\t\t\t\taria-label={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fishingpondtip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fishingpondtip]]}}}\n\t\t\t\t\tclass=\"tc-btn-invisible tc-tiddlylink\"\n\t\t\t\t\tstyle=\"padding-right:10px;\"\n\t\t\t\t>\n\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t$tiddler=\"$:/temp/fishing\"\n\t\t\t\t\t\ttext=\"\"\n\t\t\t\t\t\tfishingrod=<<fishingrod>>\n\t\t\t\t\t\tfishingpond=<<fishingpond>>\n\t\t\t\t\t\tfish={{{[subfilter<fishingrod>subfilter<fishingpond>first[]]}}}\n\t\t\t\t\t/>\n\t\t\t\t\t<$action-setfield\n\t\t\t\t\t\t$tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n\t\t\t\t\t\ttext={{{[{$:/temp/fishing!!fish}search:caption:literal[{{||Excerpt}}]then[show]else[hide]]}}}\n\t\t\t\t\t/>\n\t\t\t\t\t<$action-navigate\n\t\t\t\t\t\t$to={{$:/temp/fishing!!fish}}\n\t\t\t\t\t/>\n\t\t\t\t\t<$action-popup\n\t\t\t\t\t\t$state=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishingdeck\">>\n\t\t\t\t\t\t$coords=\"\"\n\t\t\t\t\t/>\n\t\t\t\t\t<$text\n                        text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex<fishingpondname>]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex<fishingpondname>]}}}\n                    /><$count\n                        filter=\"[subfilter<fishingrod>subfilter<fishingpond>]\"\n                    />\n\t\t\t\t</$button>\n\t\t\t</$let>\n\t\t</$list>\n\t</$let>\n</$set>"},"$:/plugins/oflg/fishing/fishingrod":{"title":"$:/plugins/oflg/fishing/fishingrod","text":"<div\n\tstyle=\"margin:5px 15px;\"\n>\n\t<$edit-text\n\t\ttiddler=\"$:/temp/fishing\"\n\t\tfield=\"fishingrod\"\n\t\ttag=\"input\"\n\t\tfocus=\"true\"\n\t\tplaceholder=\"[tag[?]]\"\n\t\tinputActions='<$action-setfield $tiddler=\"$:/temp/fishing\" fish=\"\"/>'\n\t/>\n</div>\n<div\n\tstyle=\"display:flex;margin:0 15px;flex-flow:wrap;align-items:center;font-size:10pt;\"\n>\n    <$list filter=\"[all[shadows+tiddlers]tag[$:/tags/fishingrod/Button]!has[draft.of]]\">\n        <$transclude/>\n    </$list>\n</div>"},"$:/plugins/oflg/fishing/icon":{"title":"$:/plugins/oflg/fishing/icon","tags":"$:/tags/Image","text":"<svg\n\twidth=\"22pt\"\n\theight=\"22pt\"\n\tviewBox=\"0 0 1024 1022\"\n\tversion=\"1.1\"\n\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n  <g\n  \tid=\"fishingfloat\"\n  >\n  \t<path\n\t  id=\"fishthread\"\n\t  style={{{[tag[?]has[due]]-[tag[?]!days:due[1]]+[count[]compare:number:gt[0]then[fill:red;]else[]]}}}\n\t  fill-rule=\"evenodd\"\n\t  stroke=\"none\"\n\t  d=\"M625.253 505.173C676.453 453.973 748.133 320.853 710.587 238.933C696.933 208.213 659.387 170.667 567.227 170.667C516.027 174.08 464.827 150.187 423.867 109.227C393.147 78.5067 372.667 40.96 372.667 17.0667C376.08 6.82667 369.253 1.88192e-06 359.013 1.88192e-06C348.773 1.88192e-06 341.947 6.82667 341.947 17.0667C341.947 51.2 365.84 95.5733 403.387 133.12C451.173 180.907 512.613 204.8 574.053 204.8C632.08 201.387 669.627 218.453 683.28 252.587C710.587 317.44 652.56 433.493 604.773 484.693C601.36 488.107 623.612 505.057 625.253 505.173Z\"\n\t/>\n    <path\n\t\tid=\"fish\"\n\t\tfill-rule=\"evenodd\"\n\t\tstroke=\"none\"\n\t\td=\"M85.3333 645.533L17.0667 645.533C6.82667 645.533 0 652.36 0 662.6C0 672.84 6.82667 679.667 17.0667 679.667L85.3333 679.667C95.5733 679.667 102.4 672.84 102.4 662.6C102.4 652.36 95.5733 645.533 85.3333 645.533L85.3333 645.533ZM1006.93 645.533L768 645.533C757.76 645.533 750.933 652.36 750.933 662.6C750.933 672.84 757.76 679.667 768 679.667L1006.93 679.667C1017.17 679.667 1024 672.84 1024 662.6C1024 652.36 1017.17 645.533 1006.93 645.533L1006.93 645.533ZM51.2 816.2C40.96 816.2 34.1333 823.027 34.1333 833.267C34.1333 843.507 44.3733 850.333 51.2 850.333C61.44 850.333 68.2667 843.507 68.2667 833.267C68.2667 823.027 61.44 816.2 51.2 816.2L51.2 816.2ZM324.267 986.867C314.027 986.867 307.2 993.693 307.2 1003.93C307.2 1014.17 317.44 1021 324.267 1021C334.507 1021 341.333 1014.17 341.333 1003.93C341.333 993.693 334.507 986.867 324.267 986.867L324.267 986.867ZM426.667 986.867C416.427 986.867 409.6 993.693 409.6 1003.93C409.6 1014.17 416.427 1021 426.667 1021C436.907 1021 443.733 1014.17 443.733 1003.93C443.733 993.693 436.907 986.867 426.667 986.867L426.667 986.867ZM494.933 986.867C484.693 986.867 477.867 993.693 477.867 1003.93C477.867 1014.17 484.693 1021 494.933 1021C505.173 1021 512 1014.17 512 1003.93C512 993.693 505.173 986.867 494.933 986.867L494.933 986.867ZM836.267 816.2C826.027 816.2 819.2 823.027 819.2 833.267C819.2 843.507 826.027 850.333 836.267 850.333C846.507 850.333 853.333 843.507 853.333 833.267C853.333 823.027 846.507 816.2 836.267 816.2L836.267 816.2ZM238.933 669.427C242.347 662.6 238.933 659.187 238.933 652.36C235.52 648.947 228.693 645.534 221.867 645.534L187.733 645.534C180.907 645.534 177.493 648.947 174.08 652.36C170.667 655.773 109.227 761.587 174.08 843.507C177.493 846.92 184.32 850.333 187.733 850.333L194.56 850.333C201.387 846.92 204.8 840.094 204.8 833.267C204.8 819.614 204.8 751.347 238.933 669.427L238.933 669.427ZM732.42 815.167L653.913 815.167C681.22 743.487 746.073 576.233 711.94 525.033C705.113 514.793 691.46 507.967 677.807 507.967C653.913 507.967 625.5 507.967 625.5 507.967C625.5 507.967 599.3 484.073 599.3 487.487C582.233 470.42 582.233 449.94 582.233 426.047C582.233 419.22 578.82 415.807 575.407 412.393C571.993 408.98 565.167 408.98 558.34 412.393C237.487 548.927 237.487 815.167 237.487 832.233L237.487 839.06C237.487 839.06 237.487 842.473 240.9 842.473C240.9 842.473 240.9 845.887 244.313 845.887C244.313 845.887 247.727 845.887 247.727 849.3L735.833 849.3C746.073 849.3 752.9 842.473 752.9 832.233C752.9 821.993 742.66 815.167 732.42 815.167L732.42 815.167ZM481.28 546.547C488.107 539.72 498.347 539.72 505.173 546.547C508.587 549.96 512 553.373 512 556.787C512 560.2 508.587 567.027 508.587 567.027C505.173 570.44 501.76 573.853 494.933 573.853C491.52 573.853 484.693 570.44 481.28 567.027C477.867 570.44 477.867 563.613 477.867 560.2C477.867 556.787 481.28 549.96 481.28 546.547L481.28 546.547ZM399.36 717.214C382.293 703.56 375.467 683.08 375.467 662.6C375.467 652.36 382.293 645.534 392.533 645.534C402.773 645.534 409.6 652.36 409.6 662.6C409.6 676.253 413.013 683.08 423.253 693.32C453.973 720.627 532.48 720.627 563.2 717.213C573.44 717.213 580.267 724.04 583.68 730.867C583.68 741.107 576.853 747.933 570.027 751.347C566.613 751.347 549.547 754.76 529.067 754.76C484.693 751.347 430.08 744.52 399.36 717.213L399.36 717.214ZM597.333 884.467L324.267 884.467C314.027 884.467 307.2 891.293 307.2 901.533C307.2 911.773 314.027 918.6 324.267 918.6L597.333 918.6C607.573 918.6 614.4 911.773 614.4 901.533C614.4 891.293 607.573 884.467 597.333 884.467L597.333 884.467ZM699.733 884.467C689.493 884.467 682.667 891.293 682.667 901.533C682.667 911.773 689.493 918.6 699.733 918.6C709.973 918.6 716.8 911.773 716.8 901.533C716.8 891.293 709.973 884.467 699.733 884.467L699.733 884.467ZM221.867 884.467C211.627 884.467 204.8 891.293 204.8 901.533C204.8 911.773 215.04 918.6 221.867 918.6C232.107 918.6 238.933 911.773 238.933 901.533C238.933 891.293 232.107 884.467 221.867 884.467L221.867 884.467Z\"\n\t/>\n  </g>\n</svg>"},"$:/plugins/oflg/fishing/icons/exciseexcerpt":{"title":"$:/plugins/oflg/fishing/icons/exciseexcerpt","tags":"$:/tags/Image","text":"<svg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\" xmlns=\"http://www.w3.org/2000/svg\"\n  class=\"tc-image-excise tc-image-button\">\n  <g>\n    <path\n      fill-rule=\"evenodd\"\n      d=\"m0,40.007c0,-4.422 3.59,-8.007 8,-8.007c4.418,0 8,3.588 8,8.007l0,31.986c0,4.422 -3.59,8.007 -8,8.007c-4.418,0 -8,-3.588 -8,-8.007l0,-31.986zm32,0c0,-4.422 3.59,-8.007 8,-8.007c4.418,0 8,3.588 8,8.007l0,31.986c0,4.422 -3.59,8.007 -8,8.007c-4.418,0 -8,-3.588 -8,-8.007l0,-31.986zm48,0c0,-4.422 3.59,-8.007 8,-8.007c4.418,0 8,3.588 8,8.007l0,31.986c0,4.422 -3.59,8.007 -8,8.007c-4.418,0 -8,-3.588 -8,-8.007l0,-31.986zm-24,-32c0,-4.422 3.59,-8.007 8,-8.007c4.418,0 8,3.588 8,8.007l0,31.986c0,4.422 -3.59,8.007 -8,8.007c-4.418,0 -8,-3.588 -8,-8.007l0,-31.986zm56,32c0,-4.422 3.59,-8.007 8,-8.007c4.418,0 8,3.588 8,8.007l0,31.986c0,4.422 -3.59,8.007 -8,8.007c-4.418,0 -8,-3.588 -8,-8.007l0,-31.986z\"\n      id=\"svg_1\"\n    />\n    <text\n      font-weight=\"bold\"\n      transform=\"matrix(2.60973, 0, 0, 2.60973, -71.0161, -120.98)\"\n      xml:space=\"preserve\"\n      text-anchor=\"start\"\n      font-size=\"24\"\n      y=\"92.40182\"\n      x=\"43.73364\"\n      stroke-width=\"0\"\n      id=\"svg_5\"\n    >\n      X\n    </text>\n  </g>\n</svg>"},"$:/plugins/oflg/fishing/icons/excisequestion":{"title":"$:/plugins/oflg/fishing/icons/excisequestion","tags":"$:/tags/Image","text":"<svg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\" xmlns=\"http://www.w3.org/2000/svg\"\n  class=\"tc-image-excise tc-image-button\">\n  <g>\n    <path\n      fill-rule=\"evenodd\"\n      d=\"m0,40.007c0,-4.422 3.59,-8.007 8,-8.007c4.418,0 8,3.588 8,8.007l0,31.986c0,4.422 -3.59,8.007 -8,8.007c-4.418,0 -8,-3.588 -8,-8.007l0,-31.986zm32,0c0,-4.422 3.59,-8.007 8,-8.007c4.418,0 8,3.588 8,8.007l0,31.986c0,4.422 -3.59,8.007 -8,8.007c-4.418,0 -8,-3.588 -8,-8.007l0,-31.986zm48,0c0,-4.422 3.59,-8.007 8,-8.007c4.418,0 8,3.588 8,8.007l0,31.986c0,4.422 -3.59,8.007 -8,8.007c-4.418,0 -8,-3.588 -8,-8.007l0,-31.986zm-24,-32c0,-4.422 3.59,-8.007 8,-8.007c4.418,0 8,3.588 8,8.007l0,31.986c0,4.422 -3.59,8.007 -8,8.007c-4.418,0 -8,-3.588 -8,-8.007l0,-31.986zm56,32c0,-4.422 3.59,-8.007 8,-8.007c4.418,0 8,3.588 8,8.007l0,31.986c0,4.422 -3.59,8.007 -8,8.007c-4.418,0 -8,-3.588 -8,-8.007l0,-31.986z\"\n      id=\"svg_1\"\n    />\n    <text\n      font-weight=\"bold\"\n      transform=\"matrix(2.60973, 0, 0, 2.60973, -71.0161, -120.98)\"\n      xml:space=\"preserve\"\n      text-anchor=\"start\"\n      font-size=\"24\"\n      y=\"92.40182\"\n      x=\"43.73364\"\n      stroke-width=\"0\"\n      id=\"svg_5\"\n    >\n      Q\n    </text>\n  </g>\n</svg>"},"$:/plugins/oflg/fishing/icons/markclozeoption":{"title":"$:/plugins/oflg/fishing/icons/markclozeoption","tags":"$:/tags/Image","text":"<svg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\" xmlns=\"http://www.w3.org/2000/svg\"\n  class=\"tc-image-underline tc-image-button\">\n  <g>\n    <path\n      fill-rule=\"evenodd\"\n      d=\"M7 117.421h114.248V128H7v-10.579zm97.871-18.525V0h-16.26v55.856c0 4.463-.605 8.576-1.816 12.338-1.212 3.762-3.03 7.046-5.452 9.851-2.423 2.806-5.452 4.974-9.086 6.504-3.635 1.53-7.939 2.296-12.912 2.296-6.25 0-11.159-1.786-14.73-5.356-3.57-3.571-5.356-8.417-5.356-14.538V0H23v65.038c0 5.356.542 10.234 1.626 14.633 1.084 4.4 2.965 8.194 5.643 11.382 2.678 3.188 6.185 5.643 10.52 7.365 4.337 1.721 9.756 2.582 16.26 2.582 7.27 0 13.582-1.435 18.938-4.304 5.356-2.87 9.755-7.365 13.199-13.486h.382v15.686h15.303z\"\n      id=\"svg_1\"\n    />\n    <text\n      font-weight=\"bold\"\n      transform=\"matrix(2.60973, 0, 0, 2.60973, -68.0161, -180.98)\"\n      xml:space=\"preserve\"\n      text-anchor=\"start\"\n      font-size=\"24\"\n      y=\"92.40182\"\n      x=\"43.73364\"\n      stroke-width=\"0\"\n      id=\"svg_5\"\n    >\n      --\n    </text>\n  </g>\n</svg>"},"$:/plugins/oflg/fishing/icons/marktitle":{"title":"$:/plugins/oflg/fishing/icons/marktitle","tags":"$:/tags/Image","text":"<svg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\" xmlns=\"http://www.w3.org/2000/svg\"\n  class=\"tc-image-underline tc-image-button\">\n  <g>\n    <path\n      fill-rule=\"evenodd\"\n      d=\"M7 117.421h114.248V128H7v-10.579zm97.871-18.525V0h-16.26v55.856c0 4.463-.605 8.576-1.816 12.338-1.212 3.762-3.03 7.046-5.452 9.851-2.423 2.806-5.452 4.974-9.086 6.504-3.635 1.53-7.939 2.296-12.912 2.296-6.25 0-11.159-1.786-14.73-5.356-3.57-3.571-5.356-8.417-5.356-14.538V0H23v65.038c0 5.356.542 10.234 1.626 14.633 1.084 4.4 2.965 8.194 5.643 11.382 2.678 3.188 6.185 5.643 10.52 7.365 4.337 1.721 9.756 2.582 16.26 2.582 7.27 0 13.582-1.435 18.938-4.304 5.356-2.87 9.755-7.365 13.199-13.486h.382v15.686h15.303z\"\n      id=\"svg_1\"\n    />\n    <text\n      font-weight=\"bold\"\n      transform=\"matrix(2.60973, 0, 0, 2.60973, -70.5161, -180.98)\"\n      xml:space=\"preserve\"\n      text-anchor=\"start\"\n      font-size=\"24\"\n      y=\"92.40182\"\n      x=\"43.73364\"\n      stroke-width=\"0\"\n      id=\"svg_5\"\n    >\n      B\n    </text>\n  </g>\n</svg>"},"$:/plugins/oflg/fishing/icons/setcloze":{"title":"$:/plugins/oflg/fishing/icons/setcloze","tags":"$:/tags/Image","text":"<svg\n  width=\"22pt\"\n  height=\"22pt\"\n  viewBox=\"0 0 128 128\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n  class=\"tc-image-bold tc-image-button\"\n>\n  <g>\n    <text\n      transform=\"matrix(2.56467, 0, 0, 6.78366, -70.4793, -361.722)\"\n      font-weight=\"bold\"\n      xml:space=\"preserve\"\n      text-anchor=\"start\"\n      font-size=\"24\"\n      id=\"svg_5\"\n      y=\"71.27162\"\n      x=\"26.8242\"\n      stroke-width=\"0\"\n      >\n        →\n      </text>\n    <text\n      transform=\"matrix(3.88287, 0, 0, 6.21184, -350.205, -233.081)\"\n      font-weight=\"bold\"\n      xml:space=\"preserve\"\n      text-anchor=\"start\"\n      font-size=\"24\"\n      y=\"56.16649\"\n      x=\"106.39803\"\n      stroke-width=\"0\"\n      id=\"svg_2\"\n    >\n      C\n    </text>\n  </g>\n</svg>"},"$:/plugins/oflg/fishing/icons/setexcerpt":{"title":"$:/plugins/oflg/fishing/icons/setexcerpt","tags":"$:/tags/Image","text":"<svg\n  width=\"22pt\"\n  height=\"22pt\"\n  viewBox=\"0 0 128 128\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n  class=\"tc-image-bold tc-image-button\"\n>\n  <g>\n    <text\n      transform=\"matrix(2.56467, 0, 0, 6.78366, -70.4793, -361.722)\"\n      font-weight=\"bold\"\n      xml:space=\"preserve\"\n      text-anchor=\"start\"\n      font-size=\"24\"\n      id=\"svg_5\"\n      y=\"71.27162\"\n      x=\"26.8242\"\n      stroke-width=\"0\"\n      >\n        →\n      </text>\n    <text\n      transform=\"matrix(3.88287, 0, 0, 6.21184, -350.205, -233.081)\"\n      font-weight=\"bold\"\n      xml:space=\"preserve\"\n      text-anchor=\"start\"\n      font-size=\"24\"\n      y=\"56.16649\"\n      x=\"106.39803\"\n      stroke-width=\"0\"\n      id=\"svg_2\"\n    >\n      X\n    </text>\n  </g>\n</svg>"},"$:/plugins/oflg/fishing/icons/setquestion":{"title":"$:/plugins/oflg/fishing/icons/setquestion","tags":"$:/tags/Image","text":"<svg\n  width=\"22pt\"\n  height=\"22pt\"\n  viewBox=\"0 0 128 128\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n  class=\"tc-image-bold tc-image-button\"\n>\n  <g>\n    <text\n      transform=\"matrix(2.56467, 0, 0, 6.78366, -70.4793, -361.722)\"\n      font-weight=\"bold\"\n      xml:space=\"preserve\"\n      text-anchor=\"start\"\n      font-size=\"24\"\n      id=\"svg_5\"\n      y=\"71.27162\"\n      x=\"26.8242\"\n      stroke-width=\"0\"\n      >\n        →\n      </text>\n    <text\n      transform=\"matrix(3.88287, 0, 0, 6.21184, -350.205, -233.081)\"\n      font-weight=\"bold\"\n      xml:space=\"preserve\"\n      text-anchor=\"start\"\n      font-size=\"24\"\n      y=\"56.16649\"\n      x=\"106.39803\"\n      stroke-width=\"0\"\n      id=\"svg_2\"\n    >\n      Q\n    </text>\n  </g>\n</svg>"},"$:/plugins/oflg/fishing/icons/setselect":{"title":"$:/plugins/oflg/fishing/icons/setselect","tags":"$:/tags/Image","text":"<svg\n  width=\"22pt\"\n  height=\"22pt\"\n  viewBox=\"0 0 128 128\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n  class=\"tc-image-bold tc-image-button\"\n>\n  <g>\n    <text\n      transform=\"matrix(2.56467, 0, 0, 6.78366, -70.4793, -361.722)\"\n      font-weight=\"bold\"\n      xml:space=\"preserve\"\n      text-anchor=\"start\"\n      font-size=\"24\"\n      id=\"svg_5\"\n      y=\"71.27162\"\n      x=\"26.8242\"\n      stroke-width=\"0\"\n      >\n        →\n      </text>\n    <text\n      transform=\"matrix(3.88287, 0, 0, 6.21184, -350.205, -233.081)\"\n      font-weight=\"bold\"\n      xml:space=\"preserve\"\n      text-anchor=\"start\"\n      font-size=\"24\"\n      y=\"56.16649\"\n      x=\"106.39803\"\n      stroke-width=\"0\"\n      id=\"svg_2\"\n    >\n      S\n    </text>\n  </g>\n</svg>"},"$:/plugins/oflg/fishing/interval.js":{"title":"$:/plugins/oflg/fishing/interval.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/interval.js\ntype: application/javascript\nmodule-type: filteroperator\n\nCalculate the interval of tiddler\n\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    /*\n    Export our filter function\n    */\n    exports.interval = function (source, operator, options) {\n        var results = [];\n        source(function (tiddler, title) {\n            var twTime = title;\n\n            var twTimeDay = $tw.wiki.filterTiddlers(\"[[\" + twTime + \"]format:date[YYYY-0MM-0DD]]\")[0],\n                nowDay = new Date().toISOString().split(\"T\")[0];\n\n            var diffTime = new Date(nowDay) - new Date(twTimeDay);\n\n            var interval = String(diffTime / 86400000 || 0);\n\n            results.push(interval);\n        });\n        return results;\n    };\n\n})();\n","type":"application/javascript","module-type":"filteroperator"},"$:/plugins/oflg/fishing/languages/en-GB":{"title":"$:/plugins/oflg/fishing/languages/en-GB","type":"application/json","text":"{\n    \"fishing\": \"Fishing\",\n    \"fishingtip\": \"Incremental learning\",\n    \"exciseexcerpt\": \"Excise to Excerpt Tiddler\",\n    \"exciseexcerpttip\": \"Excise the selected text into an Excerpt Tiddler\",\n    \"excisequestion\": \"Excise to Question Tiddler\",\n    \"excisequestiontip\": \"Excise the selected text into a Question Tiddler\",\n    \"setexcerpt\": \"Set as Excerpt Tiddler\",\n    \"setexcerpttip\": \"Set this tiddler as Excerpt Tiddler and the selected text as it's title\",\n    \"setquestion\": \"Set as Q&A Question Tiddler\",\n    \"setquestiontip\": \"Set this tiddler as Q&A Question Tiddler and the selected text as it's title\",\n    \"setcloze\": \"Set as Cloze Question Tiddler\",\n    \"setclozetip\": \"Set this tiddler as Cloze Question Tiddler and the selected text as it's title\",\n    \"setselect\": \"Set as Select Question Tiddler\",\n    \"setselecttip\": \"Set this tiddler as Select Question Tiddler and the selected text as it's title\",\n    \"marktitle\": \"Mark title\",\n    \"marktitletip\": \"Mark the selected text as title of Excerpt Tiddler or Q&A Question Tiddler. For example: __''title''__\",\n    \"markclozeoption\": \"Mark cloze or option\",\n    \"markclozeoptiontip\": \"Mark the selected text as a cloze of Cloze Question Tiddler or a option of Select Question Tiddler. For example: __cloze__ or __option__\",\n    \"foldtip\": \"Unfold or fold this tiddler\",\n    \"learn\": \"next\",\n    \"learntip\": \"Learn one more\",\n    \"forget\": \"forget\",\n    \"forgettip\": \"Forget the answer\",\n    \"remember\": \"remember\",\n    \"remembertip\": \"Remember the answer\",\n    \"grasp\": \"grasp\",\n    \"grasptip\": \"Grasp the question\",\n    \"moretip\": \"More\",\n    \"discard\": \"discard\",\n    \"discardtip\": \"No more review of this tiddler\",\n    \"add7tip\": \"Review this tiddler next week\",\n    \"add1tip\": \"Review this tiddler tomorrow\",\n    \"fishingpondtip\": \"Memorize this group of tiddlers\",\n    \"due\": \"due: \",\n    \"undue\": \"undue: \",\n    \"new\": \"new: \",\n    \"commonfiltertip\": \"Commonly used Filter Expression\",\n    \"pinfiltertip\": \"Add to commonly used Filter Expression: \",\n    \"unpinfiltertip\": \"Delete this commonly used Filter Expression: \",\n    \"fillfiltertip\": \"Fill in this Filter Expression: \",\n    \"settings\": \"These settings let you customise the behaviour of Fishing.\",\n    \"setrecall\": \"Retention\",\n    \"setrecalltip\": \"Must be between 0.7 and 0.95\",\n    \"setinterval\": \"Initial interval day of Excerpt Tiddlers \",\n    \"setintervaltip\": \"Must be a positive integer\"\n}"},"$:/plugins/oflg/fishing/languages/zh-Hans":{"title":"$:/plugins/oflg/fishing/languages/zh-Hans","type":"application/json","text":"{\n    \"fishing\": \"钓鱼\",\n    \"fishingtip\": \"渐进学习\",\n    \"excisequestion\": \"剪切到问题条目\",\n    \"excisequestiontip\": \"剪切所选文本到一个问题条目\",\n    \"exciseexcerpt\": \"剪切到摘抄条目\",\n    \"exciseexcerpttip\": \"剪切所选文本到一个摘抄条目\",\n    \"setexcerpt\": \"设为摘抄条目\",\n    \"setexcerpttip\": \"设置此条目为摘抄条目及所选文本为其标题\",\n    \"setquestion\": \"设为问答题条目\",\n    \"setquestiontip\": \"设置此条目为问答题条目及所选文本为其标题\",\n    \"setcloze\": \"设为填空题条目\",\n    \"setclozetip\": \"设置此条目为填空题条目及所选文本为其标题\",\n    \"setselect\": \"设为选择题条目\",\n    \"setselecttip\": \"设置此条目为选择题条目及所选文本为其标题\",\n    \"marktitle\": \"标为标题\",\n    \"marktitletip\": \"标记所选文本为摘抄条目或问答题条目的标题。例如：__''标题''__\",\n    \"markclozeoption\": \"标为挖空或选项\",\n    \"markclozeoptiontip\": \"标记所选文本为填空题条目的一个挖空或选择题的一个选项。例如： __挖空__或__选项__\",\n    \"foldtip\": \"展开或折叠此条目\",\n    \"learn\": \"下一个\",\n    \"learntip\": \"已学习此条目再学习下一个\",\n    \"forget\": \"忘记\",\n    \"forgettip\": \"忘记答案\",\n    \"remember\": \"记得\",\n    \"remembertip\": \"记得答案\",\n    \"grasp\": \"掌握\",\n    \"grasptip\": \"掌握问题\",\n    \"moretip\": \"更多\",\n    \"discard\": \"舍弃\",\n    \"discardtip\": \"不再复习此条目\",\n    \"add7tip\": \"下周复习此条目\",\n    \"add1tip\": \"明天复习此条目\",\n    \"fishingpondtip\": \"记忆此组条目\",\n    \"due\": \"已到期：\",\n    \"undue\": \"未到期：\",\n    \"new\": \"新添加：\",\n    \"commonfiltertip\": \"常用筛选器表达式\",\n    \"pinfiltertip\": \"添加到常用筛选器表达式：\",\n    \"unpinfiltertip\": \"删除此常用筛选器表达式：\",\n    \"fillfiltertip\": \"填入此筛选器表达式：\",\n    \"settings\": \"这些高级设置让您定制钓鱼的行为。\",\n    \"setrecall\": \"目标保留率\",\n    \"setrecalltip\": \"必须在 0.7 和 0.95 之间\",\n    \"setinterval\": \"摘抄条目的初始间隔天数\",\n    \"setintervaltip\": \"必须是正整数\"\n}"},"$:/plugins/oflg/fishing/license":{"title":"$:/plugins/oflg/fishing/license","text":"\nMIT License\n\nCopyright (c) 2021-2022 oflg\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE."},"$:/plugins/oflg/fishing/macros":{"title":"$:/plugins/oflg/fishing/macros","tags":"$:/tags/Macro","text":"\\define priority() [get[caption]search-replace::regexp[{{\\|\\|(.*)}}],[$1]tag[$:/tags/QuestionTemplate]count[]]=[get[due]interval[]]=[backlinks[]count[]]=[links[]has[due]count[]negate[]]=[links[]has[due]!days:due[1]count[]]+[sum[]add{!!priority}]\n\n\\define fishbreadcrumbs()\n<$let\n\tcurrentTiddler={{{[<currentTiddler>tags[]]:intersection[<currentTiddler>backlinks[]]+[first[]]}}}\n>\n\t<$reveal\n\t\tdefault=<<currentTiddler>>\n\t\ttype=\"nomatch\"\n\t\ttext=\"\"\n\t>\n\t\t<<fishbreadcrumbs>>\n\t</$reveal>\n\t<$reveal\n\t\tdefault=<<currentTiddler>>\n\t\ttype=\"nomatch\"\n\t\ttext=\"\"\n\t>\n\t\t{{||$:/core/ui/TagTemplate}} >\n\t</$reveal>\n</$let>\n\\end"},"$:/plugins/oflg/fishing/readme":{"title":"$:/plugins/oflg/fishing/readme","text":"Installation and usage tutorial is available at [[Fishing Manual|https://oflg.github.io/fishing/]].\n\n可在 [[钓鱼手册|https://oflg.github.io/fishing/]] 查看安装使用教程。\n"},"$:/plugins/oflg/fishing/styles.css":{"title":"$:/plugins/oflg/fishing/styles.css","tags":"$:/tags/Stylesheet","type":"text/vnd.tiddlywiki","text":"blockquote.tc-fish-quote {\n\tborder-left: 1px solid <<colour message-border>>;\n    margin-right: 0;\n    margin-left: 5px;\n}\n\nbutton.tc-tag-label, span.tc-tag-label {\n  white-space: normal;\n}\n\n.tc-fish-title{\n    font-size: {{$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize}};\n\tline-height: {{$:/themes/tiddlywiki/vanilla/metrics/bodylineheight}};\n}\n\n<$list filter=\"[tag[?]]\">\na.tc-tiddlylink[href^=\"#{{{[<currentTiddler>encodeuricomponent[]]}}}\"]:before {\n  content: \"▾\";\n  display: inline-block;\n}\n</$list>"},"$:/config/flibbles/relink/fields/fish":{"title":"$:/config/flibbles/relink/fields/fish","text":"title"},"$:/config/ShortcutInfo/fishing-exciseexcerpt":{"title":"$:/config/ShortcutInfo/fishing-exciseexcerpt","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[exciseexcerpttip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[exciseexcerpttip]]}}}\n/>"},"$:/config/ShortcutInfo/fishing-excisequestion":{"title":"$:/config/ShortcutInfo/fishing-excisequestion","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[excisequestiontip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[excisequestiontip]]}}}\n/>"},"$:/config/ShortcutInfo/fishing-fold":{"title":"$:/config/ShortcutInfo/fishing-fold","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[foldtip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[foldtip]]}}}\n/>"},"$:/config/ShortcutInfo/fishing-forget":{"title":"$:/config/ShortcutInfo/fishing-forget","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[forgettip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[forgettip]]}}}\n/>"},"$:/config/ShortcutInfo/fishing-grasp":{"title":"$:/config/ShortcutInfo/fishing-grasp","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[grasptip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[grasptip]]}}}\n/>"},"$:/config/ShortcutInfo/fishing-learn":{"title":"$:/config/ShortcutInfo/fishing-learn","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[learntip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[learntip]]}}}\n/>"},"$:/config/ShortcutInfo/fishing-markclozeoption":{"title":"$:/config/ShortcutInfo/fishing-markclozeoption","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[markclozeoptiontip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[markclozeoptiontip]]}}}\n/>"},"$:/config/ShortcutInfo/fishing-marktitle":{"title":"$:/config/ShortcutInfo/fishing-marktitle","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[marktitletip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[marktitletip]]}}}\n/>"},"$:/config/ShortcutInfo/fishing-remember":{"title":"$:/config/ShortcutInfo/fishing-remember","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[remembertip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[remembertip]]}}}\n/>"},"$:/config/ShortcutInfo/fishing-setcloze":{"title":"$:/config/ShortcutInfo/fishing-setcloze","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setclozetip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setclozetip]]}}}\n/>"},"$:/config/ShortcutInfo/fishing-setexcerpt":{"title":"$:/config/ShortcutInfo/fishing-setexcerpt","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setexcerpttip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setexcerpttip]]}}}\n/>"},"$:/config/ShortcutInfo/fishing-setquestion":{"title":"$:/config/ShortcutInfo/fishing-setquestion","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setquestiontip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setquestiontip]]}}}\n/>"},"$:/config/ShortcutInfo/fishing-setselect":{"title":"$:/config/ShortcutInfo/fishing-setselect","text":"<$text\n    text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setselecttip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setselecttip]]}}}\n/>"},"$:/config/shortcuts/fishing-exciseexcerpt":{"title":"$:/config/shortcuts/fishing-exciseexcerpt","type":"text/vnd.tiddlywiki","text":"alt-X"},"$:/config/shortcuts/fishing-excisequestion":{"title":"$:/config/shortcuts/fishing-excisequestion","type":"text/vnd.tiddlywiki","text":"alt-Q"},"$:/config/shortcuts/fishing-fold":{"title":"$:/config/shortcuts/fishing-fold","type":"text/vnd.tiddlywiki","text":"alt-Enter"},"$:/config/shortcuts/fishing-forget":{"title":"$:/config/shortcuts/fishing-forget","type":"text/vnd.tiddlywiki","text":"alt-0"},"$:/config/shortcuts/fishing-grasp":{"title":"$:/config/shortcuts/fishing-grasp","type":"text/vnd.tiddlywiki","text":"alt-2"},"$:/config/shortcuts/fishing-learn":{"title":"$:/config/shortcuts/fishing-learn","type":"text/vnd.tiddlywiki","text":"alt-L"},"$:/config/shortcuts/fishing-markclozeoption":{"title":"$:/config/shortcuts/fishing-markclozeoption","type":"text/vnd.tiddlywiki","text":"alt-U"},"$:/config/shortcuts/fishing-marktitle":{"title":"$:/config/shortcuts/fishing-marktitle","type":"text/vnd.tiddlywiki","text":"alt-B"},"$:/config/shortcuts/fishing-remember":{"title":"$:/config/shortcuts/fishing-remember","type":"text/vnd.tiddlywiki","text":"alt-1"},"$:/config/shortcuts/fishing-setcloze":{"title":"$:/config/shortcuts/fishing-setcloze","type":"text/vnd.tiddlywiki","text":"alt-shift-C"},"$:/config/shortcuts/fishing-setexcerpt":{"title":"$:/config/shortcuts/fishing-setexcerpt","type":"text/vnd.tiddlywiki","text":"alt-shift-X"},"$:/config/shortcuts/fishing-setquestion":{"title":"$:/config/shortcuts/fishing-setquestion","type":"text/vnd.tiddlywiki","text":"alt-shift-Q"},"$:/config/shortcuts/fishing-setselect":{"title":"$:/config/shortcuts/fishing-setselect","type":"text/vnd.tiddlywiki","text":"alt-shift-S"},"$:/core/ui/KeyboardShortcuts/fishing-fold":{"title":"$:/core/ui/KeyboardShortcuts/fishing-fold","key":"((fishing-fold))","tags":"$:/tags/KeyboardShortcut","text":"<$reveal\n    default={{{[{$:/temp/fishing!!fish}match{$:/HistoryList!!current-tiddler}]}}}\n    type=\"nomatch\"\n    text=\"\"\n    animate=\"yes\"\n>\n    <$action-setfield\n        $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n        text={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]get[text]match[hide]then[show]else[hide]]}}}\n    />\n</$reveal>"},"$:/core/ui/KeyboardShortcuts/fishing-forget":{"title":"$:/core/ui/KeyboardShortcuts/fishing-forget","key":"((fishing-forget))","tags":"$:/tags/KeyboardShortcut","text":"<$reveal\n    default={{{[{$:/temp/fishing!!fish}match{$:/HistoryList!!current-tiddler}has[retrievability]]}}}\n    type=\"nomatch\"\n    text=\"\"\n    animate=\"yes\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$list\n            filter=\"[{$:/temp/fishing!!fish}]\"\n        >\n            <$fieldmangler>\n                <$action-sendmessage\n                    $message=\"tm-add-tag\"\n                    $param=\"?\"\n                />\n                <$action-fishing\n                    $grade=\"0\"\n                />\n                <$list\n                    filter=\"[<currentTiddler>tags[]]:intersection[<currentTiddler>backlinks[]]+[search:caption:literal[{{||Excerpt}}]]\"\n                    variable=\"backexcerpt\"\n                >\n                    <$action-setfield\n                        $tiddler=<<backexcerpt>>\n                        $timestamp=\"no\"\n                        interval={{{[<backexcerpt>get[interval]add[1]]}}}\n                    />\n                </$list>\n                <$action-deletetiddler\n                    $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n                />\n                <$action-setfield\n                    $tiddler=\"$:/temp/fishing\"\n                    text=\"\"\n                    type=\"\"\n                    fish={{{[subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}first[]]}}}\n                />\n                <$action-setfield\n                    $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n                    text={{{[{$:/temp/fishing!!fish}search:caption:literal[{{||Excerpt}}]then[show]else[hide]]}}}\n                />\n                <$action-sendmessage\n                    $message=\"tm-close-tiddler\"\n                />\n                <$action-navigate\n                    $to={{$:/temp/fishing!!fish}}\n                />\n            </$fieldmangler>\n        </$list>\n    </$navigator>\n</$reveal>"},"$:/core/ui/KeyboardShortcuts/fishing-grasp":{"title":"$:/core/ui/KeyboardShortcuts/fishing-grasp","key":"((fishing-grasp))","tags":"$:/tags/KeyboardShortcut","text":"<$reveal\n    default={{{[{$:/temp/fishing!!fish}match{$:/HistoryList!!current-tiddler}has[retrievability]]}}}\n    type=\"nomatch\"\n    text=\"\"\n    animate=\"yes\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$list\n            filter=\"[{$:/temp/fishing!!fish}]\"\n        >\n            <$fieldmangler>\n                <$action-sendmessage\n                    $message=\"tm-add-tag\"\n                    $param=\"?\"\n                />\n                <$action-fishing\n                    $grade=\"2\"\n                />\n                <$list\n                    filter=\"[<currentTiddler>tags[]]:intersection[<currentTiddler>backlinks[]]+[search:caption:literal[{{||Excerpt}}]]\"\n                    variable=\"backexcerpt\"\n                >\n                    <$action-setfield\n                        $tiddler=<<backexcerpt>>\n                        $timestamp=\"no\"\n                        interval={{{[<backexcerpt>get[interval]add[-1]]}}}\n                    />\n                </$list>\n                <$action-deletetiddler\n                    $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n                />\n                <$action-setfield\n                    $tiddler=\"$:/temp/fishing\"\n                    text=\"\"\n                    type=\"\"\n                    fish={{{[subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}first[]]}}}\n                />\n                <$action-setfield\n                    $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n                    text={{{[{$:/temp/fishing!!fish}search:caption:literal[{{||Excerpt}}]then[show]else[hide]]}}}\n                />\n                <$action-sendmessage\n                    $message=\"tm-close-tiddler\"\n                />\n                <$action-navigate\n                    $to={{$:/temp/fishing!!fish}}\n                />\n            </$fieldmangler>\n        </$list>\n    </$navigator>\n</$reveal>"},"$:/core/ui/KeyboardShortcuts/fishing-learn":{"title":"$:/core/ui/KeyboardShortcuts/fishing-learn","key":"((fishing-learn))","tags":"$:/tags/KeyboardShortcut","text":"<$reveal\n    default={{{[{$:/temp/fishing!!fish}match{$:/HistoryList!!current-tiddler}has[retrievability]]}}}\n    type=\"match\"\n    text=\"\"\n    animate=\"yes\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$list\n            filter=\"[{$:/temp/fishing!!fish}]\"\n        >\n            <$fieldmangler>\n                <$action-sendmessage\n                    $message=\"tm-add-tag\"\n                    $param=\"?\"\n                />\n                <$reveal\n                    default={{{[<currentTiddler>search:caption:literal[{{||Excerpt}}]]}}}\n                    type=\"match\"\n                    text=\"\"\n                    animate=\"yes\"\n                >\n                    <$action-fishing\n                        $grade=\"learn\"\n                    />\n                </$reveal>\n                <$reveal\n                    default={{{[<currentTiddler>search:caption:literal[{{||Excerpt}}]]}}}\n                    type=\"nomatch\"\n                    text=\"\"\n                    animate=\"yes\"\n                >\n                    <$action-setfield\n                        interval={{{[<currentTiddler>get[interval]]~[[0]]+[add[1]]}}}\n                        due={{{[<currentTiddler>get[interval]]~[[0]]+[add[1]due[]]}}}\n                    />\n                </$reveal>\n                <$list\n                    filter=\"[<currentTiddler>tags[]]:intersection[<currentTiddler>backlinks[]]+[search:caption:literal[{{||Excerpt}}]]\"\n                    variable=\"backexcerpt\"\n                >\n                    <$action-setfield\n                        $tiddler=<<backexcerpt>>\n                        $timestamp=\"no\"\n                        interval={{{[<backexcerpt>get[interval]add[0]]}}}\n                    />\n                </$list>\n                <$action-deletetiddler\n                    $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n                />\n                <$action-setfield\n                    $tiddler=\"$:/temp/fishing\"\n                    text=\"\"\n                    type=\"\"\n                    fish={{{[subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}first[]]}}}\n                />\n                <$action-setfield\n                    $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n                    text={{{[{$:/temp/fishing!!fish}search:caption:literal[{{||Excerpt}}]then[show]else[hide]]}}}\n                />\n                <$action-sendmessage\n                    $message=\"tm-close-tiddler\"\n                />\n                <$action-navigate\n                    $to={{$:/temp/fishing!!fish}}\n                />\n            </$fieldmangler>\n        </$list>\n    </$navigator>\n</$reveal>"},"$:/core/ui/KeyboardShortcuts/fishing-remember":{"title":"$:/core/ui/KeyboardShortcuts/fishing-remember","key":"((fishing-remember))","tags":"$:/tags/KeyboardShortcut","text":"<$reveal\n    default={{{[{$:/temp/fishing!!fish}match{$:/HistoryList!!current-tiddler}has[retrievability]]}}}\n    type=\"nomatch\"\n    text=\"\"\n    animate=\"yes\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$list\n            filter=\"[{$:/temp/fishing!!fish}]\"\n        >\n            <$fieldmangler>\n                <$action-sendmessage\n                    $message=\"tm-add-tag\"\n                    $param=\"?\"\n                />\n                <$action-fishing\n                    $grade=\"1\"\n                />\n                <$list\n                    filter=\"[<currentTiddler>tags[]]:intersection[<currentTiddler>backlinks[]]+[search:caption:literal[{{||Excerpt}}]]\"\n                    variable=\"backexcerpt\"\n                >\n                    <$action-setfield\n                        $tiddler=<<backexcerpt>>\n                        $timestamp=\"no\"\n                        interval={{{[<backexcerpt>get[interval]add[0]]}}}\n                    />\n                </$list>\n                <$action-deletetiddler\n                    $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n                />\n                <$action-setfield\n                    $tiddler=\"$:/temp/fishing\"\n                    text=\"\"\n                    type=\"\"\n                    fish={{{[subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}first[]]}}}\n                />\n                <$action-setfield\n                    $tiddler={{{[{$:/temp/fishing!!fish}addprefix[$:/state/folded/]]}}}\n                    text={{{[{$:/temp/fishing!!fish}search:caption:literal[{{||Excerpt}}]then[show]else[hide]]}}}\n                />\n                <$action-sendmessage\n                    $message=\"tm-close-tiddler\"\n                />\n                <$action-navigate\n                    $to={{$:/temp/fishing!!fish}}\n                />\n            </$fieldmangler>\n        </$list>\n    </$navigator>\n</$reveal>"},"$:/config/EditTemplateFields/Visibility/difficulty":{"title":"$:/config/EditTemplateFields/Visibility/difficulty","text":"hide"},"$:/config/EditTemplateFields/Visibility/due":{"title":"$:/config/EditTemplateFields/Visibility/due","text":"hide"},"$:/config/EditTemplateFields/Visibility/grade":{"title":"$:/config/EditTemplateFields/Visibility/grade","text":"hide"},"$:/config/EditTemplateFields/Visibility/history":{"title":"$:/config/EditTemplateFields/Visibility/history","text":"hide"},"$:/config/EditTemplateFields/Visibility/interval":{"title":"$:/config/EditTemplateFields/Visibility/interval","text":"hide"},"$:/config/EditTemplateFields/Visibility/lapses":{"title":"$:/config/EditTemplateFields/Visibility/lapses","text":"hide"},"$:/config/EditTemplateFields/Visibility/reps":{"title":"$:/config/EditTemplateFields/Visibility/reps","text":"hide"},"$:/config/EditTemplateFields/Visibility/retrievability":{"title":"$:/config/EditTemplateFields/Visibility/retrievability","text":"hide"},"$:/config/EditTemplateFields/Visibility/review":{"title":"$:/config/EditTemplateFields/Visibility/review","text":"hide"},"$:/config/EditTemplateFields/Visibility/stability":{"title":"$:/config/EditTemplateFields/Visibility/stability","text":"hide"},"$:/config/ViewTemplateTitleFilters/fish":{"title":"$:/config/ViewTemplateTitleFilters/fish","list-before":"$:/config/ViewTemplateTitleFilters/system","tags":"$:/tags/ViewTemplateTitleFilter","text":"[tag[?]][has[due]][match{$:/temp/fishing!!fish}]+[then[$:/core/ui/ViewTemplate/title/fish]]"},"$:/core/ui/ControlPanel/Settings/Fishing":{"title":"$:/core/ui/ControlPanel/Settings/Fishing","caption":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fishing]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fishing]]}}}/>","list-after":"$:/core/ui/ControlPanel/Settings/TiddlyWiki","tags":"$:/tags/ControlPanel/SettingsTab","text":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[settings]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[settings]]}}}/><br>\n\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings/Fishing]]\">\n\n    <div style=\"border-top:1px solid #eee;\">\n\n        !! <$transclude field=\"caption\"/>\n\n        <$transclude/>\n\n    </div>\n    \n</$list>"},"$:/core/ui/ControlPanel/Settings/Fishing/fishing":{"title":"$:/core/ui/ControlPanel/Settings/Fishing/fishing","caption":"<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[fishing]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[fishing]]}}}/>","tags":"$:/tags/ControlPanel/Settings/Fishing","text":"|<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setrecall]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setrecall]]}}}/> |<$edit-text tiddler=\"$:/plugins/oflg/fishing/data\" field=\"requestRecall\" placeholder=\"0.9\" tag=\"input\"/><br>@@color:red;font-size:10px;<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setrecalltip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setrecalltip]]}}}/>@@ |\n|<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setinterval]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setinterval]]}}}/> |<$edit-text tiddler=\"$:/plugins/oflg/fishing/data\" field=\"requestInterval\" placeholder=\"1\" tag=\"input\"/><br>@@color:red;font-size:10px;<$text text={{{[{$:/language}removeprefix[$:/]addprefix[$:/plugins/oflg/fishing/]getindex[setintervaltip]]~[[$:/plugins/oflg/fishing/languages/en-GB]getindex[setintervaltip]]}}}/>@@ |\n"},"$:/core/ui/ControlPanel/Settings/TiddlyWiki":{"title":"$:/core/ui/ControlPanel/Settings/TiddlyWiki","caption":"TiddlyWiki","tags":"$:/tags/ControlPanel/SettingsTab","text":"\\define lingo-base() $:/language/ControlPanel/Settings/\n\n<<lingo Hint>>\n\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings]]\">\n\n<div style=\"border-top:1px solid #eee;\">\n\n!! <$link><$transclude field=\"caption\"/></$link>\n\n<$transclude/>\n\n</div>\n\n</$list>\n"},"$:/core/ui/ViewTemplate/title/fish":{"title":"$:/core/ui/ViewTemplate/title/fish","text":"<<toc-caption>>"},"Cloze":{"title":"Cloze","tags":"$:/tags/QuestionTemplate","text":"<span\n    class=\"tc-fish-title\"\n>\n    <$reveal\n        state=<<folded-state>>\n        type=\"nomatch\"\n        text=\"show\"\n        animate=\"yes\"\n    >\n        <$reveal\n            default={{$:/temp/fishing!!fish}}\n            type=\"nomatch\"\n            text=<<currentTiddler>>\n            animate=\"yes\"\n        >\n            {{!!title}}\n        </$reveal>\n        <$reveal\n            default={{$:/temp/fishing!!fish}}\n            type=\"match\"\n            text=<<currentTiddler>>\n            animate=\"yes\"\n        >\n            <$reveal\n                default={{{[{!!title}split[__]count[]]}}}\n                type=\"gteq\"\n                text=\"3\"\n                animate=\"yes\"\n            >\n                <$list\n                    filter=\"[{!!title}split[__]]\"\n                    variable=\"titleitem\"\n                    counter=\"counter\"\n                >\n                    <$reveal\n                        default={{{[<counter>remainder[2]]}}}\n                        type=\"nomatch\"\n                        text=\"0\"\n                    >\n                        <<titleitem>>\n                    </$reveal>\n                    <$reveal\n                        default={{{[<counter>remainder[2]]}}}\n                        type=\"match\"\n                        text=\"0\"\n                    >\n                        <$let\n                            clozeid=<<counter>>\n                            clozecontent=<<titleitem>>\n                            clozecontent={{{[[$:/temp/fishing]getindex<clozeid>match[show]then<titleitem>else[`    `]]}}}\n                        >\n                            <$button\n                                class=\"tc-btn-invisible tc-tiddlylink\"\n                            >\n                                <$action-setfield\n                                    $tiddler=\"$:/temp/fishing\"\n                                    $index=<<clozeid>>\n                                    $value={{{[[$:/temp/fishing]getindex<clozeid>match[show]then[]else[show]]}}}\n                                />\n                                    <<clozecontent>>\n                            </$button>\n                        </$let>\n                    </$reveal>\n                </$list>\n            </$reveal>\n            <$reveal\n                default={{{[{!!title}split[__]count[]]}}}\n                type=\"lt\"\n                text=\"3\"\n                animate=\"yes\"\n            >\n                {{!!title}}\n            </$reveal>\n        </$reveal>\n    </$reveal>\n    <$reveal\n        state=<<folded-state>>\n        type=\"match\"\n        text=\"show\"\n        animate=\"yes\"\n    >\n        {{!!title}}\n    </$reveal>\n</span>"},"Excerpt":{"title":"Excerpt","text":"<$reveal\n\tdefault={{{[{!!title}search:title[/]]}}}\n\ttype=\"nomatch\"\n\ttext=\"\"\n\tanimate=\"yes\"\n>\n\t<$text\n\t\ttext={{{[{!!text}split[]limit[13]join[]addsuffix[...]]}}}\n\t/>\n</$reveal>\n<$reveal\n\tdefault={{{[{!!title}search:title[/]]}}}\n\ttype=\"match\"\n\ttext=\"\"\n\tanimate=\"yes\"\n>\n\t{{!!title}}\n</$reveal>"},"Question":{"title":"Question","tags":"$:/tags/QuestionTemplate","text":"<span\n    class=\"tc-fish-title\"\n>\n    {{!!title}}\n    <$reveal\n        default={{$:/temp/fishing!!fish}}\n        type=\"match\"\n        text=<<currentTiddler>>\n        animate=\"yes\"\n    >\n        <$edit\n            tiddler=\"$:/temp/fishing\"\n            placeholder={{$:/language/EditTemplate/Body/Placeholder}}\n            minHeight=\"15px\"\n            class=\"tc-edit-texteditor tc-edit-texteditor-body\"\n        >\n            <$set\n                value=<<currentTiddler>>\n                name=\"targetTiddler\"\n            >\n                <$list\n                    filter=\"[all[shadows+tiddlers]tag[$:/tags/EditorToolbar]!has[draft.of]]\"\n                >\n                    <$reveal\n                        type=\"nomatch\"\n                        state=<<config-visibility-title>>\n                        text=\"hide\"\n                        class=\"tc-text-editor-toolbar-item-wrapper\"\n                        style=\"display: none;\"\n                    >\n                        <$transclude\n                            tiddler=\"$:/core/ui/EditTemplate/body/toolbar/button\"\n                            mode=\"inline\"\n                        />\n                    </$reveal>\n                </$list>\n                <$list\n                    filter=\"[all[shadows+tiddlers]tag[$:/tags/EditorTools]!has[draft.of]]\"\n                >\n                    <$list\n                        filter={{!!condition}}\n                        variable=\"list-condition\"\n                    >\n                        <$transclude/>\n                    </$list>\n                </$list>\n            </$set>\n        </$edit>\n        <$reveal\n            default={{$:/temp/fishing}}\n            type=\"nomatch\"\n            text=\"\"\n            animate=\"yes\"\n        >\n            <$reveal\n                state=<<folded-state>>\n                type=\"match\"\n                text=\"show\"\n                animate=\"yes\"\n            >\n                <$diff-text\n                    source={{$:/temp/fishing}}\n                    dest={{!!text}}\n                />\n            </$reveal>\n        </$reveal>\n    </$reveal>\n</span>"},"Select":{"title":"Select","tags":"$:/tags/QuestionTemplate","text":"<span\n    class=\"tc-fish-title\"\n>\n    <$reveal\n        default={{$:/temp/fishing!!fish}}\n        type=\"nomatch\"\n        text=<<currentTiddler>>\n        animate=\"yes\"\n    >\n        {{!!title}}\n    </$reveal>\n    <$reveal\n        default={{$:/temp/fishing!!fish}}\n        type=\"match\"\n        text=<<currentTiddler>>\n        animate=\"yes\"\n    >\n        <$reveal\n            default={{{[{!!title}split[__]count[]]}}}\n            type=\"gteq\"\n            text=\"3\"\n            animate=\"yes\"\n        >\n            {{{[{!!title}split[__]first[]]}}}\n            <$list\n                filter=\"[{!!title}split[__]]\"\n                variable=\"titleitem\"\n                counter=\"counter\"\n            >\n                <$reveal\n                    default={{{[<counter>remainder[2]]}}}\n                    type=\"match\"\n                    text=\"0\"\n                >\n                    <$let\n                        optionid={{{[<counter>divide[2]]}}}\n                        optioncontent=<<titleitem>>\n                        selectid={{{[{!!title}split[__]reverse[]first[]split[]count[]match[1]then[id]else<optionid>]}}}\n                    >\n                        <$reveal\n                            state=<<folded-state>>\n                            type=\"nomatch\"\n                            text=\"show\"\n                            animate=\"yes\"\n                        >\n\n                            <$reveal\n                                default={{{[{!!title}split[__]reverse[]first[]split[]count[]]}}}\n                                type=\"lteq\"\n                                text=\"1\"\n                            >\n                                <$radio\n                                    tiddler=\"$:/temp/fishing\"\n                                    index=<<selectid>>\n                                    value=<<optionid>>\n                                    default=\"\"\n                                >\n                                    <<optioncontent>>\n                                </$radio>\n                            </$reveal>\n                            <$reveal\n                                default={{{[{!!title}split[__]reverse[]first[]split[]count[]]}}}\n                                type=\"gt\"\n                                text=\"1\"\n                            >\n                                <$checkbox\n                                    tiddler=\"$:/temp/fishing\"\n                                    index=<<selectid>>\n                                    checked=<<optionid>>\n                                    unchecked=\"\"\n                                    default=\"\"\n                                >\n                                    <<optioncontent>>\n                                </$checkbox>\n                            </$reveal>\n                        </$reveal>\n                        <$reveal\n                            state=<<folded-state>>\n                            type=\"match\"\n                            text=\"show\"\n                            animate=\"yes\"\n                        >\n\n                            <$button\n                                disabled=\"yes\"\n                                class=\"tc-btn-invisible\"\n                            >\n                                <$reveal\n                                    default={{{[{!!title}split[__]reverse[]first[]split[]search-replace[A],[1]search-replace[B],[2]search-replace[C],[3]search-replace[D],[4]search-replace[E],[5]search-replace[F],[6]search-replace[G],[7]search-replace[H],[8]search-replace[I],[9]match<optionid>then[1]else[0]]=[[$:/temp/fishing]getindex<selectid>match<optionid>then[1]else[0]]+[join[]]}}}\n                                    type=\"match\"\n                                    text=\"00\"\n                                    animate=\"yes\"\n                                >\n                                    {{$:/core/images/blank}}\n                                </$reveal>\n                                <$reveal\n                                    default={{{[{!!title}split[__]reverse[]first[]split[]search-replace[A],[1]search-replace[B],[2]search-replace[C],[3]search-replace[D],[4]search-replace[E],[5]search-replace[F],[6]search-replace[G],[7]search-replace[H],[8]search-replace[I],[9]match<optionid>then[1]else[0]]=[[$:/temp/fishing]getindex<selectid>match<optionid>then[1]else[0]]+[join[]]}}}\n                                    type=\"match\"\n                                    text=\"01\"\n                                    animate=\"yes\"\n                                >\n                                    {{$:/core/images/close-button}}\n                                </$reveal>\n                                <$reveal\n                                    default={{{[{!!title}split[__]reverse[]first[]split[]search-replace[A],[1]search-replace[B],[2]search-replace[C],[3]search-replace[D],[4]search-replace[E],[5]search-replace[F],[6]search-replace[G],[7]search-replace[H],[8]search-replace[I],[9]match<optionid>then[1]else[0]]=[[$:/temp/fishing]getindex<selectid>match<optionid>then[1]else[0]]+[join[]]}}}\n                                    type=\"match\"\n                                    text=\"10\"\n                                    animate=\"yes\"\n                                >\n                                    {{$:/core/images/warning}}\n                                </$reveal>\n                                <$reveal\n                                    default={{{[{!!title}split[__]reverse[]first[]split[]search-replace[A],[1]search-replace[B],[2]search-replace[C],[3]search-replace[D],[4]search-replace[E],[5]search-replace[F],[6]search-replace[G],[7]search-replace[H],[8]search-replace[I],[9]match<optionid>then[1]else[0]]=[[$:/temp/fishing]getindex<selectid>match<optionid>then[1]else[0]]+[join[]]}}}\n                                    type=\"match\"\n                                    text=\"11\"\n                                    animate=\"yes\"\n                                >\n                                    {{$:/core/images/done-button}}\n                                </$reveal>\n                            </$button> <<optioncontent>>\n                        </$reveal>\n                    </$let>\n                </$reveal>\n            </$list>\n        </$reveal>\n        <$reveal\n            default={{{[{!!title}split[__]count[]]}}}\n            type=\"lt\"\n            text=\"3\"\n            animate=\"yes\"\n        >\n            {{!!title}}\n        </$reveal>\n    </$reveal>\n</span>"}}}
=======
{"tiddlers":{"$:/plugins/oflg/fishing/license":{"title":"$:/plugins/oflg/fishing/license","text":"MIT License\n\nCopyright (c) 2021-2022 oflg\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","type":"text/vnd.tiddlywiki"},"$:/plugins/oflg/fishing/readme":{"title":"$:/plugins/oflg/fishing/readme","text":"Installation and usage tutorial is available at [[TiddlyMemo Manual|https://tiddlymemo.org/manual/]].\n\n可在[[墨屉手册|https://tiddlymemo.org/manual/zh-Hans]]查看安装使用教程。","type":"text/vnd.tiddlywiki"},"$:/plugins/oflg/fishing/buttons/fishingrod/addfilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/addfilter","tags":"$:/tags/FishingGrod","list-after":"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter","icon":"$:/core/images/plus-button","description":"{{{ [{$:/language/fishing/addfiltertip}addsuffix[ : ]addsuffix{$:/temp/fishing!!fishingrod}] }}}","condition":"[{$:/temp/fishing!!fishingrod}!is[blank]] -[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]match{$:/temp/fishing!!fishingrod}]","button-classes":"fishingrod-button","text":"<$action-setfield\n    $tiddler={{{ [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] }}}\n    type=\"application/json\"\n/>"},"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter","tags":"$:/tags/FishingGrod","list-before":"","popup":"$:/plugins/oflg/fishing/buttons/fishingrod/popup/commonfilter","icon":"$:/core/images/down-arrow","description":"{{$:/language/fishing/commonfiltertip}}","condition":"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]first[]]","button-classes":"fishingrod-button","text":"<$reveal\n    state=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishingrod/fishingline\">>\n    type=\"popup\"\n    position=\"below\"\n    animate=\"yes\"\n>\n    <div\n        class=\"tc-drop-down\"\n        style=\"min-width:0;font-size:10pt;\"\n    >\n        <$list\n            filter=\"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]sort[title]]\"\n            variable=\"fishingrod\"\n        >\n            <$button\n                tooltip={{{ [{$:/language/fishing/fillfiltertip}addsuffix[ : ]addsuffix<fishingrod>] }}}\n                aria-label={{{ [{$:/language/fishing/fillfiltertip}addsuffix[ : ]addsuffix<$:/temp/fishing!!fishingrod>] }}}\n                popup=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishingrod/fishingline\">>\n                class=\"tc-btn-invisible\"\n            >\n                <$action-setfield\n                    $tiddler=\"$:/temp/fishing\"\n                    fishingrod=<<fishingrod>>\n                />\n                <$text\n                    text={{{ [<fishingrod>addprefix[$:/plugins/oflg/fishing/fishingrod/]get[caption]]\n                            ~[<fishingrod>] }}}\n                />\n            </$button>\n        </$list>\n    </div>\n</$reveal>"},"$:/plugins/oflg/fishing/buttons/fishingrod/customisefilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/customisefilter","tags":"$:/tags/FishingGrod","list-after":"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter","popup":"$:/plugins/oflg/fishing/buttons/fishingrod/popup/customisefilter","icon":"$:/core/images/options-button","description":"{{{ [{$:/language/fishing/customisefiltertip}addsuffix[ : ]addsuffix{$:/temp/fishing!!fishingrod}] }}}","condition":"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]match{$:/temp/fishing!!fishingrod}]","button-classes":"fishingrod-button","text":"<$action-setfield\n    $tiddler=\"$:/temp/fishing\"\n    text=\"\"\n    list=\"\"\n/>"},"$:/plugins/oflg/fishing/buttons/fishingrod/exportdata":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/exportdata","tags":"$:/tags/FishingGrod","icon":"$:/core/images/export-button","description":"{{$:/language/fishing/exportdatatip}}","condition":"[[all]]","button-classes":"fishingrod-button","text":"\\define tv-action-refresh-policy() always\n\n<$action-exportdata\n    $tiddler=\"$:/temp/fishing/fsrsdata\"\n/>\n<$action-sendmessage\n    $message=\"tm-download-file\"\n    $param=\"$:/core/templates/exporters/TidFile\"\n    exportFilter=\"[[$:/temp/fishing/fsrsdata]]\"\n    filename={{{ [<now \"[UTC]YYYY0MM0DD0hh0mm0ssXXX\">addprefix[.]addprefix{$:/status/UserName}addsuffix[.txt]] }}}\n/>\n<$action-deletetiddler\n    $tiddler=\"$:/temp/fishing/fsrsdata\"\n/>\n<$action-sendmessage\n    $message=\"tm-open-external-window\"\n    $param=\"https://github.com/open-spaced-repetition/fsrs.js/issues/new?assignees=&labels=data&template=upload-fsrs-algorithm-data-template.md&title=Upload+data\"\n/>"},"$:/plugins/oflg/fishing/buttons/fishingrod/popup/commonfilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/popup/commonfilter","text":"<div\n    style=\"min-width:0;font-size:10pt;\"\n>\n    <$list\n        filter=\"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]sort[title]]\"\n        variable=\"fishingrod\"\n    >\n        <$button\n            tooltip={{{ [{$:/language/fishing/fillfiltertip}addsuffix[ : ]addsuffix<fishingrod>] }}}\n            aria-label={{{ [{$:/language/fishing/fillfiltertip}addsuffix[ : ]addsuffix<$:/temp/fishing!!fishingrod>] }}}\n            class=\"tc-btn-invisible\"\n        >\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                fishingrod=<<fishingrod>>\n            />\n            <$action-deletetiddler\n                $filter=\"[prefix[$:/state/FishingButtonPopup]]\"\n            />\n            <$text\n                text={{{ [<fishingrod>addprefix[$:/plugins/oflg/fishing/fishingrod/]get[caption]]\n                        ~[<fishingrod>] }}}\n            />\n        </$button>\n    </$list>\n</div>"},"$:/plugins/oflg/fishing/buttons/fishingrod/popup/customisefilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/popup/customisefilter","text":"<div\n    style=\"min-width:0;padding:0 10px;\"\n>\n    {{$:/language/fishing/setalias}}\n    <div\n        style=\"display:flex;justify-content:space-between;font-size:10pt;padding:2px 1px;\"\n    >\n        <$edit-text tiddler={{{ [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] }}} field=\"caption\" placeholder={{$:/language/fishing/typealias}} tag=\"input\"/>\n    </div>\n    {{$:/language/fishing/setorder}}\n    <$list\n        filter=\"due undue new\"\n        variable=\"pondname\"\n    >\n        <div\n            style=\"display:flex;justify-content:space-between;font-size:10pt;padding:2px 1px;\"\n        >\n            <$text text={{{ [[$:/language/fishing/]addsuffix<pondname>get[text]] }}}/>\n            <$select\n                tiddler={{{ [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] }}}\n                index={{{ [<pondname>addsuffix[order]] }}}\n                default={{{ [<pondname>match[due]then{$:/plugins/oflg/fishing/fishingpond!!autoorder}]\n                            ~[<pondname>match[undue]then{$:/plugins/oflg/fishing/fishingpond!!modifiedorder}]\n                            ~[<pondname>match[new]then{$:/plugins/oflg/fishing/fishingpond!!createdorder}] }}}\n            >\n                <$list\n                    filter=\"[[$:/plugins/oflg/fishing/fishingpond]fields[]suffix[order]]\"\n                    variable=\"pondorder\"\n                >\n                    <option\n                        value={{{ [[$:/plugins/oflg/fishing/fishingpond]get<pondorder>] }}}\n                    >\n                        <$text text={{{ [[$:/language/fishing/]addsuffix<pondorder>get[text]] }}}>\n                    </option>\n                </$list>\n            </$select>\n        </div>\n    </$list>\n</div>"},"$:/plugins/oflg/fishing/buttons/fishingrod/unaddfilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/unaddfilter","tags":"$:/tags/FishingGrod","list-after":"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter","icon":"$:/core/images/cancel-button","description":"{{{ [{$:/language/fishing/unaddfiltertip}addsuffix[ : ]addsuffix{$:/temp/fishing!!fishingrod}] }}}","condition":"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]match{$:/temp/fishing!!fishingrod}]","button-classes":"fishingrod-button","text":"\n<$action-deletetiddler\n    $tiddler={{{ [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] }}}\n/>\n<$action-deletetiddler\n    $tiddler=\"$:/temp/fishing\"\n/>"},"$:/plugins/oflg/fishing/buttons/fishingrod/viewfilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/viewfilter","tags":"$:/tags/FishingGrod","list-after":"","icon":"$:/core/images/advanced-search-button","description":"{{{ [{$:/language/fishing/viewfiltertip}addsuffix[ : ]addsuffix{$:/temp/fishing!!fishingrod}] }}}","condition":"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]match{$:/temp/fishing!!fishingrod}]","button-classes":"fishingrod-button","text":"<$action-setfield\n    $tiddler=\"$:/temp/fishing\"\n    text=\"\"\n    list=\"\"\n/>\n<$action-setfield\n    $tiddler=\"$:/temp/advancedsearch\"\n    text=\"[{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]shadowsource[]] [subfilter{$:/temp/fishing!!fishingrod}is[tiddler]] [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]shadowsource[]plugintiddlers[]is[tiddler]]\"\n/>\n<$action-setfield\n    $tiddler=\"$:/temp/advancedsearch/input\"\n    text=\"[{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]shadowsource[]] [subfilter{$:/temp/fishing!!fishingrod}is[tiddler]] [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]shadowsource[]plugintiddlers[]is[tiddler]]\"\n/>\n<$action-setfield\n    $tiddler=\"$:/temp/advancedsearch/refresh\"\n    text=\"yes\"\n/>\n<$action-setfield\n    $tiddler=\"$:/state/tab--1498284803\"\n    text=\"$:/core/ui/AdvancedSearch/Filter\"\n/>\n<$action-navigate\n    $to=\"$:/AdvancedSearch\"\n/>\n<$action-sendmessage\n    $message=\"tm-focus-selector\"\n    $param=\".tc-advanced-search input\"\n/>"},"$:/plugins/oflg/fishing/buttons/learning/forget":{"title":"$:/plugins/oflg/fishing/buttons/learning/forget","key":"((fishing-forget))","tags":"$:/tags/Learning $:/tags/KeyboardShortcut","button-classes":"forget","list-before":"","caption":"{{$:/language/fishing/forget}}","description":"{{$:/language/fishing/forgettip}}","condition":"[<targetTiddler>has[grade]]","text":"<$list\n    filter=\"[<targetTiddler>!is[blank]]\n            ~[list[$:/temp/fishing]first[]!is[blank]has[grade]]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"?\"\n            />\n            <$action-sendmessage\n                $message=\"tm-remove-tag\"\n                $param=\"!\"\n            />\n            <$action-learn\n                $grade=\"0\"\n            />\n            <$action-deletetiddler\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n            />\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                text=\"\"\n                type=\"\"\n                list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n            />\n            <$action-setfield\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n            />\n            <$action-sendmessage\n                $message=\"tm-close-tiddler\"\n            />\n            <$list\n                filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n                variable=\"null\"\n            >\n                <$action-navigate\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\n                />\n            </$list>\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/buttons/learning/grasp":{"title":"$:/plugins/oflg/fishing/buttons/learning/grasp","key":"((fishing-grasp))","tags":"$:/tags/Learning $:/tags/KeyboardShortcut","button-classes":"grasp","list-after":"$:/plugins/oflg/fishing/buttons/learning/remember","caption":"{{$:/language/fishing/grasp}}","description":"{{$:/language/fishing/grasptip}}","condition":"[<targetTiddler>has[grade]]","text":"<$list\n    filter=\"[<targetTiddler>!is[blank]]\n            ~[list[$:/temp/fishing]first[]!is[blank]has[grade]]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"?\"\n            />\n            <$action-sendmessage\n                $message=\"tm-remove-tag\"\n                $param=\"!\"\n            />\n            <$action-learn\n                $grade=\"2\"\n            />\n            <$action-deletetiddler\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n            />\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                text=\"\"\n                type=\"\"\n                list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n            />\n            <$action-setfield\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n            />\n            <$action-sendmessage\n                $message=\"tm-close-tiddler\"\n            />\n            <$list\n                filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n                variable=\"null\"\n            >\n                <$action-navigate\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\n                />\n            </$list>\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/buttons/learning/learn":{"title":"$:/plugins/oflg/fishing/buttons/learning/learn","key":"((fishing-learn))","tags":"$:/tags/Learning $:/tags/KeyboardShortcut","button-classes":"learn","list-after":"$:/plugins/oflg/fishing/buttons/learning/grasp","caption":"{{$:/language/fishing/learn}}","description":"{{$:/language/fishing/learntip}}","condition":"[<targetTiddler>!has[grade]]","text":"<$list\n    filter=\"[<targetTiddler>!is[blank]]\n            ~[list[$:/temp/fishing]first[]!is[blank]!has[grade]]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"?\"\n            />\n            <$action-sendmessage\n                $message=\"tm-remove-tag\"\n                $param=\"!\"\n            />\n            <$list\n                filter=\"[<currentTiddler>!search:caption:literal[Excerpt}}]]\"\n                variable=\"null\"\n            >\n                <$action-learn\n                    $grade=\"-1\"\n                />\n            </$list>\n            <$list\n                filter=\"[<currentTiddler>search:caption:literal[Excerpt}}]]\"\n                variable=\"null\"\n            >\n                <$action-setfield\n                    interval={{{ [<currentTiddler>get[interval]!is[blank]else[0]add[1]] }}}\n                    due={{{ [<currentTiddler>get[interval]!is[blank]else[0]add[1]due[]] }}}\n                    review=<<now \"[UTC]YYYY0MM0DD0hh0mm0ssXXX\">>\n                />\n            </$list>\n            <$action-deletetiddler\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n            />\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                text=\"\"\n                type=\"\"\n                list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n            />\n            <$action-setfield\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n            />\n            <$action-sendmessage\n                $message=\"tm-close-tiddler\"\n            />\n            <$list\n                filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n                variable=\"null\"\n            >\n                <$action-navigate\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\n                />\n            </$list>\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/buttons/learning/more/add1":{"title":"$:/plugins/oflg/fishing/buttons/learning/more/add1","tags":"$:/tags/LearningMore","caption":"{{$:/language/fishing/add1}}","description":"{{$:/language/fishing/add1tip}}","condition":"[<targetTiddler>]","button-classes":"dropdown-more","text":"<$list\n    filter=\"[list[$:/temp/fishing]first[]!is[blank]]\"\n>\n    <$action-sendmessage\n        $message=\"tm-add-tag\"\n        $param=\"?\"\n    />\n    <$action-sendmessage\n        $message=\"tm-remove-tag\"\n        $param=\"!\"\n    />\n    <$action-setfield\n        due={{{ [1]due[]] }}}\n    />\n    <$action-deletetiddler\n        $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n    />\n    <$action-setfield\n        $tiddler=\"$:/temp/fishing\"\n        text=\"\"\n        type=\"\"\n        list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n    />\n    <$action-setfield\n        $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n        text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n    />\n    <$action-sendmessage\n        $message=\"tm-close-tiddler\"\n    />\n    <$list\n        filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n        variable=\"null\"\n    >\n        <$action-navigate\n            $to={{{ [list[$:/temp/fishing]first[]] }}}\n        />\n    </$list>\n</$list>"},"$:/plugins/oflg/fishing/buttons/learning/more/add7":{"title":"$:/plugins/oflg/fishing/buttons/learning/more/add7","tags":"$:/tags/LearningMore","list-before":"$:/plugins/oflg/fishing/buttons/learning/more/add1","caption":"{{$:/language/fishing/add7}}","description":"{{$:/language/fishing/add7tip}}","condition":"[<targetTiddler>]","button-classes":"dropdown-more","text":"<$list\n    filter=\"[list[$:/temp/fishing]first[]!is[blank]]\"\n>\n    <$action-sendmessage\n        $message=\"tm-add-tag\"\n        $param=\"?\"\n    />\n    <$action-sendmessage\n        $message=\"tm-remove-tag\"\n        $param=\"!\"\n    />\n    <$action-setfield\n        due={{{ [7]due[]] }}}\n    />\n    <$action-deletetiddler\n        $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n    />\n    <$action-setfield\n        $tiddler=\"$:/temp/fishing\"\n        text=\"\"\n        type=\"\"\n        list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n    />\n    <$action-setfield\n        $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n        text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n    />\n    <$action-sendmessage\n        $message=\"tm-close-tiddler\"\n    />\n    <$list\n        filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n        variable=\"null\"\n    >\n        <$action-navigate\n            $to={{{ [list[$:/temp/fishing]first[]] }}}\n        />\n    </$list>\n</$list>"},"$:/plugins/oflg/fishing/buttons/learning/more/discard":{"title":"$:/plugins/oflg/fishing/buttons/learning/more/discard","key":"((fishing-discard))","tags":"$:/tags/LearningMore $:/tags/KeyboardShortcut","list-before":"","caption":"{{$:/language/fishing/discard}}","description":"{{$:/language/fishing/discardtip}}","condition":"[<targetTiddler>]","button-classes":"dropdown-more","text":"<$list\n    filter=\"[<targetTiddler>!is[blank]]\n            ~[list[$:/temp/fishing]first[]!is[blank]]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-remove-tag\"\n                $param=\"?\"\n            />\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"!\"\n            />\n            <$action-deletefield\n                due\n                interval\n                grade\n                difficulty\n                stability\n                retrievability\n                lapses\n                reps\n                review\n            />\n            <$action-deletetiddler\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n            />\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                text=\"\"\n                type=\"\"\n                list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n            />\n            <$action-setfield\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n            />\n            <$action-sendmessage\n                $message=\"tm-close-tiddler\"\n            />\n            <$list\n                filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n                variable=\"null\"\n            >\n                <$action-navigate\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\n                />\n            </$list>\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/buttons/learning/more":{"title":"$:/plugins/oflg/fishing/buttons/learning/more","tags":"$:/tags/Learning","button-classes":"more","list-after":"$:/plugins/oflg/fishing/buttons/learning/learn","popup":"$:/plugins/oflg/fishing/buttons/learning/popup/more","position":"aboveleft","caption":"{{$:/language/fishing/more}}","description":"{{$:/language/fishing/moretip}}","condition":"[<targetTiddler>]"},"$:/plugins/oflg/fishing/buttons/learning/popup/more":{"title":"$:/plugins/oflg/fishing/buttons/learning/popup/more","text":"<div\n    style=\"min-width:0;font-size:10pt;\"\n>\n    <$list filter=\"[all[shadows+tiddlers]tag[$:/tags/LearningMore]!is[draft]]\">\n        <$transclude\n            tiddler=\"$:/core/ui/ViewTemplate/fishing/button\"\n            mode=\"inline\"\n        />\n    </$list>\n</div>"},"$:/plugins/oflg/fishing/buttons/learning/remember":{"title":"$:/plugins/oflg/fishing/buttons/learning/remember","key":"((fishing-remember))","tags":"$:/tags/Learning $:/tags/KeyboardShortcut","button-classes":"remember","list-after":"$:/plugins/oflg/fishing/buttons/learning/forget","caption":"{{$:/language/fishing/remember}}","description":"{{$:/language/fishing/remembertip}}","condition":"[<targetTiddler>has[grade]]","text":"<$list\n    filter=\"[<targetTiddler>!is[blank]]\n            ~[list[$:/temp/fishing]first[]!is[blank]has[grade]]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"?\"\n            />\n            <$action-sendmessage\n                $message=\"tm-remove-tag\"\n                $param=\"!\"\n            />\n            <$action-learn\n                $grade=\"1\"\n            />\n            <$action-deletetiddler\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n            />\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                text=\"\"\n                type=\"\"\n                list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n            />\n            <$action-setfield\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n            />\n            <$action-sendmessage\n                $message=\"tm-close-tiddler\"\n            />\n            <$list\n                filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n                variable=\"null\"\n            >\n                <$action-navigate\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\n                />\n            </$list>\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/data":{"title":"$:/plugins/oflg/fishing/data","type":"application/json","text":"{\n    \"requestRetention\": 0.9,\n    \"difficultyDecay\" : -0.7,\n    \"stabilityDecay\" : -0.2,\n    \"increaseFactor\" : 60,\n    \"totalCase\": 0,\n    \"totalDiff\": 0,\n    \"totalReview\": 0,\n    \"defaultDifficulty\": 5,\n    \"defaultStability\": 2,\n    \"stabilityDataArry\": []\n}\n"},"$:/plugins/oflg/fishing/filters/due.js":{"title":"$:/plugins/oflg/fishing/filters/due.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/filters/due.js\ntype: application/javascript\nmodule-type: filteroperator\n\nCalculate the due of tiddler\n\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    /*\n    Export our filter function\n    */\n    exports.due = function (source, operator, options) {\n        var results = [];\n        source(function (tiddler, title) {\n            var addDay = Number(title) >= 1 ? Number(title) : 1;\n\n            var dateTime = addDay * 86400000 + new Date().getTime();\n            var due = new Date(dateTime).toISOString().replace(/-|T|:|\\.|Z/g, \"\");\n\n            results.push(due);\n        });\n        return results;\n    };\n\n})();","type":"application/javascript","module-type":"filteroperator"},"$:/plugins/oflg/fishing/filters/interval.js":{"title":"$:/plugins/oflg/fishing/filters/interval.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/filters/interval.js\ntype: application/javascript\nmodule-type: filteroperator\n\nCalculate the interval of tiddler\n\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    /*\n    Export our filter function\n    */\n    exports.interval = function (source, operator, options) {\n        var results = [];\n        source(function (tiddler, title) {\n            var twTime = title;\n\n            var twTimeDay = $tw.wiki.filterTiddlers(\"[[\" + twTime + \"]format:date[YYYY-0MM-0DD]]\")[0],\n                nowDay = new Date().toISOString().split(\"T\")[0];\n\n            var diffTime = new Date(nowDay) - new Date(twTimeDay);\n\n            var diffDay = diffTime / 86400000 || 0;\n\n            var interval = String(diffDay > 0 ? diffDay : 0);\n\n            results.push(interval);\n        });\n        return results;\n    };\n\n})();\n","type":"application/javascript","module-type":"filteroperator"},"$:/plugins/oflg/fishing/filters/sortrandom.js":{"title":"$:/plugins/oflg/fishing/filters/sortrandom.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/filters/sortrandom.js\ntype: application/javascript\nmodule-type: filteroperator\nFilter operator for return a random title in the list.\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    /*\n    Export our filter function\n    */\n    exports.sortrandom = function (source, operator, options) {\n        var results = [];\n\n        source(function (tiddler, title) {\n            results.push(title);\n        });\n\n        results = results.sort(function () {\n            return Math.random() - 0.5;\n        });\n\n        return results;\n    };\n\n})();","type":"application/javascript","module-type":"filteroperator"},"$:/plugins/oflg/fishing/fishingfloat":{"title":"$:/plugins/oflg/fishing/fishingfloat","caption":"{{$:/plugins/oflg/fishing/icon}} {{$:/language/fishing/fishing}}","description":"{{$:/language/fishing/fishingtip}}","tags":"$:/tags/PageControls","text":"\\whitespace trim\n\\define lingo-base() $:/language/fishing/fishingfloat/\n<$button\n    popup=<<qualify \"$:/state/popup/fishingdeck\">>\n    tooltip={{$:/language/fishing/fishingtip}}\n    aria-label={{$:/language/fishing/fishingtip}}\n    class=<<tv-config-toolbar-class>>\n    selectedClass=\"tc-selected\"\n>\n    <$list filter=\"[<tv-config-toolbar-icons>match[yes]]\">\n        {{$:/plugins/oflg/fishing/icon}}\n    </$list>\n    <$list filter=\"[<tv-config-toolbar-text>match[yes]]\">\n        <span class=\"tc-btn-text\">\n            {{$:/language/fishing/fishingtip}}\n        </span>\n    </$list>\n</$button>\n<$reveal\n    state=<<qualify \"$:/state/popup/fishingdeck\">>\n    type=\"popup\"\n    position=\"below\"\n    animate=\"yes\"\n    positionAllowNegative=\"yes\"\n>\n    <div\n        class=\"tc-drop-down tc-popup-keep\"\n        style=\"min-width:0;\"\n    >\n        <!-- creat fishingpond -->\n        {{$:/plugins/oflg/fishing/fishingpond}}\n        <!-- creat fishingrod -->\n        {{$:/plugins/oflg/fishing/fishingrod}}\n    </div>\n</$reveal>"},"$:/plugins/oflg/fishing/fishingpond":{"title":"$:/plugins/oflg/fishing/fishingpond","rod":"[tag[?]]","duepond":"[has[due]] -[has[due]!days:due[1]]","unduepond":"[has[due]!days:due[1]]","newpond":"[!has[due]]","autoorder":"[!sortsub:number{$:/plugins/oflg/fishing/fishingpond!!autopriority}]","dueorder":"[sort[due]]","createdorder":"[sort[created]]","modifiedorder":"[sort[modified]]","azorder":"[sortan[]]","zaorder":"[!sortan[]]","randomorder":"[sortrandom[]]","autopriority":"[{!!caption}search-replace::regexp[{{\\|\\|(.*)}}],[$1]tag[$:/tags/QuestionTemplate]count[]] =[{!!due}interval[]] =[{!!priority}else[0]] =[{!!title}tags[]count[]] =[{!!title}tagging[]has[due]count[]negate[]] =[{!!title}tagging[]has[due]!days:due[1]count[]] =[{!!title}tagging[]has[due]!days:due[1]count[]] +[sum[]]","text":"<$list\n    filter=\"due undue new\"\n    variable=\"pondname\"\n>\n    <$let\n        pondordername={{{ [<pondname>addsuffix[order]] }}}\n        fishingrod={{{ [{$:/temp/fishing!!fishingrod}!is[blank]else{$:/plugins/oflg/fishing/fishingpond!!rod}] }}}\n        fishingpond={{{ [<pondname>match[due]then{$:/plugins/oflg/fishing/fishingpond!!duepond}]\n                        ~[<pondname>match[undue]then{$:/plugins/oflg/fishing/fishingpond!!unduepond}]\n                        ~[<pondname>match[new]then{$:/plugins/oflg/fishing/fishingpond!!newpond}] }}}\n        fishingorder={{{ [<fishingrod>addprefix[$:/plugins/oflg/fishing/fishingrod/]getindex<pondordername>]\n                        ~[<pondname>match[due]then{$:/plugins/oflg/fishing/fishingpond!!autoorder}]\n                        ~[<pondname>match[undue]then{$:/plugins/oflg/fishing/fishingpond!!modifiedorder}]\n                        ~[<pondname>match[new]then{$:/plugins/oflg/fishing/fishingpond!!createdorder}] }}}\n    >\n        <$button\n            tooltip={{$:/language/fishing/fishingpondtip}}\n            aria-label={{$:/language/fishing/fishingpondtip}}\n            class=\"tc-btn-invisible tc-tiddlylink\"\n            style=\"padding-right:10px;\"\n        >\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                text=\"\"\n                type=\"\"\n                fishingrod=<<fishingrod>>\n                fishingpond=<<fishingpond>>\n                fishingorder=<<fishingorder>>\n                list={{{ [subfilter<fishingrod>subfilter<fishingpond>subfilter<fishingorder>first[]format:titlelist[]] }}}\n            />\n            <$action-setfield\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n            />\n            <$action-navigate\n                $to={{{ [list[$:/temp/fishing]first[]] }}}\n            />\n            <$action-popup\n                $state=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishingdeck\">>\n                $coords=\"\"\n            />\n                <$text text={{{ [[$:/language/fishing/]addsuffix<pondname>get[text]] }}}/> : <$count filter=\"[subfilter<fishingrod>subfilter<fishingpond>]\"/>\n        </$button>\n    </$let>\n</$list>"},"$:/plugins/oflg/fishing/fishingrod":{"title":"$:/plugins/oflg/fishing/fishingrod","text":"<div\n    style=\"margin:5px 15px;\"\n>\n    <$edit-text\n        tiddler=\"$:/temp/fishing\"\n        field=\"fishingrod\"\n        tag=\"input\"\n        focus=\"true\"\n        placeholder=\"[tag[?]]\"\n        inputActions='<$action-setfield $tiddler=\"$:/temp/fishing\" list=\"\"/>'\n    />\n</div>\n<div\n    style=\"display:flex;margin:0 15px;justify-content:flex-start;align-items:center;font-size:10pt;\"\n>\n    <$list\n        filter=\"[all[shadows+tiddlers]tag[$:/tags/FishingGrod]!is[draft]]\"\n    >\n        <$transclude\n            tiddler=\"$:/core/ui/ViewTemplate/fishing/button\"\n            mode=\"inline\"\n        />\n    </$list>\n</div>"},"$:/plugins/oflg/fishing/icon":{"title":"$:/plugins/oflg/fishing/icon","tags":"$:/tags/Image","text":"<svg width=\"22pt\" height=\"22pt\" class=\"tc-image-home-button tc-image-button\" viewBox=\"0 0 128 128\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g id=\"fishingfloat\">\n        <path d=\"M0 0L128 0L128 128L0 128L0 0Z\" id=\"Background\" fill=\"none\" fill-rule=\"evenodd\" stroke=\"none\"/>\n        <g clip-path=\"url(#mask_1)\">\n            <path d=\"M114.476 39.6C118.316 26.8 116.396 11.44 100.716 8.56001C89.196 6.32001 80.876 12.72 73.516 21.04C64.876 30.96 57.196 42.8 45.676 49.52C34.476 56.24 6.63596 57.84 5.35596 39.92C4.71596 28.72 12.716 16.24 19.436 7.92C21.676 5.04 17.516 0.880004 15.276 3.76C3.75596 18.16 -11.604 47.92 13.676 57.2C27.116 62.32 42.476 59.76 53.676 50.8C64.236 42.8 71.276 31.28 80.556 22C85.356 16.88 90.476 12.72 97.836 13.68C110.956 15.28 111.916 26.8 108.716 37.68C108.396 37.68 108.396 38 108.076 38C94.316 48.56 128.876 50.8 114.476 39.6Z\" id=\"fishthread\" style={{{ [tag[?]has[due]] -[tag[?]!days:due[1]] +[count[]compare:number:gt[0]then[fill:red;]else[]] }}} fill-rule=\"evenodd\" stroke=\"none\"/>\n            <g id=\"fish\" transform=\"translate(17.119965 32.21466)\">\n                <path d=\"M108.32 51.6253C108.32 51.3053 108 51.3053 108 50.9853C113.44 34.9853 111.84 17.3853 97.44 6.18534C97.6322 5.54471 94.7198 -6.07014 91.68 4.26533C91.68 4.26533 91.68 4.26533 91.68 4.26533C91.36 4.26533 91.36 4.58533 91.04 4.58533C77.28 15.1453 66.4 27.6253 61.6 43.6253C61.28 43.6253 60.64 43.9453 60.32 43.9453C52.96 48.1053 46.56 54.8253 45.92 63.4653C45.6 66.0253 48.48 66.6653 50.4 66.0253C52.96 64.7453 55.52 64.1053 58.08 63.4653C56.48 72.7453 52.96 81.7053 43.68 75.3053C38.24 71.7853 35.36 63.7853 34.4 58.0253C34.08 55.4653 30.24 53.5453 28.96 56.4253C27.04 61.2253 25.76 66.3453 25.44 71.1453C18.4 71.4653 9.76 65.0653 4.32 61.5453C2.72 60.5853 1.12 61.2253 0.479998 62.8253C-0.16 63.7853 -0.16 64.7453 0.479998 65.7053C7.52 76.2653 17.44 86.5053 29.28 90.9853C46.56 98.0253 68.32 91.9453 83.36 82.0253C85.6 80.4253 87.84 78.8253 89.76 76.9053C93.6 76.5853 97.44 78.8253 99.68 82.0253C100.64 83.3053 102.24 83.9453 103.52 82.9853L104.48 82.0253C110.56 73.3853 113.44 61.5453 108.32 51.6253L108.32 51.6253Z\" id=\"Shape\" stroke=\"none\"/>\n                <path d=\"M53.28 58.6653C54.88 55.7853 57.12 53.2253 59.68 51.3053C59.36 52.9053 59.04 55.1453 59.04 57.3853L58.4 57.3853C56.8 57.7053 55.2 58.0253 53.28 58.6653L53.28 58.6653ZM102.24 75.9454C100.32 74.3454 98.08 73.0654 95.52 72.4254C99.04 68.2654 102.24 63.7854 104.48 58.9854C106.08 64.4254 104.48 70.5053 102.24 75.9454L102.24 75.9454Z\" id=\"Shape\" fill-rule=\"evenodd\" stroke=\"none\"/>\n            </g>\n        </g>\n    </g>\n</svg>"},"$:/language/fishing/fishing":{"title":"$:/language/fishing/fishing","text":"Fishing"},"$:/language/fishing/fishingtip":{"title":"$:/language/fishing/fishingtip","text":"Incremental learning"},"$:/language/fishing/fold":{"title":"$:/language/fishing/fold","text":"Unfold or fold this tiddler"},"$:/language/fishing/learn":{"title":"$:/language/fishing/learn","text":"Next"},"$:/language/fishing/learntip":{"title":"$:/language/fishing/learntip","text":"Learn one more"},"$:/language/fishing/forget":{"title":"$:/language/fishing/forget","text":"Forget"},"$:/language/fishing/forgettip":{"title":"$:/language/fishing/forgettip","text":"Forget the answer"},"$:/language/fishing/remember":{"title":"$:/language/fishing/remember","text":"Remember"},"$:/language/fishing/remembertip":{"title":"$:/language/fishing/remembertip","text":"Remember the answer"},"$:/language/fishing/grasp":{"title":"$:/language/fishing/grasp","text":"Grasp"},"$:/language/fishing/grasptip":{"title":"$:/language/fishing/grasptip","text":"Grasp the question"},"$:/language/fishing/more":{"title":"$:/language/fishing/more","text":"⁝"},"$:/language/fishing/moretip":{"title":"$:/language/fishing/moretip","text":"More"},"$:/language/fishing/discard":{"title":"$:/language/fishing/discard","text":"Discard"},"$:/language/fishing/discardtip":{"title":"$:/language/fishing/discardtip","text":"No more learning this tiddler"},"$:/language/fishing/add7":{"title":"$:/language/fishing/add7","text":"+ 7"},"$:/language/fishing/add7tip":{"title":"$:/language/fishing/add7tip","text":"Learning this tiddler next week"},"$:/language/fishing/add1":{"title":"$:/language/fishing/add1","text":"+ 1"},"$:/language/fishing/add1tip":{"title":"$:/language/fishing/add1tip","text":"Learning this tiddler tomorrow"},"$:/language/fishing/fishingpondtip":{"title":"$:/language/fishing/fishingpondtip","text":"Learn this group of tiddlers"},"$:/language/fishing/due":{"title":"$:/language/fishing/due","text":"Due"},"$:/language/fishing/undue":{"title":"$:/language/fishing/undue","text":"Undue"},"$:/language/fishing/new":{"title":"$:/language/fishing/new","text":"New"},"$:/language/fishing/commonfiltertip":{"title":"$:/language/fishing/commonfiltertip","text":"Commonly used Filter"},"$:/language/fishing/addfiltertip":{"title":"$:/language/fishing/addfiltertip","text":"Add to commonly used Filter"},"$:/language/fishing/unaddfiltertip":{"title":"$:/language/fishing/unaddfiltertip","text":"Unadd this Filter"},"$:/language/fishing/fillfiltertip":{"title":"$:/language/fishing/fillfiltertip","text":"Fill in this Filter"},"$:/language/fishing/customisefiltertip":{"title":"$:/language/fishing/customisefiltertip","text":"Customise the behaviour of this Filter"},"$:/language/fishing/setalias":{"title":"$:/language/fishing/setalias","text":"Alias"},"$:/language/fishing/typealias":{"title":"$:/language/fishing/typealias","text":"Type alias"},"$:/language/fishing/setorder":{"title":"$:/language/fishing/setorder","text":"Learning order"},"$:/language/fishing/autoorder":{"title":"$:/language/fishing/autoorder","text":"Auto priority"},"$:/language/fishing/dueorder":{"title":"$:/language/fishing/dueorder","text":"Due date"},"$:/language/fishing/modifiedorder":{"title":"$:/language/fishing/modifiedorder","text":"modified date"},"$:/language/fishing/createdorder":{"title":"$:/language/fishing/createdorder","text":"Created date"},"$:/language/fishing/azorder":{"title":"$:/language/fishing/azorder","text":"Title A-Z"},"$:/language/fishing/zaorder":{"title":"$:/language/fishing/zaorder","text":"Title Z-A"},"$:/language/fishing/randomorder":{"title":"$:/language/fishing/randomorder","text":"Random"},"$:/language/fishing/viewfiltertip":{"title":"$:/language/fishing/viewfiltertip","text":"View tiddlers related to this Filter"},"$:/language/fishing/exportdatatip":{"title":"$:/language/fishing/exportdatatip","text":"Export learning data and upload it to open source platform to improve FSRS algorithm"},"$:/language/fishing/settings":{"title":"$:/language/fishing/settings","text":"These settings let you customise the behaviour of Fishing."},"$:/language/fishing/globalsettings":{"title":"$:/language/fishing/globalsettings","text":"Global"},"$:/language/fishing/setparameter":{"title":"$:/language/fishing/setparameter","text":"Parameter"},"$:/language/fishing/setretention":{"title":"$:/language/fishing/setretention","text":"Retention"},"$:/language/fishing/setretentiontip":{"title":"$:/language/fishing/setretentiontip","text":"Must be between 0.7 and 0.95"},"$:/language/fishing/settitletip":{"title":"$:/language/fishing/settitletip","text":"Condition for showing caption of a tiddler."},"$:/language/fishing/setlearntip":{"title":"$:/language/fishing/setlearntip","text":"Condition for showing learning of a tiddler."},"$:/language/fishing/pluginlibrary":{"title":"$:/language/fishing/pluginlibrary","text":"Fishing Plugin Library"},"$:/language/fishing/pluginlibrarytip":{"title":"$:/language/fishing/pluginlibrarytip","text":"This plugin library can be used to install and update plugins and Learning Packs related to Fishing."},"$:/plugins/oflg/fishing/macros/fsrs.js":{"title":"$:/plugins/oflg/fishing/macros/fsrs.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/macros/fsrs.js\ntype: application/javascript\nmodule-type: macro\n\nUse Free Spaced Repetition Scheduler: https://github.com/open-spaced-repetition/free-spaced-repetition-scheduler\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    exports.name = \"fsrs\";\n\n    exports.params = [\n        { name: \"title\" },\n        { name: \"grade\" }\n    ];\n\n    /*\n    Run the macro\n    */\n    exports.run = function (title, grade) {\n        grade = (grade == \"0\" || grade == \"1\" || grade == \"2\") ? Number(grade) : -1;//Ratings for review have 0, 1, 2. Other ratings mean learn new tiddler.\n\n        var globalData = $tw.wiki.getTiddlerData('$:/plugins/oflg/fishing/data');\n\n        function faultToleranceValue(value, defaultValue) {\n            return (typeof value === 'number' && !isNaN(value)) ? value : defaultValue;\n        }\n\n        var increaseFactor = 60,\n            difficultyDecay = -0.7,\n            stabilityDecay = -0.2,\n            requestRetention = faultToleranceValue(globalData.requestRetention, 0.9),\n            totalCase = faultToleranceValue(globalData.totalCase, 0),\n            totalDiff = faultToleranceValue(globalData.totalDiff, 0),\n            totalReview = faultToleranceValue(globalData.totalReview, 0),\n            defaultDifficulty = faultToleranceValue(globalData.defaultDifficulty, 5),\n            defaultStability = faultToleranceValue(globalData.defaultStability, 2),\n            stabilityDataArry = globalData.stabilityDataArry || [];\n\n        requestRetention = requestRetention >= 0.75 && requestRetention <= 0.95 ? requestRetention : 0.9;\n\n        var due, interval, difficulty, stability, retrievability, lapses, reps, review, history;\n\n        review = new Date().toISOString().replace(/\\-|T|:|\\.|Z/g, \"\");\n\n        if (grade == -1) {// learn new tiddler\n            var addDay = Math.round(defaultStability * Math.log(requestRetention) / Math.log(0.9));\n\n            due = $tw.wiki.filterTiddlers(\"[[\" + addDay + \"]due[]]\")[0];\n            interval = 0;\n            difficulty = defaultDifficulty;\n            stability = defaultStability;\n            retrievability = 1;\n            grade = -1;\n            reps = 1;\n            lapses = 0;\n            history = \"[]\";\n        } else {// review tiddler after learn\n            var lastFieldsData = $tw.wiki.getTiddler(title).fields;\n\n            var lastDue = String(lastFieldsData.due),\n                lastInterval = Number(lastFieldsData.interval),\n                lastDifficulty = Number(lastFieldsData.difficulty),\n                lastStability = Number(lastFieldsData.stability),\n                lastRetrievability = Number(lastFieldsData.retrievability),\n                lastGrade = Number(lastFieldsData.grade),\n                lastLapses = Number(lastFieldsData.lapses),\n                lastReps = Number(lastFieldsData.reps),\n                lastReview = String(lastFieldsData.review),\n                lastHistory = JSON.parse(lastFieldsData.history);\n\n            interval = Number($tw.wiki.filterTiddlers(\"[[\" + lastReview + \"]interval[]]\")[0]);\n            retrievability = Math.exp(Math.log(0.9) * interval / lastStability);\n            difficulty = Math.min(Math.max(lastDifficulty + retrievability - grade + 0.2, 1), 10);\n\n            if (grade == 0) {\n                stability = defaultStability * Math.exp(-0.3 * (lastLapses + 1));\n\n                if (lastReps > 1) {\n                    totalDiff = totalDiff - retrievability;\n                }\n                lapses = lastLapses + 1;\n                reps = 1;\n            } else {//grade == 1 || grade == 2\n                stability = lastStability * (1 + increaseFactor * Math.pow(difficulty, difficultyDecay) * Math.pow(lastStability, stabilityDecay) * (Math.exp(1 - retrievability) - 1));\n\n                if (lastReps > 1) {\n                    totalDiff = totalDiff + 1 - retrievability;\n                }\n                lapses = lastLapses;\n                reps = lastReps + 1;\n            }\n\n            totalCase = totalCase + 1;\n            totalReview = totalReview + 1;\n\n            var addDay = Math.round(stability * Math.log(requestRetention) / Math.log(0.9));\n\n            due = $tw.wiki.filterTiddlers(\"[[\" + addDay + \"]due[]]\")[0];\n\n            lastHistory.push({\n                due: lastDue,\n                interval: lastInterval,\n                difficulty: lastDifficulty,\n                stability: lastStability,\n                retrievability: lastRetrievability,\n                grade: lastGrade,\n                lapses: lastLapses,\n                reps: lastReps,\n                review: lastReview\n            });\n\n            history = JSON.stringify(lastHistory);\n\n            // Adaptive defaultDifficulty\n            if (totalCase > 100) {\n                defaultDifficulty = 1 / Math.pow(totalReview, 0.3) * Math.pow(Math.log(requestRetention) / Math.max(Math.log(requestRetention + totalDiff / totalCase), 0), 1 / difficultyDecay) * 5 + (1 - 1 / Math.pow(totalReview, 0.3)) * defaultDifficulty;\n\n                totalDiff = 0;\n                totalCase = 0;\n            }\n\n            // Adaptive defaultStability\n            if (lastReps === 1 && lastLapses === 0) {\n                stabilityDataArry.push({\n                    interval: interval,\n                    retrievability: grade === \"0\" ? 0 : 1\n                });\n\n                if (stabilityDataArry.length > 0 && stabilityDataArry.length % 50 === 0) {\n                    var intervalSetArry = [];\n\n                    var sumRI2S = 0,\n                        sumI2S = 0;\n                    for (var s = 0; s < stabilityDataArry.length; s++) {\n                        var ivl = stabilityDataArry[s].interval;\n\n                        if (intervalSetArry.indexOf(ivl) === -1) {\n\n                            intervalSetArry.push(ivl);\n\n                            var filterArry = stabilityDataArry.filter(function (fi) {\n                                return fi.interval === ivl;\n                            });\n\n                            var retrievabilitySum = filterArry.reduce(function (sum, e) {\n                                return sum + e.retrievability;\n                            }, 0);\n\n                            if (retrievabilitySum > 0) {\n                                sumRI2S = sumRI2S + ivl * Math.log(retrievabilitySum / filterArry.length) * filterArry.length;\n                                sumI2S = sumI2S + ivl * ivl * filterArry.length;\n                            }\n                        }\n                    }\n                    defaultStability = (Math.max(Math.log(0.9) / (sumRI2S / sumI2S), 0.1) + defaultStability) / 2;\n                }\n            }\n        }\n\n        var tiddlerData = {\n            due: due,\n            interval: interval,\n            difficulty: difficulty,\n            stability: stability,\n            retrievability: retrievability,\n            lapses: lapses,\n            reps: reps,\n            grade: grade,\n            review: review,\n            history: history\n        };\n\n        globalData = {\n            requestRetention: requestRetention,\n            increaseFactor: increaseFactor,\n            difficultyDecay: difficultyDecay,\n            stabilityDecay: stabilityDecay,\n            totalCase: totalCase,\n            totalDiff: totalDiff,\n            totalReview: totalReview,\n            defaultDifficulty: defaultDifficulty,\n            defaultStability: defaultStability,\n            stabilityDataArry: stabilityDataArry\n        };\n\n        return { tiddlerData: tiddlerData, globalData: globalData };// Action was invoked\n    };\n\n})();","type":"application/javascript","module-type":"macro"},"$:/plugins/oflg/fishing/styles.css":{"title":"$:/plugins/oflg/fishing/styles.css","tags":"$:/tags/Stylesheet","text":"\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\n\n.fishingrod-button {\n    margin:0!important;\n    padding:0 5px!important;\n    width:auto!important;\n}\n\n.dropdown-more {\n    padding:3px 10px!important;\n}\n\n.tc-fishing-learning {\n    display:flex;\n    justify-content:space-between;\n    align-items:center;\n}\n\n.tc-fishing-learning-count{\n    color:grey;\n}\n\n.tc-fishing-learning-grade .learn{\n    color:green;\n    margin-left:10px;\n}\n\n.tc-fishing-learning-grade .forget{\n    color:red;\n    margin-left:10px;\n}\n\n.tc-fishing-learning-grade .remember{\n    color:green;\n    margin-left:10px;\n}\n\n.tc-fishing-learning-grade .grasp{\n    color:blue;\n    margin-left:10px;\n}\n\n.tc-fishing-learning-grade .more{\n    padding-left:10px;\n}\n\n\nblockquote.tc-fish-quote {\n    border-left: 1px solid <<colour message-border>>;\n    margin-right: 0;\n    margin-left: 5px;\n}"},"$:/config/ViewTemplateTitleFilters/fishing/caption":{"title":"$:/config/ViewTemplateTitleFilters/fishing/caption","tags":"$:/tags/ViewTemplateTitleFilter","list-before":"$:/config/ViewTemplateTitleFilters/system","text":"[{!!title}]\n:cascade[all[shadows+tiddlers]tag[$:/tags/FishingFilter/caption]!is[draft]get[text]]\n+[!is[blank]limit[1]then[$:/core/ui/ViewTemplate/fishing/caption]]"},"$:/config/FishingFilter/caption":{"title":"$:/config/FishingFilter/caption","tags":"$:/tags/FishingFilter/caption","text":"[{!!title}tag[?]]\n[{!!title}tag[!]]\n[list[$:/temp/fishing]match{!!title}]"},"$:/config/FishingFilter/learning":{"title":"$:/config/FishingFilter/learning","tags":"$:/tags/FishingFilter/learning","text":"[list[$:/temp/fishing]match{!!title}]"},"$:/config/EditTemplateFields/Visibility/due":{"title":"$:/config/EditTemplateFields/Visibility/due","text":"hide"},"$:/config/EditTemplateFields/Visibility/interval":{"title":"$:/config/EditTemplateFields/Visibility/interval","text":"hide"},"$:/config/EditTemplateFields/Visibility/grade":{"title":"$:/config/EditTemplateFields/Visibility/grade","text":"hide"},"$:/config/EditTemplateFields/Visibility/difficulty":{"title":"$:/config/EditTemplateFields/Visibility/difficulty","text":"hide"},"$:/config/EditTemplateFields/Visibility/stability":{"title":"$:/config/EditTemplateFields/Visibility/stability","text":"hide"},"$:/config/EditTemplateFields/Visibility/retrievability":{"title":"$:/config/EditTemplateFields/Visibility/retrievability","text":"hide"},"$:/config/EditTemplateFields/Visibility/lapses":{"title":"$:/config/EditTemplateFields/Visibility/lapses","text":"hide"},"$:/config/EditTemplateFields/Visibility/reps":{"title":"$:/config/EditTemplateFields/Visibility/reps","text":"hide"},"$:/config/EditTemplateFields/Visibility/review":{"title":"$:/config/EditTemplateFields/Visibility/review","text":"hide"},"$:/config/EditTemplateFields/Visibility/history":{"title":"$:/config/EditTemplateFields/Visibility/history","text":"hide"},"$:/config/FishingPluginLibrary":{"title":"$:/config/FishingPluginLibrary","caption":"{{$:/language/fishing/pluginlibrary}}","tags":"$:/tags/PluginLibrary","url":"https://tiddlymemo.org/library/","text":"{{$:/language/fishing/pluginlibrarytip}}"},"$:/core/ui/ControlPanel/Settings":{"title":"$:/core/ui/ControlPanel/Settings","caption":"{{$:/language/ControlPanel/Settings/Caption}}","tags":"$:/tags/ControlPanel","text":"<div class=\"tc-control-panel\">\n<$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/SettingsTab]!is[draft]]\" default=\"$:/core/ui/ControlPanel/Settings/TiddlyWiki\" explicitState=\"$:/state/tab--697582678\"/>\n</div>\n"},"$:/core/ui/ControlPanel/Settings/Fishing/fishing":{"title":"$:/core/ui/ControlPanel/Settings/Fishing/fishing","caption":"{{$:/language/fishing/globalsettings}}","tags":"$:/tags/ControlPanel/Settings/Fishing","text":"!!!{{$:/language/fishing/setparameter}}\n\n|{{$:/language/fishing/setretention}} |<$edit-text tiddler=\"$:/plugins/oflg/fishing/data\" index=\"requestRetention\" placeholder=\"0.9\" tag=\"input\"/><br/>@@color:red;font-size:10px;{{$:/language/fishing/setretentiontip}}@@ |\n\n!!!{{$:/language/ControlPanel/Cascades/Caption}}\n\n{{$:/language/fishing/settitletip}}\n{{$:/tags/FishingFilter/caption||$:/snippets/ListTaggedCascade}}\n\n{{$:/language/fishing/setlearntip}}\n{{$:/tags/FishingFilter/learning||$:/snippets/ListTaggedCascade}}"},"$:/core/ui/ControlPanel/Settings/Fishing":{"title":"$:/core/ui/ControlPanel/Settings/Fishing","caption":"{{$:/language/fishing/fishing}}","list-after":"$:/core/ui/ControlPanel/Settings/TiddlyWiki","tags":"$:/tags/ControlPanel/SettingsTab","text":"{{$:/language/fishing/settings}}<br>\n\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings/Fishing]]\">\n\n    <div style=\"border-top:1px solid #eee;\">\n\n        !! <$transclude field=\"caption\"/>\n\n        <$transclude/>\n\n    </div>\n\n</$list>"},"$:/core/ui/ControlPanel/Settings/TiddlyWiki":{"title":"$:/core/ui/ControlPanel/Settings/TiddlyWiki","caption":"TiddlyWiki","tags":"$:/tags/ControlPanel/SettingsTab","text":"\\define lingo-base() $:/language/ControlPanel/Settings/\n\n<<lingo Hint>>\n\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings]]\">\n\n<div style=\"border-top:1px solid #eee;\">\n\n!! <$link><$transclude field=\"caption\"/></$link>\n\n<$transclude/>\n\n</div>\n\n</$list>\n"},"$:/core/ui/KeyboardShortcuts/fishing-fold":{"title":"$:/core/ui/KeyboardShortcuts/fishing-fold","key":"((fishing-fold))","tags":"$:/tags/KeyboardShortcut","text":"<$list\n    filter=\"[list[$:/temp/fishing]first[]!is[blank]]\"\n>\n    <$action-setfield\n        $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n        text={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]get[text]match[hide]then[show]else[hide]] }}}\n    />\n</$list>"},"$:/config/ShortcutInfo/fishing-fold":{"title":"$:/config/ShortcutInfo/fishing-fold","text":"{{$:/language/fishing/fold}}"},"$:/config/ShortcutInfo/fishing-learn":{"title":"$:/config/ShortcutInfo/fishing-learn","text":"{{$:/language/fishing/learn}}"},"$:/config/ShortcutInfo/fishing-forget":{"title":"$:/config/ShortcutInfo/fishing-forget","text":"{{$:/language/fishing/forget}}"},"$:/config/ShortcutInfo/fishing-remember":{"title":"$:/config/ShortcutInfo/fishing-remember","text":"{{$:/language/fishing/remember}}"},"$:/config/ShortcutInfo/fishing-grasp":{"title":"$:/config/ShortcutInfo/fishing-grasp","text":"{{$:/language/fishing/grasp}}"},"$:/config/ShortcutInfo/fishing-discard":{"title":"$:/config/ShortcutInfo/fishing-discard","text":"{{$:/language/fishing/discard}}"},"$:/config/shortcuts/fishing-fold":{"title":"$:/config/shortcuts/fishing-fold","text":"ctrl-Enter"},"$:/config/shortcuts/fishing-learn":{"title":"$:/config/shortcuts/fishing-learn","text":"ctrl-L"},"$:/config/shortcuts/fishing-forget":{"title":"$:/config/shortcuts/fishing-forget","text":"ctrl-0"},"$:/config/shortcuts/fishing-remember":{"title":"$:/config/shortcuts/fishing-remember","text":"ctrl-1"},"$:/config/shortcuts/fishing-grasp":{"title":"$:/config/shortcuts/fishing-grasp","text":"ctrl-2"},"$:/config/shortcuts/fishing-discard":{"title":"$:/config/shortcuts/fishing-discard","text":"ctrl-D"},"$:/core/ui/ViewTemplate/fishing/button":{"title":"$:/core/ui/ViewTemplate/fishing/button","code-body":"yes","text":"\\define fishing-button-icon()\n<$list\n    filter=\"[all[current]!has[custom-icon]]\"\n    variable=\"no-custom-icon\"\n>\n    <$transclude\n        tiddler={{!!icon}}\n    />\n</$list>\n\\end\n\n\\define fishing-button-caption()\n<$list\n    filter=\"[all[current]!has[custom-caption]]\"\n    variable=\"no-custom-caption\"\n>\n   <$wikify\n        name=\"caption-text\"\n        text={{!!caption}}\n        mode=\"inline\"\n        output=\"text\"\n    >\n        <<caption-text>>\n   </$wikify>\n</$list>\n\\end\n\n\\define fishing-button-tooltip()\n{{!!description}} <$macrocall\n    $name=\"displayshortcuts\"\n    $output=\"text/plain\"\n    shortcuts={{!!key}}\n    prefix=\"` - [\"\n    separator=\"] [\"\n    suffix=\"]`\"\n/>\n\\end\n\n\\define fishing-button()\n<$list\n    filter={{!!condition}}\n    variable=\"list-condition\"\n>\n    <$wikify\n        name=\"tooltip-text\"\n        text=<<fishing-button-tooltip>>\n        mode=\"inline\"\n        output=\"text\"\n    >\n        <$list\n            filter=\"[all[current]!has[popup]]\"\n            variable=\"no-popup\"\n        >\n            <$set\n                name=disabled\n                filter={{!!condition-disabled}}\n            >\n                <$button\n                    class=\"tc-btn-invisible $(buttonClasses)$\"\n                    tooltip=<<tooltip-text>>\n                    aria-label=<<tooltip-text>>\n                    actions={{!!actions}}\n                    disabled=<<disabled>>\n                >\n                    <<fishing-button-icon>>\n                    <<fishing-button-caption>>\n                    <$transclude\n                        tiddler=<<currentTiddler>>\n                        field=\"text\"\n                    />\n                </$button>\n            </$set>\n        </$list>\n        <$list\n            filter=\"[all[current]has[popup]]\"\n            variable=\"popup\"\n        >\n            <$set\n                name=\"popup-state\"\n                value=<<qualify \"$:/state/FishingButtonPopup\">>\n            >\n                <$set\n                    name=disabled\n                    filter={{!!condition-disabled}}\n                >\n                    <$button\n                        popup=<<popup-state>>\n                        class=\"tc-popup-keep tc-btn-invisible $(buttonClasses)$\"\n                        selectedClass=\"tc-selected\"\n                        tooltip=<<tooltip-text>>\n                        actions={{!!actions}}\n                        disabled=<<disabled>>\n                    >\n                        <<fishing-button-icon>>\n                        <<fishing-button-caption>>\n                        <$transclude\n                            tiddler=<<currentTiddler>>\n                            field=\"text\"\n                        />\n                    </$button>\n                </$set>\n                <$reveal\n                    state=<<popup-state>>\n                    type=\"popup\"\n                    position={{{ [{!!position}] ~[[below]] }}}\n                    animate=\"yes\"\n                    tag=\"span\"\n                >\n                    <div\n                        class=\"tc-drop-down tc-popup-keep\"\n                        style=\"min-width:0;\"\n                    >\n                        <$transclude\n                            tiddler={{!!popup}}\n                            mode=\"inline\"\n                        />\n                    </div>\n                </$reveal>\n            </$set>\n        </$list>\n    </$wikify>\n</$list>\n\\end\n\n\\define fishing-button-outer()\n<$set\n    name=\"buttonClasses\"\n    value={{!!button-classes}}\n>\n    <<fishing-button>>\n</$set>\n\\end\n\n<<fishing-button-outer>>"},"$:/core/ui/ViewTemplate/fishing/caption":{"title":"$:/core/ui/ViewTemplate/fishing/caption","code-body":"yes","text":"<<toc-caption>>"},"$:/core/ui/ViewTemplate/fishing/fold":{"title":"$:/core/ui/ViewTemplate/fishing/fold","tags":"$:/tags/ViewTemplate","list-after":"$:/core/ui/ViewTemplate/title","code-body":"yes","text":"<$list\n    filter=\"[{!!title}] :cascade[all[shadows+tiddlers]tag[$:/tags/FishingFilter/learning]!is[draft]get[text]] +[!is[blank]limit[1]]\"\n    variable=\"null\"\n>\n    <$reveal\n        state=\"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar\"\n        type=\"nomatch\"\n        text=\"show\"\n        animate=\"yes\"\n    >\n            <$reveal\n                    tag=\"div\"\n                    type=\"nomatch\"\n                    stateTitle=<<folded-state>>\n                    text=\"hide\"\n                    default=\"show\"\n                    retain=\"yes\"\n                    animate=\"yes\"\n            >\n                    <$button\n                    tooltip={{$:/language/Buttons/Fold/Hint}}\n                    aria-label={{$:/language/Buttons/Fold/Caption}}\n                    class=\"tc-fold-banner\"\n                    >\n                            <$action-sendmessage\n                                    $message=\"tm-fold-tiddler\"\n                                    $param=<<currentTiddler>>\n                                    foldedState=<<folded-state>>\n                            />\n                            {{$:/core/images/chevron-up}}\n                    </$button>\n            </$reveal>\n            <$reveal\n                    tag=\"div\"\n                    type=\"nomatch\"\n                    stateTitle=<<folded-state>>\n                    text=\"show\"\n                    default=\"show\"\n                    retain=\"yes\"\n                    animate=\"yes\"\n            >\n                    <$button\n                    tooltip={{$:/language/Buttons/Unfold/Hint}}\n                    aria-label={{$:/language/Buttons/Unfold/Caption}}\n                    class=\"tc-unfold-banner\"\n                    >\n                    <$action-sendmessage\n                            $message=\"tm-fold-tiddler\"\n                            $param=<<currentTiddler>>\n                            foldedState=<<folded-state>>\n                    />\n                    {{$:/core/images/chevron-down}}\n                    </$button>\n            </$reveal>\n    </$reveal>\n</$list>"},"$:/core/ui/ViewTemplate/fishing/learning":{"title":"$:/core/ui/ViewTemplate/fishing/learning","tags":"$:/tags/ViewTemplate","list-after":"$:/core/ui/ViewTemplate/body","code-body":"yes","text":"<$list\n    filter=\"[{!!title}]\n            :cascade[all[shadows+tiddlers]tag[$:/tags/FishingFilter/learning]!is[draft]get[text]]\n            +[!is[blank]limit[1]]\"\n    variable=\"targetTiddler\"\n>\n    <$reveal\n        state=<<folded-state>>\n        type=\"nomatch\"\n        text=\"hide\"\n        animate=\"yes\"\n    >\n        <div\n            class=\"tc-fishing-learning\"\n        >\n            <!-- creat count -->\n            <div\n                class=\"tc-fishing-learning-count\"\n            >\n                <$count filter=\"[subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}]\"/>\n            </div>\n            <!-- creat grade button -->\n            <div\n                class=\"tc-fishing-learning-grade\"\n            >\n                <$list\n                    filter=\"[all[shadows+tiddlers]tag[$:/tags/Learning]!is[draft]]\"\n                >\n                    <$transclude\n                        tiddler=\"$:/core/ui/ViewTemplate/fishing/button\"\n                        mode=\"inline\"\n                    />\n                </$list>\n            </div>\n        </div>\n    </$reveal>\n</$list>"},"$:/plugins/oflg/fishing/widgets/action-exportdata.js":{"title":"$:/plugins/oflg/fishing/widgets/action-exportdata.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/widgets/action-exportdata.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to export fsrs data.\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    var Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\n    var ExportdataWidget = function (parseTreeNode, options) {\n        this.initialise(parseTreeNode, options);\n    };\n\n    /*\n    Inherit from the base widget class\n    */\n    ExportdataWidget.prototype = new Widget();\n\n    /*\n    Render this widget into the DOM\n    */\n    ExportdataWidget.prototype.render = function (parent, nextSibling) {\n        this.computeAttributes();\n        this.execute();\n    };\n\n    /*\n    Compute the internal state of the widget\n    */\n    ExportdataWidget.prototype.execute = function () {\n        this.actionTiddler = this.getAttribute(\"$tiddler\", \"$:/temp/fishing/fsrsdata\");\n        this.actionTimestamp = this.getAttribute(\"$timestamp\", \"yes\") === \"yes\";\n    };\n\n    /*\n    Refresh the widget by ensuring our attributes are up to date\n    */\n    ExportdataWidget.prototype.refresh = function (changedTiddlers) {\n        var changedAttributes = this.computeAttributes();\n        if (changedAttributes[\"$tiddler\"] || changedAttributes[\"$timestamp\"]) {\n            this.refreshSelf();\n            return true;\n        }\n        return this.refreshChildren(changedTiddlers);\n    };\n\n    /*\n    Invoke the action associated with this widget\n    */\n    ExportdataWidget.prototype.invokeAction = function (triggeringWidget, event) {\n        var title = this.actionTiddler;\n\n        var tiddlerArry = $tw.wiki.filterTiddlers(\"[has[history]]\");\n\n        var data = {};\n\n        var globalData = $tw.wiki.getTiddlerData('$:/plugins/oflg/fishing/data');\n\n        data.globalData = globalData;\n\n        data.cardsData = [];\n\n        function getJson(jsonString) {\n            jsonString = jsonString || \"[]\";\n            var result = [];\n            try {\n                result = JSON.parse(jsonString);\n            } catch (error) {\n                console.log(\"JSON error : \" + error);\n                console.log(jsonString);\n            }\n            return result;\n        }\n\n        for (var f = 0; f < tiddlerArry.length; f++) {\n\n            var tiddlerData = $tw.wiki.getTiddler(tiddlerArry[f]).fields;\n\n            var tiddlerDue = String(tiddlerData.due),\n                tiddlerInterval = Number(tiddlerData.interval),\n                tiddlerDifficulty = Number(tiddlerData.difficulty),\n                tiddlerStability = Number(tiddlerData.stability),\n                tiddlerRetrievability = Number(tiddlerData.retrievability),\n                tiddlerGrade = Number(tiddlerData.grade),\n                tiddlerLapses = Number(tiddlerData.lapses),\n                tiddlerReps = Number(tiddlerData.reps),\n                tiddlerReview = String(tiddlerData.review),\n                tiddlerHistory = String(tiddlerData.history);\n\n            var tiddlerHistoryArry = getJson(tiddlerHistory);\n\n            if (typeof tiddlerGrade === 'number' && !isNaN(tiddlerGrade)) {\n\n                tiddlerHistoryArry.push({\n                    due: tiddlerDue,\n                    interval: tiddlerInterval,\n                    difficulty: tiddlerDifficulty,\n                    stability: tiddlerStability,\n                    retrievability: tiddlerRetrievability,\n                    grade: tiddlerGrade,\n                    lapses: tiddlerLapses,\n                    reps: tiddlerReps,\n                    review: tiddlerReview\n                });\n            }\n\n            if (tiddlerHistoryArry.length > 0) {\n\n                data.cardsData.push(tiddlerHistoryArry);\n            }\n        }\n\n        var creationFields = this.actionTimestamp ? $tw.wiki.getCreationFields() : undefined,\n            modificationFields = this.actionTimestamp ? $tw.wiki.getModificationFields() : undefined;\n\n        $tw.wiki.addTiddler(\n            new $tw.Tiddler($tw.wiki.getCreationFields(), { title, text: JSON.stringify(data) }, modificationFields)\n        );\n\n        return true;// Action was invoked\n    };\n\n    exports[\"action-exportdata\"] = ExportdataWidget;\n})();","type":"application/javascript","module-type":"widget"},"$:/plugins/oflg/fishing/widgets/action-learn.js":{"title":"$:/plugins/oflg/fishing/widgets/action-learn.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/widgets/action-learn.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to set fishing fields on tiddlers.\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    var Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\n    var LearnWidget = function (parseTreeNode, options) {\n        this.initialise(parseTreeNode, options);\n    };\n\n    /*\n    Inherit from the base widget class\n    */\n    LearnWidget.prototype = new Widget();\n\n    /*\n    Render this widget into the DOM\n    */\n    LearnWidget.prototype.render = function (parent, nextSibling) {\n        this.computeAttributes();\n        this.execute();\n    };\n\n    /*\n    Compute the internal state of the widget\n    */\n    LearnWidget.prototype.execute = function () {\n        this.actionTiddler = this.getAttribute(\"$tiddler\", this.getVariable(\"currentTiddler\"));\n        this.actionGrade = this.getAttribute(\"$grade\");\n        this.actionTimestamp = this.getAttribute(\"$timestamp\", \"yes\") === \"yes\";\n    };\n\n    /*\n    Refresh the widget by ensuring our attributes are up to date\n    */\n    LearnWidget.prototype.refresh = function (changedTiddlers) {\n        var changedAttributes = this.computeAttributes();\n        if (changedAttributes[\"$tiddler\"] || changedAttributes[\"$grade\"] || changedAttributes[\"$timestamp\"]) {\n            this.refreshSelf();\n            return true;\n        }\n        return this.refreshChildren(changedTiddlers);\n    };\n\n    /*\n    Invoke the action associated with this widget\n    */\n    LearnWidget.prototype.invokeAction = function (triggeringWidget, event) {\n        var title = this.actionTiddler,\n            grade = this.actionGrade;\n\n        var data = $tw.macros.fsrs.run(title, grade);//Use Free Spaced Repetition Scheduler in $:/plugins/oflg/fishing/macros/fsrs.js\n\n        var creationFields = this.actionTimestamp ? $tw.wiki.getCreationFields() : undefined,\n            modificationFields = this.actionTimestamp ? $tw.wiki.getModificationFields() : undefined;\n\n        $tw.wiki.addTiddler(\n            new $tw.Tiddler(creationFields, $tw.wiki.getTiddler(title), modificationFields, data.tiddlerData)\n        );\n\n        $tw.wiki.addTiddler(\n            new $tw.Tiddler(creationFields, $tw.wiki.getTiddler(\"$:/plugins/oflg/fishing/data\"), modificationFields, {\n                text: JSON.stringify(data.globalData)\n            })\n        );\n\n        return true;// Action was invoked\n    };\n\n    exports[\"action-learn\"] = LearnWidget;\n})();","type":"application/javascript","module-type":"widget"}}}
>>>>>>> 3a47f8b (Commit with Git-Sync-JS)
=======
{"tiddlers":{"$:/plugins/oflg/fishing/license":{"title":"$:/plugins/oflg/fishing/license","text":"MIT License\n\nCopyright (c) 2021-2022 oflg\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.","type":"text/vnd.tiddlywiki"},"$:/plugins/oflg/fishing/readme":{"title":"$:/plugins/oflg/fishing/readme","text":"Installation and usage tutorial is available at [[TiddlyMemo Manual|https://tiddlymemo.org/manual/]].\n\n可在[[墨屉手册|https://tiddlymemo.org/manual/zh-Hans]]查看安装使用教程。","type":"text/vnd.tiddlywiki"},"$:/plugins/oflg/fishing/buttons/fishingrod/addfilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/addfilter","tags":"$:/tags/FishingGrod","list-after":"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter","icon":"$:/core/images/plus-button","description":"{{{ [{$:/language/fishing/addfiltertip}addsuffix[ : ]addsuffix{$:/temp/fishing!!fishingrod}] }}}","condition":"[{$:/temp/fishing!!fishingrod}!is[blank]] -[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]match{$:/temp/fishing!!fishingrod}]","button-classes":"fishingrod-button","text":"<$action-setfield\n    $tiddler={{{ [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] }}}\n    type=\"application/json\"\n/>"},"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter","tags":"$:/tags/FishingGrod","list-before":"","popup":"$:/plugins/oflg/fishing/buttons/fishingrod/popup/commonfilter","icon":"$:/core/images/down-arrow","description":"{{$:/language/fishing/commonfiltertip}}","condition":"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]first[]]","button-classes":"fishingrod-button","text":"<$reveal\n    state=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishingrod/fishingline\">>\n    type=\"popup\"\n    position=\"below\"\n    animate=\"yes\"\n>\n    <div\n        class=\"tc-drop-down\"\n        style=\"min-width:0;font-size:10pt;\"\n    >\n        <$list\n            filter=\"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]sort[title]]\"\n            variable=\"fishingrod\"\n        >\n            <$button\n                tooltip={{{ [{$:/language/fishing/fillfiltertip}addsuffix[ : ]addsuffix<fishingrod>] }}}\n                aria-label={{{ [{$:/language/fishing/fillfiltertip}addsuffix[ : ]addsuffix<$:/temp/fishing!!fishingrod>] }}}\n                popup=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishingrod/fishingline\">>\n                class=\"tc-btn-invisible\"\n            >\n                <$action-setfield\n                    $tiddler=\"$:/temp/fishing\"\n                    fishingrod=<<fishingrod>>\n                />\n                <$text\n                    text={{{ [<fishingrod>addprefix[$:/plugins/oflg/fishing/fishingrod/]get[caption]]\n                            ~[<fishingrod>] }}}\n                />\n            </$button>\n        </$list>\n    </div>\n</$reveal>"},"$:/plugins/oflg/fishing/buttons/fishingrod/customisefilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/customisefilter","tags":"$:/tags/FishingGrod","list-after":"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter","popup":"$:/plugins/oflg/fishing/buttons/fishingrod/popup/customisefilter","icon":"$:/core/images/options-button","description":"{{{ [{$:/language/fishing/customisefiltertip}addsuffix[ : ]addsuffix{$:/temp/fishing!!fishingrod}] }}}","condition":"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]match{$:/temp/fishing!!fishingrod}]","button-classes":"fishingrod-button","text":"<$action-setfield\n    $tiddler=\"$:/temp/fishing\"\n    text=\"\"\n    list=\"\"\n/>"},"$:/plugins/oflg/fishing/buttons/fishingrod/exportdata":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/exportdata","tags":"$:/tags/FishingGrod","icon":"$:/core/images/export-button","description":"{{$:/language/fishing/exportdatatip}}","condition":"[[all]]","button-classes":"fishingrod-button","text":"\\define tv-action-refresh-policy() always\n\n<$action-exportdata\n    $tiddler=\"$:/temp/fishing/fsrsdata\"\n/>\n<$action-sendmessage\n    $message=\"tm-download-file\"\n    $param=\"$:/core/templates/exporters/TidFile\"\n    exportFilter=\"[[$:/temp/fishing/fsrsdata]]\"\n    filename={{{ [<now \"[UTC]YYYY0MM0DD0hh0mm0ssXXX\">addprefix[.]addprefix{$:/status/UserName}addsuffix[.txt]] }}}\n/>\n<$action-deletetiddler\n    $tiddler=\"$:/temp/fishing/fsrsdata\"\n/>\n<$action-sendmessage\n    $message=\"tm-open-external-window\"\n    $param=\"https://github.com/open-spaced-repetition/fsrs.js/issues/new?assignees=&labels=data&template=upload-fsrs-algorithm-data-template.md&title=Upload+data\"\n/>"},"$:/plugins/oflg/fishing/buttons/fishingrod/popup/commonfilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/popup/commonfilter","text":"<div\n    style=\"min-width:0;font-size:10pt;\"\n>\n    <$list\n        filter=\"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]sort[title]]\"\n        variable=\"fishingrod\"\n    >\n        <$button\n            tooltip={{{ [{$:/language/fishing/fillfiltertip}addsuffix[ : ]addsuffix<fishingrod>] }}}\n            aria-label={{{ [{$:/language/fishing/fillfiltertip}addsuffix[ : ]addsuffix<$:/temp/fishing!!fishingrod>] }}}\n            class=\"tc-btn-invisible\"\n        >\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                fishingrod=<<fishingrod>>\n            />\n            <$action-deletetiddler\n                $filter=\"[prefix[$:/state/FishingButtonPopup]]\"\n            />\n            <$text\n                text={{{ [<fishingrod>addprefix[$:/plugins/oflg/fishing/fishingrod/]get[caption]]\n                        ~[<fishingrod>] }}}\n            />\n        </$button>\n    </$list>\n</div>"},"$:/plugins/oflg/fishing/buttons/fishingrod/popup/customisefilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/popup/customisefilter","text":"<div\n    style=\"min-width:0;padding:0 10px;\"\n>\n    {{$:/language/fishing/setalias}}\n    <div\n        style=\"display:flex;justify-content:space-between;font-size:10pt;padding:2px 1px;\"\n    >\n        <$edit-text tiddler={{{ [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] }}} field=\"caption\" placeholder={{$:/language/fishing/typealias}} tag=\"input\"/>\n    </div>\n    {{$:/language/fishing/setorder}}\n    <$list\n        filter=\"due undue new\"\n        variable=\"pondname\"\n    >\n        <div\n            style=\"display:flex;justify-content:space-between;font-size:10pt;padding:2px 1px;\"\n        >\n            <$text text={{{ [[$:/language/fishing/]addsuffix<pondname>get[text]] }}}/>\n            <$select\n                tiddler={{{ [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] }}}\n                index={{{ [<pondname>addsuffix[order]] }}}\n                default={{{ [<pondname>match[due]then{$:/plugins/oflg/fishing/fishingpond!!autoorder}]\n                            ~[<pondname>match[undue]then{$:/plugins/oflg/fishing/fishingpond!!modifiedorder}]\n                            ~[<pondname>match[new]then{$:/plugins/oflg/fishing/fishingpond!!createdorder}] }}}\n            >\n                <$list\n                    filter=\"[[$:/plugins/oflg/fishing/fishingpond]fields[]suffix[order]]\"\n                    variable=\"pondorder\"\n                >\n                    <option\n                        value={{{ [[$:/plugins/oflg/fishing/fishingpond]get<pondorder>] }}}\n                    >\n                        <$text text={{{ [[$:/language/fishing/]addsuffix<pondorder>get[text]] }}}>\n                    </option>\n                </$list>\n            </$select>\n        </div>\n    </$list>\n</div>"},"$:/plugins/oflg/fishing/buttons/fishingrod/unaddfilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/unaddfilter","tags":"$:/tags/FishingGrod","list-after":"$:/plugins/oflg/fishing/buttons/fishingrod/commonfilter","icon":"$:/core/images/cancel-button","description":"{{{ [{$:/language/fishing/unaddfiltertip}addsuffix[ : ]addsuffix{$:/temp/fishing!!fishingrod}] }}}","condition":"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]match{$:/temp/fishing!!fishingrod}]","button-classes":"fishingrod-button","text":"\n<$action-deletetiddler\n    $tiddler={{{ [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] }}}\n/>\n<$action-deletetiddler\n    $tiddler=\"$:/temp/fishing\"\n/>"},"$:/plugins/oflg/fishing/buttons/fishingrod/viewfilter":{"title":"$:/plugins/oflg/fishing/buttons/fishingrod/viewfilter","tags":"$:/tags/FishingGrod","list-after":"","icon":"$:/core/images/advanced-search-button","description":"{{{ [{$:/language/fishing/viewfiltertip}addsuffix[ : ]addsuffix{$:/temp/fishing!!fishingrod}] }}}","condition":"[all[tiddlers+shadows]removeprefix[$:/plugins/oflg/fishing/fishingrod/]match{$:/temp/fishing!!fishingrod}]","button-classes":"fishingrod-button","text":"<$action-setfield\n    $tiddler=\"$:/temp/fishing\"\n    text=\"\"\n    list=\"\"\n/>\n<$action-setfield\n    $tiddler=\"$:/temp/advancedsearch\"\n    text=\"[{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]shadowsource[]] [subfilter{$:/temp/fishing!!fishingrod}is[tiddler]] [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]shadowsource[]plugintiddlers[]is[tiddler]]\"\n/>\n<$action-setfield\n    $tiddler=\"$:/temp/advancedsearch/input\"\n    text=\"[{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]] [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]shadowsource[]] [subfilter{$:/temp/fishing!!fishingrod}is[tiddler]] [{$:/temp/fishing!!fishingrod}addprefix[$:/plugins/oflg/fishing/fishingrod/]shadowsource[]plugintiddlers[]is[tiddler]]\"\n/>\n<$action-setfield\n    $tiddler=\"$:/temp/advancedsearch/refresh\"\n    text=\"yes\"\n/>\n<$action-setfield\n    $tiddler=\"$:/state/tab--1498284803\"\n    text=\"$:/core/ui/AdvancedSearch/Filter\"\n/>\n<$action-navigate\n    $to=\"$:/AdvancedSearch\"\n/>\n<$action-sendmessage\n    $message=\"tm-focus-selector\"\n    $param=\".tc-advanced-search input\"\n/>"},"$:/plugins/oflg/fishing/buttons/learning/forget":{"title":"$:/plugins/oflg/fishing/buttons/learning/forget","key":"((fishing-forget))","tags":"$:/tags/Learning $:/tags/KeyboardShortcut","button-classes":"forget","list-before":"","caption":"{{$:/language/fishing/forget}}","description":"{{$:/language/fishing/forgettip}}","condition":"[<targetTiddler>has[grade]]","text":"<$list\n    filter=\"[<targetTiddler>!is[blank]]\n            ~[list[$:/temp/fishing]first[]!is[blank]has[grade]]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"?\"\n            />\n            <$action-sendmessage\n                $message=\"tm-remove-tag\"\n                $param=\"!\"\n            />\n            <$action-learn\n                $grade=\"0\"\n            />\n            <$action-deletetiddler\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n            />\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                text=\"\"\n                type=\"\"\n                list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n            />\n            <$action-setfield\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n            />\n            <$action-sendmessage\n                $message=\"tm-close-tiddler\"\n            />\n            <$list\n                filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n                variable=\"null\"\n            >\n                <$action-navigate\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\n                />\n            </$list>\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/buttons/learning/grasp":{"title":"$:/plugins/oflg/fishing/buttons/learning/grasp","key":"((fishing-grasp))","tags":"$:/tags/Learning $:/tags/KeyboardShortcut","button-classes":"grasp","list-after":"$:/plugins/oflg/fishing/buttons/learning/remember","caption":"{{$:/language/fishing/grasp}}","description":"{{$:/language/fishing/grasptip}}","condition":"[<targetTiddler>has[grade]]","text":"<$list\n    filter=\"[<targetTiddler>!is[blank]]\n            ~[list[$:/temp/fishing]first[]!is[blank]has[grade]]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"?\"\n            />\n            <$action-sendmessage\n                $message=\"tm-remove-tag\"\n                $param=\"!\"\n            />\n            <$action-learn\n                $grade=\"2\"\n            />\n            <$action-deletetiddler\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n            />\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                text=\"\"\n                type=\"\"\n                list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n            />\n            <$action-setfield\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n            />\n            <$action-sendmessage\n                $message=\"tm-close-tiddler\"\n            />\n            <$list\n                filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n                variable=\"null\"\n            >\n                <$action-navigate\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\n                />\n            </$list>\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/buttons/learning/learn":{"title":"$:/plugins/oflg/fishing/buttons/learning/learn","key":"((fishing-learn))","tags":"$:/tags/Learning $:/tags/KeyboardShortcut","button-classes":"learn","list-after":"$:/plugins/oflg/fishing/buttons/learning/grasp","caption":"{{$:/language/fishing/learn}}","description":"{{$:/language/fishing/learntip}}","condition":"[<targetTiddler>!has[grade]]","text":"<$list\n    filter=\"[<targetTiddler>!is[blank]]\n            ~[list[$:/temp/fishing]first[]!is[blank]!has[grade]]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"?\"\n            />\n            <$action-sendmessage\n                $message=\"tm-remove-tag\"\n                $param=\"!\"\n            />\n            <$list\n                filter=\"[<currentTiddler>!search:caption:literal[Excerpt}}]]\"\n                variable=\"null\"\n            >\n                <$action-learn\n                    $grade=\"-1\"\n                />\n            </$list>\n            <$list\n                filter=\"[<currentTiddler>search:caption:literal[Excerpt}}]]\"\n                variable=\"null\"\n            >\n                <$action-setfield\n                    interval={{{ [<currentTiddler>get[interval]!is[blank]else[0]add[1]] }}}\n                    due={{{ [<currentTiddler>get[interval]!is[blank]else[0]add[1]due[]] }}}\n                    review=<<now \"[UTC]YYYY0MM0DD0hh0mm0ssXXX\">>\n                />\n            </$list>\n            <$action-deletetiddler\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n            />\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                text=\"\"\n                type=\"\"\n                list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n            />\n            <$action-setfield\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n            />\n            <$action-sendmessage\n                $message=\"tm-close-tiddler\"\n            />\n            <$list\n                filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n                variable=\"null\"\n            >\n                <$action-navigate\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\n                />\n            </$list>\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/buttons/learning/more/add1":{"title":"$:/plugins/oflg/fishing/buttons/learning/more/add1","tags":"$:/tags/LearningMore","caption":"{{$:/language/fishing/add1}}","description":"{{$:/language/fishing/add1tip}}","condition":"[<targetTiddler>]","button-classes":"dropdown-more","text":"<$list\n    filter=\"[list[$:/temp/fishing]first[]!is[blank]]\"\n>\n    <$action-sendmessage\n        $message=\"tm-add-tag\"\n        $param=\"?\"\n    />\n    <$action-sendmessage\n        $message=\"tm-remove-tag\"\n        $param=\"!\"\n    />\n    <$action-setfield\n        due={{{ [1]due[]] }}}\n    />\n    <$action-deletetiddler\n        $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n    />\n    <$action-setfield\n        $tiddler=\"$:/temp/fishing\"\n        text=\"\"\n        type=\"\"\n        list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n    />\n    <$action-setfield\n        $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n        text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n    />\n    <$action-sendmessage\n        $message=\"tm-close-tiddler\"\n    />\n    <$list\n        filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n        variable=\"null\"\n    >\n        <$action-navigate\n            $to={{{ [list[$:/temp/fishing]first[]] }}}\n        />\n    </$list>\n</$list>"},"$:/plugins/oflg/fishing/buttons/learning/more/add7":{"title":"$:/plugins/oflg/fishing/buttons/learning/more/add7","tags":"$:/tags/LearningMore","list-before":"$:/plugins/oflg/fishing/buttons/learning/more/add1","caption":"{{$:/language/fishing/add7}}","description":"{{$:/language/fishing/add7tip}}","condition":"[<targetTiddler>]","button-classes":"dropdown-more","text":"<$list\n    filter=\"[list[$:/temp/fishing]first[]!is[blank]]\"\n>\n    <$action-sendmessage\n        $message=\"tm-add-tag\"\n        $param=\"?\"\n    />\n    <$action-sendmessage\n        $message=\"tm-remove-tag\"\n        $param=\"!\"\n    />\n    <$action-setfield\n        due={{{ [7]due[]] }}}\n    />\n    <$action-deletetiddler\n        $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n    />\n    <$action-setfield\n        $tiddler=\"$:/temp/fishing\"\n        text=\"\"\n        type=\"\"\n        list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n    />\n    <$action-setfield\n        $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n        text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n    />\n    <$action-sendmessage\n        $message=\"tm-close-tiddler\"\n    />\n    <$list\n        filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n        variable=\"null\"\n    >\n        <$action-navigate\n            $to={{{ [list[$:/temp/fishing]first[]] }}}\n        />\n    </$list>\n</$list>"},"$:/plugins/oflg/fishing/buttons/learning/more/discard":{"title":"$:/plugins/oflg/fishing/buttons/learning/more/discard","key":"((fishing-discard))","tags":"$:/tags/LearningMore $:/tags/KeyboardShortcut","list-before":"","caption":"{{$:/language/fishing/discard}}","description":"{{$:/language/fishing/discardtip}}","condition":"[<targetTiddler>]","button-classes":"dropdown-more","text":"<$list\n    filter=\"[<targetTiddler>!is[blank]]\n            ~[list[$:/temp/fishing]first[]!is[blank]]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-remove-tag\"\n                $param=\"?\"\n            />\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"!\"\n            />\n            <$action-deletefield\n                due\n                interval\n                grade\n                difficulty\n                stability\n                retrievability\n                lapses\n                reps\n                review\n            />\n            <$action-deletetiddler\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n            />\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                text=\"\"\n                type=\"\"\n                list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n            />\n            <$action-setfield\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n            />\n            <$action-sendmessage\n                $message=\"tm-close-tiddler\"\n            />\n            <$list\n                filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n                variable=\"null\"\n            >\n                <$action-navigate\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\n                />\n            </$list>\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/buttons/learning/more":{"title":"$:/plugins/oflg/fishing/buttons/learning/more","tags":"$:/tags/Learning","button-classes":"more","list-after":"$:/plugins/oflg/fishing/buttons/learning/learn","popup":"$:/plugins/oflg/fishing/buttons/learning/popup/more","position":"aboveleft","caption":"{{$:/language/fishing/more}}","description":"{{$:/language/fishing/moretip}}","condition":"[<targetTiddler>]"},"$:/plugins/oflg/fishing/buttons/learning/popup/more":{"title":"$:/plugins/oflg/fishing/buttons/learning/popup/more","text":"<div\n    style=\"min-width:0;font-size:10pt;\"\n>\n    <$list filter=\"[all[shadows+tiddlers]tag[$:/tags/LearningMore]!is[draft]]\">\n        <$transclude\n            tiddler=\"$:/core/ui/ViewTemplate/fishing/button\"\n            mode=\"inline\"\n        />\n    </$list>\n</div>"},"$:/plugins/oflg/fishing/buttons/learning/remember":{"title":"$:/plugins/oflg/fishing/buttons/learning/remember","key":"((fishing-remember))","tags":"$:/tags/Learning $:/tags/KeyboardShortcut","button-classes":"remember","list-after":"$:/plugins/oflg/fishing/buttons/learning/forget","caption":"{{$:/language/fishing/remember}}","description":"{{$:/language/fishing/remembertip}}","condition":"[<targetTiddler>has[grade]]","text":"<$list\n    filter=\"[<targetTiddler>!is[blank]]\n            ~[list[$:/temp/fishing]first[]!is[blank]has[grade]]\"\n>\n    <$navigator\n        story=\"$:/StoryList\"\n        history=\"$:/HistoryList\"\n        relinkOnRename=\"yes\"\n    >\n        <$fieldmangler>\n            <$action-sendmessage\n                $message=\"tm-add-tag\"\n                $param=\"?\"\n            />\n            <$action-sendmessage\n                $message=\"tm-remove-tag\"\n                $param=\"!\"\n            />\n            <$action-learn\n                $grade=\"1\"\n            />\n            <$action-deletetiddler\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n            />\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                text=\"\"\n                type=\"\"\n                list={{{ [subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}subfilter{$:/temp/fishing!!fishingorder}first[]format:titlelist[]] }}}\n            />\n            <$action-setfield\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n            />\n            <$action-sendmessage\n                $message=\"tm-close-tiddler\"\n            />\n            <$list\n                filter=\"[list[$:/temp/fishing]match<currentTiddler>]\"\n                variable=\"null\"\n            >\n                <$action-navigate\n                    $to={{{ [list[$:/temp/fishing]first[]] }}}\n                />\n            </$list>\n        </$fieldmangler>\n    </$navigator>\n</$list>"},"$:/plugins/oflg/fishing/data":{"title":"$:/plugins/oflg/fishing/data","type":"application/json","text":"{\n    \"requestRetention\": 0.9,\n    \"difficultyDecay\" : -0.7,\n    \"stabilityDecay\" : -0.2,\n    \"increaseFactor\" : 60,\n    \"totalCase\": 0,\n    \"totalDiff\": 0,\n    \"totalReview\": 0,\n    \"defaultDifficulty\": 5,\n    \"defaultStability\": 2,\n    \"stabilityDataArry\": []\n}\n"},"$:/plugins/oflg/fishing/filters/due.js":{"title":"$:/plugins/oflg/fishing/filters/due.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/filters/due.js\ntype: application/javascript\nmodule-type: filteroperator\n\nCalculate the due of tiddler\n\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    /*\n    Export our filter function\n    */\n    exports.due = function (source, operator, options) {\n        var results = [];\n        source(function (tiddler, title) {\n            var addDay = Number(title) >= 1 ? Number(title) : 1;\n\n            var dateTime = addDay * 86400000 + new Date().getTime();\n            var due = new Date(dateTime).toISOString().replace(/-|T|:|\\.|Z/g, \"\");\n\n            results.push(due);\n        });\n        return results;\n    };\n\n})();","type":"application/javascript","module-type":"filteroperator"},"$:/plugins/oflg/fishing/filters/interval.js":{"title":"$:/plugins/oflg/fishing/filters/interval.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/filters/interval.js\ntype: application/javascript\nmodule-type: filteroperator\n\nCalculate the interval of tiddler\n\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    /*\n    Export our filter function\n    */\n    exports.interval = function (source, operator, options) {\n        var results = [];\n        source(function (tiddler, title) {\n            var twTime = title;\n\n            var twTimeDay = $tw.wiki.filterTiddlers(\"[[\" + twTime + \"]format:date[YYYY-0MM-0DD]]\")[0],\n                nowDay = new Date().toISOString().split(\"T\")[0];\n\n            var diffTime = new Date(nowDay) - new Date(twTimeDay);\n\n            var diffDay = diffTime / 86400000 || 0;\n\n            var interval = String(diffDay > 0 ? diffDay : 0);\n\n            results.push(interval);\n        });\n        return results;\n    };\n\n})();\n","type":"application/javascript","module-type":"filteroperator"},"$:/plugins/oflg/fishing/filters/sortrandom.js":{"title":"$:/plugins/oflg/fishing/filters/sortrandom.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/filters/sortrandom.js\ntype: application/javascript\nmodule-type: filteroperator\nFilter operator for return a random title in the list.\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    /*\n    Export our filter function\n    */\n    exports.sortrandom = function (source, operator, options) {\n        var results = [];\n\n        source(function (tiddler, title) {\n            results.push(title);\n        });\n\n        results = results.sort(function () {\n            return Math.random() - 0.5;\n        });\n\n        return results;\n    };\n\n})();","type":"application/javascript","module-type":"filteroperator"},"$:/plugins/oflg/fishing/fishingfloat":{"title":"$:/plugins/oflg/fishing/fishingfloat","caption":"{{$:/plugins/oflg/fishing/icon}} {{$:/language/fishing/fishing}}","description":"{{$:/language/fishing/fishingtip}}","tags":"$:/tags/PageControls","text":"\\whitespace trim\n\\define lingo-base() $:/language/fishing/fishingfloat/\n<$button\n    popup=<<qualify \"$:/state/popup/fishingdeck\">>\n    tooltip={{$:/language/fishing/fishingtip}}\n    aria-label={{$:/language/fishing/fishingtip}}\n    class=<<tv-config-toolbar-class>>\n    selectedClass=\"tc-selected\"\n>\n    <$list filter=\"[<tv-config-toolbar-icons>match[yes]]\">\n        {{$:/plugins/oflg/fishing/icon}}\n    </$list>\n    <$list filter=\"[<tv-config-toolbar-text>match[yes]]\">\n        <span class=\"tc-btn-text\">\n            {{$:/language/fishing/fishingtip}}\n        </span>\n    </$list>\n</$button>\n<$reveal\n    state=<<qualify \"$:/state/popup/fishingdeck\">>\n    type=\"popup\"\n    position=\"below\"\n    animate=\"yes\"\n    positionAllowNegative=\"yes\"\n>\n    <div\n        class=\"tc-drop-down tc-popup-keep\"\n        style=\"min-width:0;\"\n    >\n        <!-- creat fishingpond -->\n        {{$:/plugins/oflg/fishing/fishingpond}}\n        <!-- creat fishingrod -->\n        {{$:/plugins/oflg/fishing/fishingrod}}\n    </div>\n</$reveal>"},"$:/plugins/oflg/fishing/fishingpond":{"title":"$:/plugins/oflg/fishing/fishingpond","rod":"[tag[?]]","duepond":"[has[due]] -[has[due]!days:due[1]]","unduepond":"[has[due]!days:due[1]]","newpond":"[!has[due]]","autoorder":"[!sortsub:number{$:/plugins/oflg/fishing/fishingpond!!autopriority}]","dueorder":"[sort[due]]","createdorder":"[sort[created]]","modifiedorder":"[sort[modified]]","azorder":"[sortan[]]","zaorder":"[!sortan[]]","randomorder":"[sortrandom[]]","autopriority":"[{!!caption}search-replace::regexp[{{\\|\\|(.*)}}],[$1]tag[$:/tags/QuestionTemplate]count[]] =[{!!due}interval[]] =[{!!priority}else[0]] =[{!!title}tags[]count[]] =[{!!title}tagging[]has[due]count[]negate[]] =[{!!title}tagging[]has[due]!days:due[1]count[]] =[{!!title}tagging[]has[due]!days:due[1]count[]] +[sum[]]","text":"<$list\n    filter=\"due undue new\"\n    variable=\"pondname\"\n>\n    <$let\n        pondordername={{{ [<pondname>addsuffix[order]] }}}\n        fishingrod={{{ [{$:/temp/fishing!!fishingrod}!is[blank]else{$:/plugins/oflg/fishing/fishingpond!!rod}] }}}\n        fishingpond={{{ [<pondname>match[due]then{$:/plugins/oflg/fishing/fishingpond!!duepond}]\n                        ~[<pondname>match[undue]then{$:/plugins/oflg/fishing/fishingpond!!unduepond}]\n                        ~[<pondname>match[new]then{$:/plugins/oflg/fishing/fishingpond!!newpond}] }}}\n        fishingorder={{{ [<fishingrod>addprefix[$:/plugins/oflg/fishing/fishingrod/]getindex<pondordername>]\n                        ~[<pondname>match[due]then{$:/plugins/oflg/fishing/fishingpond!!autoorder}]\n                        ~[<pondname>match[undue]then{$:/plugins/oflg/fishing/fishingpond!!modifiedorder}]\n                        ~[<pondname>match[new]then{$:/plugins/oflg/fishing/fishingpond!!createdorder}] }}}\n    >\n        <$button\n            tooltip={{$:/language/fishing/fishingpondtip}}\n            aria-label={{$:/language/fishing/fishingpondtip}}\n            class=\"tc-btn-invisible tc-tiddlylink\"\n            style=\"padding-right:10px;\"\n        >\n            <$action-setfield\n                $tiddler=\"$:/temp/fishing\"\n                text=\"\"\n                type=\"\"\n                fishingrod=<<fishingrod>>\n                fishingpond=<<fishingpond>>\n                fishingorder=<<fishingorder>>\n                list={{{ [subfilter<fishingrod>subfilter<fishingpond>subfilter<fishingorder>first[]format:titlelist[]] }}}\n            />\n            <$action-setfield\n                $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n                text={{{ [list[$:/temp/fishing]first[]has[grade]then[hide]else[show]] }}}\n            />\n            <$action-navigate\n                $to={{{ [list[$:/temp/fishing]first[]] }}}\n            />\n            <$action-popup\n                $state=<<qualify \"$:/state/popup/$:/plugins/oflg/fishing/fishingdeck\">>\n                $coords=\"\"\n            />\n                <$text text={{{ [[$:/language/fishing/]addsuffix<pondname>get[text]] }}}/> : <$count filter=\"[subfilter<fishingrod>subfilter<fishingpond>]\"/>\n        </$button>\n    </$let>\n</$list>"},"$:/plugins/oflg/fishing/fishingrod":{"title":"$:/plugins/oflg/fishing/fishingrod","text":"<div\n    style=\"margin:5px 15px;\"\n>\n    <$edit-text\n        tiddler=\"$:/temp/fishing\"\n        field=\"fishingrod\"\n        tag=\"input\"\n        focus=\"true\"\n        placeholder=\"[tag[?]]\"\n        inputActions='<$action-setfield $tiddler=\"$:/temp/fishing\" list=\"\"/>'\n    />\n</div>\n<div\n    style=\"display:flex;margin:0 15px;justify-content:flex-start;align-items:center;font-size:10pt;\"\n>\n    <$list\n        filter=\"[all[shadows+tiddlers]tag[$:/tags/FishingGrod]!is[draft]]\"\n    >\n        <$transclude\n            tiddler=\"$:/core/ui/ViewTemplate/fishing/button\"\n            mode=\"inline\"\n        />\n    </$list>\n</div>"},"$:/plugins/oflg/fishing/icon":{"title":"$:/plugins/oflg/fishing/icon","tags":"$:/tags/Image","text":"<svg width=\"22pt\" height=\"22pt\" class=\"tc-image-home-button tc-image-button\" viewBox=\"0 0 128 128\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g id=\"fishingfloat\">\n        <path d=\"M0 0L128 0L128 128L0 128L0 0Z\" id=\"Background\" fill=\"none\" fill-rule=\"evenodd\" stroke=\"none\"/>\n        <g clip-path=\"url(#mask_1)\">\n            <path d=\"M114.476 39.6C118.316 26.8 116.396 11.44 100.716 8.56001C89.196 6.32001 80.876 12.72 73.516 21.04C64.876 30.96 57.196 42.8 45.676 49.52C34.476 56.24 6.63596 57.84 5.35596 39.92C4.71596 28.72 12.716 16.24 19.436 7.92C21.676 5.04 17.516 0.880004 15.276 3.76C3.75596 18.16 -11.604 47.92 13.676 57.2C27.116 62.32 42.476 59.76 53.676 50.8C64.236 42.8 71.276 31.28 80.556 22C85.356 16.88 90.476 12.72 97.836 13.68C110.956 15.28 111.916 26.8 108.716 37.68C108.396 37.68 108.396 38 108.076 38C94.316 48.56 128.876 50.8 114.476 39.6Z\" id=\"fishthread\" style={{{ [tag[?]has[due]] -[tag[?]!days:due[1]] +[count[]compare:number:gt[0]then[fill:red;]else[]] }}} fill-rule=\"evenodd\" stroke=\"none\"/>\n            <g id=\"fish\" transform=\"translate(17.119965 32.21466)\">\n                <path d=\"M108.32 51.6253C108.32 51.3053 108 51.3053 108 50.9853C113.44 34.9853 111.84 17.3853 97.44 6.18534C97.6322 5.54471 94.7198 -6.07014 91.68 4.26533C91.68 4.26533 91.68 4.26533 91.68 4.26533C91.36 4.26533 91.36 4.58533 91.04 4.58533C77.28 15.1453 66.4 27.6253 61.6 43.6253C61.28 43.6253 60.64 43.9453 60.32 43.9453C52.96 48.1053 46.56 54.8253 45.92 63.4653C45.6 66.0253 48.48 66.6653 50.4 66.0253C52.96 64.7453 55.52 64.1053 58.08 63.4653C56.48 72.7453 52.96 81.7053 43.68 75.3053C38.24 71.7853 35.36 63.7853 34.4 58.0253C34.08 55.4653 30.24 53.5453 28.96 56.4253C27.04 61.2253 25.76 66.3453 25.44 71.1453C18.4 71.4653 9.76 65.0653 4.32 61.5453C2.72 60.5853 1.12 61.2253 0.479998 62.8253C-0.16 63.7853 -0.16 64.7453 0.479998 65.7053C7.52 76.2653 17.44 86.5053 29.28 90.9853C46.56 98.0253 68.32 91.9453 83.36 82.0253C85.6 80.4253 87.84 78.8253 89.76 76.9053C93.6 76.5853 97.44 78.8253 99.68 82.0253C100.64 83.3053 102.24 83.9453 103.52 82.9853L104.48 82.0253C110.56 73.3853 113.44 61.5453 108.32 51.6253L108.32 51.6253Z\" id=\"Shape\" stroke=\"none\"/>\n                <path d=\"M53.28 58.6653C54.88 55.7853 57.12 53.2253 59.68 51.3053C59.36 52.9053 59.04 55.1453 59.04 57.3853L58.4 57.3853C56.8 57.7053 55.2 58.0253 53.28 58.6653L53.28 58.6653ZM102.24 75.9454C100.32 74.3454 98.08 73.0654 95.52 72.4254C99.04 68.2654 102.24 63.7854 104.48 58.9854C106.08 64.4254 104.48 70.5053 102.24 75.9454L102.24 75.9454Z\" id=\"Shape\" fill-rule=\"evenodd\" stroke=\"none\"/>\n            </g>\n        </g>\n    </g>\n</svg>"},"$:/language/fishing/fishing":{"title":"$:/language/fishing/fishing","text":"Fishing"},"$:/language/fishing/fishingtip":{"title":"$:/language/fishing/fishingtip","text":"Incremental learning"},"$:/language/fishing/fold":{"title":"$:/language/fishing/fold","text":"Unfold or fold this tiddler"},"$:/language/fishing/learn":{"title":"$:/language/fishing/learn","text":"Next"},"$:/language/fishing/learntip":{"title":"$:/language/fishing/learntip","text":"Learn one more"},"$:/language/fishing/forget":{"title":"$:/language/fishing/forget","text":"Forget"},"$:/language/fishing/forgettip":{"title":"$:/language/fishing/forgettip","text":"Forget the answer"},"$:/language/fishing/remember":{"title":"$:/language/fishing/remember","text":"Remember"},"$:/language/fishing/remembertip":{"title":"$:/language/fishing/remembertip","text":"Remember the answer"},"$:/language/fishing/grasp":{"title":"$:/language/fishing/grasp","text":"Grasp"},"$:/language/fishing/grasptip":{"title":"$:/language/fishing/grasptip","text":"Grasp the question"},"$:/language/fishing/more":{"title":"$:/language/fishing/more","text":"⁝"},"$:/language/fishing/moretip":{"title":"$:/language/fishing/moretip","text":"More"},"$:/language/fishing/discard":{"title":"$:/language/fishing/discard","text":"Discard"},"$:/language/fishing/discardtip":{"title":"$:/language/fishing/discardtip","text":"No more learning this tiddler"},"$:/language/fishing/add7":{"title":"$:/language/fishing/add7","text":"+ 7"},"$:/language/fishing/add7tip":{"title":"$:/language/fishing/add7tip","text":"Learning this tiddler next week"},"$:/language/fishing/add1":{"title":"$:/language/fishing/add1","text":"+ 1"},"$:/language/fishing/add1tip":{"title":"$:/language/fishing/add1tip","text":"Learning this tiddler tomorrow"},"$:/language/fishing/fishingpondtip":{"title":"$:/language/fishing/fishingpondtip","text":"Learn this group of tiddlers"},"$:/language/fishing/due":{"title":"$:/language/fishing/due","text":"Due"},"$:/language/fishing/undue":{"title":"$:/language/fishing/undue","text":"Undue"},"$:/language/fishing/new":{"title":"$:/language/fishing/new","text":"New"},"$:/language/fishing/commonfiltertip":{"title":"$:/language/fishing/commonfiltertip","text":"Commonly used Filter"},"$:/language/fishing/addfiltertip":{"title":"$:/language/fishing/addfiltertip","text":"Add to commonly used Filter"},"$:/language/fishing/unaddfiltertip":{"title":"$:/language/fishing/unaddfiltertip","text":"Unadd this Filter"},"$:/language/fishing/fillfiltertip":{"title":"$:/language/fishing/fillfiltertip","text":"Fill in this Filter"},"$:/language/fishing/customisefiltertip":{"title":"$:/language/fishing/customisefiltertip","text":"Customise the behaviour of this Filter"},"$:/language/fishing/setalias":{"title":"$:/language/fishing/setalias","text":"Alias"},"$:/language/fishing/typealias":{"title":"$:/language/fishing/typealias","text":"Type alias"},"$:/language/fishing/setorder":{"title":"$:/language/fishing/setorder","text":"Learning order"},"$:/language/fishing/autoorder":{"title":"$:/language/fishing/autoorder","text":"Auto priority"},"$:/language/fishing/dueorder":{"title":"$:/language/fishing/dueorder","text":"Due date"},"$:/language/fishing/modifiedorder":{"title":"$:/language/fishing/modifiedorder","text":"modified date"},"$:/language/fishing/createdorder":{"title":"$:/language/fishing/createdorder","text":"Created date"},"$:/language/fishing/azorder":{"title":"$:/language/fishing/azorder","text":"Title A-Z"},"$:/language/fishing/zaorder":{"title":"$:/language/fishing/zaorder","text":"Title Z-A"},"$:/language/fishing/randomorder":{"title":"$:/language/fishing/randomorder","text":"Random"},"$:/language/fishing/viewfiltertip":{"title":"$:/language/fishing/viewfiltertip","text":"View tiddlers related to this Filter"},"$:/language/fishing/exportdatatip":{"title":"$:/language/fishing/exportdatatip","text":"Export learning data and upload it to open source platform to improve FSRS algorithm"},"$:/language/fishing/settings":{"title":"$:/language/fishing/settings","text":"These settings let you customise the behaviour of Fishing."},"$:/language/fishing/globalsettings":{"title":"$:/language/fishing/globalsettings","text":"Global"},"$:/language/fishing/setparameter":{"title":"$:/language/fishing/setparameter","text":"Parameter"},"$:/language/fishing/setretention":{"title":"$:/language/fishing/setretention","text":"Retention"},"$:/language/fishing/setretentiontip":{"title":"$:/language/fishing/setretentiontip","text":"Must be between 0.7 and 0.95"},"$:/language/fishing/settitletip":{"title":"$:/language/fishing/settitletip","text":"Condition for showing caption of a tiddler."},"$:/language/fishing/setlearntip":{"title":"$:/language/fishing/setlearntip","text":"Condition for showing learning of a tiddler."},"$:/language/fishing/pluginlibrary":{"title":"$:/language/fishing/pluginlibrary","text":"Fishing Plugin Library"},"$:/language/fishing/pluginlibrarytip":{"title":"$:/language/fishing/pluginlibrarytip","text":"This plugin library can be used to install and update plugins and Learning Packs related to Fishing."},"$:/plugins/oflg/fishing/macros/fsrs.js":{"title":"$:/plugins/oflg/fishing/macros/fsrs.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/macros/fsrs.js\ntype: application/javascript\nmodule-type: macro\n\nUse Free Spaced Repetition Scheduler: https://github.com/open-spaced-repetition/free-spaced-repetition-scheduler\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    exports.name = \"fsrs\";\n\n    exports.params = [\n        { name: \"title\" },\n        { name: \"grade\" }\n    ];\n\n    /*\n    Run the macro\n    */\n    exports.run = function (title, grade) {\n        grade = (grade == \"0\" || grade == \"1\" || grade == \"2\") ? Number(grade) : -1;//Ratings for review have 0, 1, 2. Other ratings mean learn new tiddler.\n\n        var globalData = $tw.wiki.getTiddlerData('$:/plugins/oflg/fishing/data');\n\n        function faultToleranceValue(value, defaultValue) {\n            return (typeof value === 'number' && !isNaN(value)) ? value : defaultValue;\n        }\n\n        var increaseFactor = 60,\n            difficultyDecay = -0.7,\n            stabilityDecay = -0.2,\n            requestRetention = faultToleranceValue(globalData.requestRetention, 0.9),\n            totalCase = faultToleranceValue(globalData.totalCase, 0),\n            totalDiff = faultToleranceValue(globalData.totalDiff, 0),\n            totalReview = faultToleranceValue(globalData.totalReview, 0),\n            defaultDifficulty = faultToleranceValue(globalData.defaultDifficulty, 5),\n            defaultStability = faultToleranceValue(globalData.defaultStability, 2),\n            stabilityDataArry = globalData.stabilityDataArry || [];\n\n        requestRetention = requestRetention >= 0.75 && requestRetention <= 0.95 ? requestRetention : 0.9;\n\n        var due, interval, difficulty, stability, retrievability, lapses, reps, review, history;\n\n        review = new Date().toISOString().replace(/\\-|T|:|\\.|Z/g, \"\");\n\n        if (grade == -1) {// learn new tiddler\n            var addDay = Math.round(defaultStability * Math.log(requestRetention) / Math.log(0.9));\n\n            due = $tw.wiki.filterTiddlers(\"[[\" + addDay + \"]due[]]\")[0];\n            interval = 0;\n            difficulty = defaultDifficulty;\n            stability = defaultStability;\n            retrievability = 1;\n            grade = -1;\n            reps = 1;\n            lapses = 0;\n            history = \"[]\";\n        } else {// review tiddler after learn\n            var lastFieldsData = $tw.wiki.getTiddler(title).fields;\n\n            var lastDue = String(lastFieldsData.due),\n                lastInterval = Number(lastFieldsData.interval),\n                lastDifficulty = Number(lastFieldsData.difficulty),\n                lastStability = Number(lastFieldsData.stability),\n                lastRetrievability = Number(lastFieldsData.retrievability),\n                lastGrade = Number(lastFieldsData.grade),\n                lastLapses = Number(lastFieldsData.lapses),\n                lastReps = Number(lastFieldsData.reps),\n                lastReview = String(lastFieldsData.review),\n                lastHistory = JSON.parse(lastFieldsData.history);\n\n            interval = Number($tw.wiki.filterTiddlers(\"[[\" + lastReview + \"]interval[]]\")[0]);\n            retrievability = Math.exp(Math.log(0.9) * interval / lastStability);\n            difficulty = Math.min(Math.max(lastDifficulty + retrievability - grade + 0.2, 1), 10);\n\n            if (grade == 0) {\n                stability = defaultStability * Math.exp(-0.3 * (lastLapses + 1));\n\n                if (lastReps > 1) {\n                    totalDiff = totalDiff - retrievability;\n                }\n                lapses = lastLapses + 1;\n                reps = 1;\n            } else {//grade == 1 || grade == 2\n                stability = lastStability * (1 + increaseFactor * Math.pow(difficulty, difficultyDecay) * Math.pow(lastStability, stabilityDecay) * (Math.exp(1 - retrievability) - 1));\n\n                if (lastReps > 1) {\n                    totalDiff = totalDiff + 1 - retrievability;\n                }\n                lapses = lastLapses;\n                reps = lastReps + 1;\n            }\n\n            totalCase = totalCase + 1;\n            totalReview = totalReview + 1;\n\n            var addDay = Math.round(stability * Math.log(requestRetention) / Math.log(0.9));\n\n            due = $tw.wiki.filterTiddlers(\"[[\" + addDay + \"]due[]]\")[0];\n\n            lastHistory.push({\n                due: lastDue,\n                interval: lastInterval,\n                difficulty: lastDifficulty,\n                stability: lastStability,\n                retrievability: lastRetrievability,\n                grade: lastGrade,\n                lapses: lastLapses,\n                reps: lastReps,\n                review: lastReview\n            });\n\n            history = JSON.stringify(lastHistory);\n\n            // Adaptive defaultDifficulty\n            if (totalCase > 100) {\n                defaultDifficulty = 1 / Math.pow(totalReview, 0.3) * Math.pow(Math.log(requestRetention) / Math.max(Math.log(requestRetention + totalDiff / totalCase), 0), 1 / difficultyDecay) * 5 + (1 - 1 / Math.pow(totalReview, 0.3)) * defaultDifficulty;\n\n                totalDiff = 0;\n                totalCase = 0;\n            }\n\n            // Adaptive defaultStability\n            if (lastReps === 1 && lastLapses === 0) {\n                stabilityDataArry.push({\n                    interval: interval,\n                    retrievability: grade === \"0\" ? 0 : 1\n                });\n\n                if (stabilityDataArry.length > 0 && stabilityDataArry.length % 50 === 0) {\n                    var intervalSetArry = [];\n\n                    var sumRI2S = 0,\n                        sumI2S = 0;\n                    for (var s = 0; s < stabilityDataArry.length; s++) {\n                        var ivl = stabilityDataArry[s].interval;\n\n                        if (intervalSetArry.indexOf(ivl) === -1) {\n\n                            intervalSetArry.push(ivl);\n\n                            var filterArry = stabilityDataArry.filter(function (fi) {\n                                return fi.interval === ivl;\n                            });\n\n                            var retrievabilitySum = filterArry.reduce(function (sum, e) {\n                                return sum + e.retrievability;\n                            }, 0);\n\n                            if (retrievabilitySum > 0) {\n                                sumRI2S = sumRI2S + ivl * Math.log(retrievabilitySum / filterArry.length) * filterArry.length;\n                                sumI2S = sumI2S + ivl * ivl * filterArry.length;\n                            }\n                        }\n                    }\n                    defaultStability = (Math.max(Math.log(0.9) / (sumRI2S / sumI2S), 0.1) + defaultStability) / 2;\n                }\n            }\n        }\n\n        var tiddlerData = {\n            due: due,\n            interval: interval,\n            difficulty: difficulty,\n            stability: stability,\n            retrievability: retrievability,\n            lapses: lapses,\n            reps: reps,\n            grade: grade,\n            review: review,\n            history: history\n        };\n\n        globalData = {\n            requestRetention: requestRetention,\n            increaseFactor: increaseFactor,\n            difficultyDecay: difficultyDecay,\n            stabilityDecay: stabilityDecay,\n            totalCase: totalCase,\n            totalDiff: totalDiff,\n            totalReview: totalReview,\n            defaultDifficulty: defaultDifficulty,\n            defaultStability: defaultStability,\n            stabilityDataArry: stabilityDataArry\n        };\n\n        return { tiddlerData: tiddlerData, globalData: globalData };// Action was invoked\n    };\n\n})();","type":"application/javascript","module-type":"macro"},"$:/plugins/oflg/fishing/styles.css":{"title":"$:/plugins/oflg/fishing/styles.css","tags":"$:/tags/Stylesheet","text":"\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\n\n.fishingrod-button {\n    margin:0!important;\n    padding:0 5px!important;\n    width:auto!important;\n}\n\n.dropdown-more {\n    padding:3px 10px!important;\n}\n\n.tc-fishing-learning {\n    display:flex;\n    justify-content:space-between;\n    align-items:center;\n}\n\n.tc-fishing-learning-count{\n    color:grey;\n}\n\n.tc-fishing-learning-grade .learn{\n    color:green;\n    margin-left:10px;\n}\n\n.tc-fishing-learning-grade .forget{\n    color:red;\n    margin-left:10px;\n}\n\n.tc-fishing-learning-grade .remember{\n    color:green;\n    margin-left:10px;\n}\n\n.tc-fishing-learning-grade .grasp{\n    color:blue;\n    margin-left:10px;\n}\n\n.tc-fishing-learning-grade .more{\n    padding-left:10px;\n}\n\n\nblockquote.tc-fish-quote {\n    border-left: 1px solid <<colour message-border>>;\n    margin-right: 0;\n    margin-left: 5px;\n}"},"$:/config/ViewTemplateTitleFilters/fishing/caption":{"title":"$:/config/ViewTemplateTitleFilters/fishing/caption","tags":"$:/tags/ViewTemplateTitleFilter","list-before":"$:/config/ViewTemplateTitleFilters/system","text":"[{!!title}]\n:cascade[all[shadows+tiddlers]tag[$:/tags/FishingFilter/caption]!is[draft]get[text]]\n+[!is[blank]limit[1]then[$:/core/ui/ViewTemplate/fishing/caption]]"},"$:/config/FishingFilter/caption":{"title":"$:/config/FishingFilter/caption","tags":"$:/tags/FishingFilter/caption","text":"[{!!title}tag[?]]\n[{!!title}tag[!]]\n[list[$:/temp/fishing]match{!!title}]"},"$:/config/FishingFilter/learning":{"title":"$:/config/FishingFilter/learning","tags":"$:/tags/FishingFilter/learning","text":"[list[$:/temp/fishing]match{!!title}]"},"$:/config/EditTemplateFields/Visibility/due":{"title":"$:/config/EditTemplateFields/Visibility/due","text":"hide"},"$:/config/EditTemplateFields/Visibility/interval":{"title":"$:/config/EditTemplateFields/Visibility/interval","text":"hide"},"$:/config/EditTemplateFields/Visibility/grade":{"title":"$:/config/EditTemplateFields/Visibility/grade","text":"hide"},"$:/config/EditTemplateFields/Visibility/difficulty":{"title":"$:/config/EditTemplateFields/Visibility/difficulty","text":"hide"},"$:/config/EditTemplateFields/Visibility/stability":{"title":"$:/config/EditTemplateFields/Visibility/stability","text":"hide"},"$:/config/EditTemplateFields/Visibility/retrievability":{"title":"$:/config/EditTemplateFields/Visibility/retrievability","text":"hide"},"$:/config/EditTemplateFields/Visibility/lapses":{"title":"$:/config/EditTemplateFields/Visibility/lapses","text":"hide"},"$:/config/EditTemplateFields/Visibility/reps":{"title":"$:/config/EditTemplateFields/Visibility/reps","text":"hide"},"$:/config/EditTemplateFields/Visibility/review":{"title":"$:/config/EditTemplateFields/Visibility/review","text":"hide"},"$:/config/EditTemplateFields/Visibility/history":{"title":"$:/config/EditTemplateFields/Visibility/history","text":"hide"},"$:/config/FishingPluginLibrary":{"title":"$:/config/FishingPluginLibrary","caption":"{{$:/language/fishing/pluginlibrary}}","tags":"$:/tags/PluginLibrary","url":"https://tiddlymemo.org/library/","text":"{{$:/language/fishing/pluginlibrarytip}}"},"$:/core/ui/ControlPanel/Settings":{"title":"$:/core/ui/ControlPanel/Settings","caption":"{{$:/language/ControlPanel/Settings/Caption}}","tags":"$:/tags/ControlPanel","text":"<div class=\"tc-control-panel\">\n<$macrocall $name=\"tabs\" tabsList=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/SettingsTab]!is[draft]]\" default=\"$:/core/ui/ControlPanel/Settings/TiddlyWiki\" explicitState=\"$:/state/tab--697582678\"/>\n</div>\n"},"$:/core/ui/ControlPanel/Settings/Fishing/fishing":{"title":"$:/core/ui/ControlPanel/Settings/Fishing/fishing","caption":"{{$:/language/fishing/globalsettings}}","tags":"$:/tags/ControlPanel/Settings/Fishing","text":"!!!{{$:/language/fishing/setparameter}}\n\n|{{$:/language/fishing/setretention}} |<$edit-text tiddler=\"$:/plugins/oflg/fishing/data\" index=\"requestRetention\" placeholder=\"0.9\" tag=\"input\"/><br/>@@color:red;font-size:10px;{{$:/language/fishing/setretentiontip}}@@ |\n\n!!!{{$:/language/ControlPanel/Cascades/Caption}}\n\n{{$:/language/fishing/settitletip}}\n{{$:/tags/FishingFilter/caption||$:/snippets/ListTaggedCascade}}\n\n{{$:/language/fishing/setlearntip}}\n{{$:/tags/FishingFilter/learning||$:/snippets/ListTaggedCascade}}"},"$:/core/ui/ControlPanel/Settings/Fishing":{"title":"$:/core/ui/ControlPanel/Settings/Fishing","caption":"{{$:/language/fishing/fishing}}","list-after":"$:/core/ui/ControlPanel/Settings/TiddlyWiki","tags":"$:/tags/ControlPanel/SettingsTab","text":"{{$:/language/fishing/settings}}<br>\n\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings/Fishing]]\">\n\n    <div style=\"border-top:1px solid #eee;\">\n\n        !! <$transclude field=\"caption\"/>\n\n        <$transclude/>\n\n    </div>\n\n</$list>"},"$:/core/ui/ControlPanel/Settings/TiddlyWiki":{"title":"$:/core/ui/ControlPanel/Settings/TiddlyWiki","caption":"TiddlyWiki","tags":"$:/tags/ControlPanel/SettingsTab","text":"\\define lingo-base() $:/language/ControlPanel/Settings/\n\n<<lingo Hint>>\n\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings]]\">\n\n<div style=\"border-top:1px solid #eee;\">\n\n!! <$link><$transclude field=\"caption\"/></$link>\n\n<$transclude/>\n\n</div>\n\n</$list>\n"},"$:/core/ui/KeyboardShortcuts/fishing-fold":{"title":"$:/core/ui/KeyboardShortcuts/fishing-fold","key":"((fishing-fold))","tags":"$:/tags/KeyboardShortcut","text":"<$list\n    filter=\"[list[$:/temp/fishing]first[]!is[blank]]\"\n>\n    <$action-setfield\n        $tiddler={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]] }}}\n        text={{{ [list[$:/temp/fishing]first[]addprefix[$:/state/folded/]get[text]match[hide]then[show]else[hide]] }}}\n    />\n</$list>"},"$:/config/ShortcutInfo/fishing-fold":{"title":"$:/config/ShortcutInfo/fishing-fold","text":"{{$:/language/fishing/fold}}"},"$:/config/ShortcutInfo/fishing-learn":{"title":"$:/config/ShortcutInfo/fishing-learn","text":"{{$:/language/fishing/learn}}"},"$:/config/ShortcutInfo/fishing-forget":{"title":"$:/config/ShortcutInfo/fishing-forget","text":"{{$:/language/fishing/forget}}"},"$:/config/ShortcutInfo/fishing-remember":{"title":"$:/config/ShortcutInfo/fishing-remember","text":"{{$:/language/fishing/remember}}"},"$:/config/ShortcutInfo/fishing-grasp":{"title":"$:/config/ShortcutInfo/fishing-grasp","text":"{{$:/language/fishing/grasp}}"},"$:/config/ShortcutInfo/fishing-discard":{"title":"$:/config/ShortcutInfo/fishing-discard","text":"{{$:/language/fishing/discard}}"},"$:/config/shortcuts/fishing-fold":{"title":"$:/config/shortcuts/fishing-fold","text":"ctrl-Enter"},"$:/config/shortcuts/fishing-learn":{"title":"$:/config/shortcuts/fishing-learn","text":"ctrl-L"},"$:/config/shortcuts/fishing-forget":{"title":"$:/config/shortcuts/fishing-forget","text":"ctrl-0"},"$:/config/shortcuts/fishing-remember":{"title":"$:/config/shortcuts/fishing-remember","text":"ctrl-1"},"$:/config/shortcuts/fishing-grasp":{"title":"$:/config/shortcuts/fishing-grasp","text":"ctrl-2"},"$:/config/shortcuts/fishing-discard":{"title":"$:/config/shortcuts/fishing-discard","text":"ctrl-D"},"$:/core/ui/ViewTemplate/fishing/button":{"title":"$:/core/ui/ViewTemplate/fishing/button","code-body":"yes","text":"\\define fishing-button-icon()\n<$list\n    filter=\"[all[current]!has[custom-icon]]\"\n    variable=\"no-custom-icon\"\n>\n    <$transclude\n        tiddler={{!!icon}}\n    />\n</$list>\n\\end\n\n\\define fishing-button-caption()\n<$list\n    filter=\"[all[current]!has[custom-caption]]\"\n    variable=\"no-custom-caption\"\n>\n   <$wikify\n        name=\"caption-text\"\n        text={{!!caption}}\n        mode=\"inline\"\n        output=\"text\"\n    >\n        <<caption-text>>\n   </$wikify>\n</$list>\n\\end\n\n\\define fishing-button-tooltip()\n{{!!description}} <$macrocall\n    $name=\"displayshortcuts\"\n    $output=\"text/plain\"\n    shortcuts={{!!key}}\n    prefix=\"` - [\"\n    separator=\"] [\"\n    suffix=\"]`\"\n/>\n\\end\n\n\\define fishing-button()\n<$list\n    filter={{!!condition}}\n    variable=\"list-condition\"\n>\n    <$wikify\n        name=\"tooltip-text\"\n        text=<<fishing-button-tooltip>>\n        mode=\"inline\"\n        output=\"text\"\n    >\n        <$list\n            filter=\"[all[current]!has[popup]]\"\n            variable=\"no-popup\"\n        >\n            <$set\n                name=disabled\n                filter={{!!condition-disabled}}\n            >\n                <$button\n                    class=\"tc-btn-invisible $(buttonClasses)$\"\n                    tooltip=<<tooltip-text>>\n                    aria-label=<<tooltip-text>>\n                    actions={{!!actions}}\n                    disabled=<<disabled>>\n                >\n                    <<fishing-button-icon>>\n                    <<fishing-button-caption>>\n                    <$transclude\n                        tiddler=<<currentTiddler>>\n                        field=\"text\"\n                    />\n                </$button>\n            </$set>\n        </$list>\n        <$list\n            filter=\"[all[current]has[popup]]\"\n            variable=\"popup\"\n        >\n            <$set\n                name=\"popup-state\"\n                value=<<qualify \"$:/state/FishingButtonPopup\">>\n            >\n                <$set\n                    name=disabled\n                    filter={{!!condition-disabled}}\n                >\n                    <$button\n                        popup=<<popup-state>>\n                        class=\"tc-popup-keep tc-btn-invisible $(buttonClasses)$\"\n                        selectedClass=\"tc-selected\"\n                        tooltip=<<tooltip-text>>\n                        actions={{!!actions}}\n                        disabled=<<disabled>>\n                    >\n                        <<fishing-button-icon>>\n                        <<fishing-button-caption>>\n                        <$transclude\n                            tiddler=<<currentTiddler>>\n                            field=\"text\"\n                        />\n                    </$button>\n                </$set>\n                <$reveal\n                    state=<<popup-state>>\n                    type=\"popup\"\n                    position={{{ [{!!position}] ~[[below]] }}}\n                    animate=\"yes\"\n                    tag=\"span\"\n                >\n                    <div\n                        class=\"tc-drop-down tc-popup-keep\"\n                        style=\"min-width:0;\"\n                    >\n                        <$transclude\n                            tiddler={{!!popup}}\n                            mode=\"inline\"\n                        />\n                    </div>\n                </$reveal>\n            </$set>\n        </$list>\n    </$wikify>\n</$list>\n\\end\n\n\\define fishing-button-outer()\n<$set\n    name=\"buttonClasses\"\n    value={{!!button-classes}}\n>\n    <<fishing-button>>\n</$set>\n\\end\n\n<<fishing-button-outer>>"},"$:/core/ui/ViewTemplate/fishing/caption":{"title":"$:/core/ui/ViewTemplate/fishing/caption","code-body":"yes","text":"<<toc-caption>>"},"$:/core/ui/ViewTemplate/fishing/fold":{"title":"$:/core/ui/ViewTemplate/fishing/fold","tags":"$:/tags/ViewTemplate","list-after":"$:/core/ui/ViewTemplate/title","code-body":"yes","text":"<$list\n    filter=\"[{!!title}] :cascade[all[shadows+tiddlers]tag[$:/tags/FishingFilter/learning]!is[draft]get[text]] +[!is[blank]limit[1]]\"\n    variable=\"null\"\n>\n    <$reveal\n        state=\"$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar\"\n        type=\"nomatch\"\n        text=\"show\"\n        animate=\"yes\"\n    >\n            <$reveal\n                    tag=\"div\"\n                    type=\"nomatch\"\n                    stateTitle=<<folded-state>>\n                    text=\"hide\"\n                    default=\"show\"\n                    retain=\"yes\"\n                    animate=\"yes\"\n            >\n                    <$button\n                    tooltip={{$:/language/Buttons/Fold/Hint}}\n                    aria-label={{$:/language/Buttons/Fold/Caption}}\n                    class=\"tc-fold-banner\"\n                    >\n                            <$action-sendmessage\n                                    $message=\"tm-fold-tiddler\"\n                                    $param=<<currentTiddler>>\n                                    foldedState=<<folded-state>>\n                            />\n                            {{$:/core/images/chevron-up}}\n                    </$button>\n            </$reveal>\n            <$reveal\n                    tag=\"div\"\n                    type=\"nomatch\"\n                    stateTitle=<<folded-state>>\n                    text=\"show\"\n                    default=\"show\"\n                    retain=\"yes\"\n                    animate=\"yes\"\n            >\n                    <$button\n                    tooltip={{$:/language/Buttons/Unfold/Hint}}\n                    aria-label={{$:/language/Buttons/Unfold/Caption}}\n                    class=\"tc-unfold-banner\"\n                    >\n                    <$action-sendmessage\n                            $message=\"tm-fold-tiddler\"\n                            $param=<<currentTiddler>>\n                            foldedState=<<folded-state>>\n                    />\n                    {{$:/core/images/chevron-down}}\n                    </$button>\n            </$reveal>\n    </$reveal>\n</$list>"},"$:/core/ui/ViewTemplate/fishing/learning":{"title":"$:/core/ui/ViewTemplate/fishing/learning","tags":"$:/tags/ViewTemplate","list-after":"$:/core/ui/ViewTemplate/body","code-body":"yes","text":"<$list\n    filter=\"[{!!title}]\n            :cascade[all[shadows+tiddlers]tag[$:/tags/FishingFilter/learning]!is[draft]get[text]]\n            +[!is[blank]limit[1]]\"\n    variable=\"targetTiddler\"\n>\n    <$reveal\n        state=<<folded-state>>\n        type=\"nomatch\"\n        text=\"hide\"\n        animate=\"yes\"\n    >\n        <div\n            class=\"tc-fishing-learning\"\n        >\n            <!-- creat count -->\n            <div\n                class=\"tc-fishing-learning-count\"\n            >\n                <$count filter=\"[subfilter{$:/temp/fishing!!fishingrod}subfilter{$:/temp/fishing!!fishingpond}]\"/>\n            </div>\n            <!-- creat grade button -->\n            <div\n                class=\"tc-fishing-learning-grade\"\n            >\n                <$list\n                    filter=\"[all[shadows+tiddlers]tag[$:/tags/Learning]!is[draft]]\"\n                >\n                    <$transclude\n                        tiddler=\"$:/core/ui/ViewTemplate/fishing/button\"\n                        mode=\"inline\"\n                    />\n                </$list>\n            </div>\n        </div>\n    </$reveal>\n</$list>"},"$:/plugins/oflg/fishing/widgets/action-exportdata.js":{"title":"$:/plugins/oflg/fishing/widgets/action-exportdata.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/widgets/action-exportdata.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to export fsrs data.\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    var Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\n    var ExportdataWidget = function (parseTreeNode, options) {\n        this.initialise(parseTreeNode, options);\n    };\n\n    /*\n    Inherit from the base widget class\n    */\n    ExportdataWidget.prototype = new Widget();\n\n    /*\n    Render this widget into the DOM\n    */\n    ExportdataWidget.prototype.render = function (parent, nextSibling) {\n        this.computeAttributes();\n        this.execute();\n    };\n\n    /*\n    Compute the internal state of the widget\n    */\n    ExportdataWidget.prototype.execute = function () {\n        this.actionTiddler = this.getAttribute(\"$tiddler\", \"$:/temp/fishing/fsrsdata\");\n        this.actionTimestamp = this.getAttribute(\"$timestamp\", \"yes\") === \"yes\";\n    };\n\n    /*\n    Refresh the widget by ensuring our attributes are up to date\n    */\n    ExportdataWidget.prototype.refresh = function (changedTiddlers) {\n        var changedAttributes = this.computeAttributes();\n        if (changedAttributes[\"$tiddler\"] || changedAttributes[\"$timestamp\"]) {\n            this.refreshSelf();\n            return true;\n        }\n        return this.refreshChildren(changedTiddlers);\n    };\n\n    /*\n    Invoke the action associated with this widget\n    */\n    ExportdataWidget.prototype.invokeAction = function (triggeringWidget, event) {\n        var title = this.actionTiddler;\n\n        var tiddlerArry = $tw.wiki.filterTiddlers(\"[has[history]]\");\n\n        var data = {};\n\n        var globalData = $tw.wiki.getTiddlerData('$:/plugins/oflg/fishing/data');\n\n        data.globalData = globalData;\n\n        data.cardsData = [];\n\n        function getJson(jsonString) {\n            jsonString = jsonString || \"[]\";\n            var result = [];\n            try {\n                result = JSON.parse(jsonString);\n            } catch (error) {\n                console.log(\"JSON error : \" + error);\n                console.log(jsonString);\n            }\n            return result;\n        }\n\n        for (var f = 0; f < tiddlerArry.length; f++) {\n\n            var tiddlerData = $tw.wiki.getTiddler(tiddlerArry[f]).fields;\n\n            var tiddlerDue = String(tiddlerData.due),\n                tiddlerInterval = Number(tiddlerData.interval),\n                tiddlerDifficulty = Number(tiddlerData.difficulty),\n                tiddlerStability = Number(tiddlerData.stability),\n                tiddlerRetrievability = Number(tiddlerData.retrievability),\n                tiddlerGrade = Number(tiddlerData.grade),\n                tiddlerLapses = Number(tiddlerData.lapses),\n                tiddlerReps = Number(tiddlerData.reps),\n                tiddlerReview = String(tiddlerData.review),\n                tiddlerHistory = String(tiddlerData.history);\n\n            var tiddlerHistoryArry = getJson(tiddlerHistory);\n\n            if (typeof tiddlerGrade === 'number' && !isNaN(tiddlerGrade)) {\n\n                tiddlerHistoryArry.push({\n                    due: tiddlerDue,\n                    interval: tiddlerInterval,\n                    difficulty: tiddlerDifficulty,\n                    stability: tiddlerStability,\n                    retrievability: tiddlerRetrievability,\n                    grade: tiddlerGrade,\n                    lapses: tiddlerLapses,\n                    reps: tiddlerReps,\n                    review: tiddlerReview\n                });\n            }\n\n            if (tiddlerHistoryArry.length > 0) {\n\n                data.cardsData.push(tiddlerHistoryArry);\n            }\n        }\n\n        var creationFields = this.actionTimestamp ? $tw.wiki.getCreationFields() : undefined,\n            modificationFields = this.actionTimestamp ? $tw.wiki.getModificationFields() : undefined;\n\n        $tw.wiki.addTiddler(\n            new $tw.Tiddler($tw.wiki.getCreationFields(), { title, text: JSON.stringify(data) }, modificationFields)\n        );\n\n        return true;// Action was invoked\n    };\n\n    exports[\"action-exportdata\"] = ExportdataWidget;\n})();","type":"application/javascript","module-type":"widget"},"$:/plugins/oflg/fishing/widgets/action-learn.js":{"title":"$:/plugins/oflg/fishing/widgets/action-learn.js","text":"/*\\\ntitle: $:/plugins/oflg/fishing/widgets/action-learn.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to set fishing fields on tiddlers.\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \"use strict\";\n\n    var Widget = require(\"$:/core/modules/widgets/widget.js\").widget;\n\n    var LearnWidget = function (parseTreeNode, options) {\n        this.initialise(parseTreeNode, options);\n    };\n\n    /*\n    Inherit from the base widget class\n    */\n    LearnWidget.prototype = new Widget();\n\n    /*\n    Render this widget into the DOM\n    */\n    LearnWidget.prototype.render = function (parent, nextSibling) {\n        this.computeAttributes();\n        this.execute();\n    };\n\n    /*\n    Compute the internal state of the widget\n    */\n    LearnWidget.prototype.execute = function () {\n        this.actionTiddler = this.getAttribute(\"$tiddler\", this.getVariable(\"currentTiddler\"));\n        this.actionGrade = this.getAttribute(\"$grade\");\n        this.actionTimestamp = this.getAttribute(\"$timestamp\", \"yes\") === \"yes\";\n    };\n\n    /*\n    Refresh the widget by ensuring our attributes are up to date\n    */\n    LearnWidget.prototype.refresh = function (changedTiddlers) {\n        var changedAttributes = this.computeAttributes();\n        if (changedAttributes[\"$tiddler\"] || changedAttributes[\"$grade\"] || changedAttributes[\"$timestamp\"]) {\n            this.refreshSelf();\n            return true;\n        }\n        return this.refreshChildren(changedTiddlers);\n    };\n\n    /*\n    Invoke the action associated with this widget\n    */\n    LearnWidget.prototype.invokeAction = function (triggeringWidget, event) {\n        var title = this.actionTiddler,\n            grade = this.actionGrade;\n\n        var data = $tw.macros.fsrs.run(title, grade);//Use Free Spaced Repetition Scheduler in $:/plugins/oflg/fishing/macros/fsrs.js\n\n        var creationFields = this.actionTimestamp ? $tw.wiki.getCreationFields() : undefined,\n            modificationFields = this.actionTimestamp ? $tw.wiki.getModificationFields() : undefined;\n\n        $tw.wiki.addTiddler(\n            new $tw.Tiddler(creationFields, $tw.wiki.getTiddler(title), modificationFields, data.tiddlerData)\n        );\n\n        $tw.wiki.addTiddler(\n            new $tw.Tiddler(creationFields, $tw.wiki.getTiddler(\"$:/plugins/oflg/fishing/data\"), modificationFields, {\n                text: JSON.stringify(data.globalData)\n            })\n        );\n\n        return true;// Action was invoked\n    };\n\n    exports[\"action-learn\"] = LearnWidget;\n})();","type":"application/javascript","module-type":"widget"}}}
>>>>>>> f55773e (Commit with Git-Sync-JS)
